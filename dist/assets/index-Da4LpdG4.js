var T_=t=>{throw TypeError(t)};var dp=(t,e,n)=>e.has(t)||T_("Cannot "+n);var U=(t,e,n)=>(dp(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?T_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(dp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pt=(t,e,n)=>(dp(t,e,"access private method"),n);var Iu=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return U(t,e,r)}});function I1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pb={exports:{}},Mh={},kb={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),S1=Symbol.for("react.portal"),C1=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),O1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),I_=Symbol.iterator;function j1(t){return t===null||typeof t!="object"?null:(t=I_&&t[I_]||t["@@iterator"],typeof t=="function"?t:null)}var Nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Db=Object.assign,Ob={};function za(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Nb}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mb(){}Mb.prototype=za.prototype;function uy(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Nb}var dy=uy.prototype=new Mb;dy.constructor=uy;Db(dy,za.prototype);dy.isPureReactComponent=!0;var S_=Array.isArray,jb=Object.prototype.hasOwnProperty,hy={current:null},Lb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jb.call(e,r)&&!Lb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fc,type:t,key:i,ref:o,props:s,_owner:hy.current}}function L1(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function V1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C_=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V1(""+t.key):e.toString(36)}function ld(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case S1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hp(o,0):r,S_(s)?(n="",t!=null&&(n=t.replace(C_,"$&/")+"/"),ld(s,e,n,"",function(u){return u})):s!=null&&(fy(s)&&(s=L1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",S_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hp(i,a);o+=ld(i,e,n,l,s)}else if(l=j1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hp(i,a++),o+=ld(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Su(t,e,n){if(t==null)return t;var r=[],s=0;return ld(t,r,"","",function(i){return e.call(n,i,s++)}),r}function F1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},cd={transition:null},U1={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:cd,ReactCurrentOwner:hy};pe.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!fy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=za;pe.Fragment=C1;pe.Profiler=R1;pe.PureComponent=uy;pe.StrictMode=A1;pe.Suspense=D1;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Db({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jb.call(e,l)&&!Lb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fc,type:t.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:k1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P1,_context:t},t.Consumer=t};pe.createElement=Vb;pe.createFactory=function(t){var e=Vb.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:N1,render:t}};pe.isValidElement=fy;pe.lazy=function(t){return{$$typeof:M1,_payload:{_status:-1,_result:t},_init:F1}};pe.memo=function(t,e){return{$$typeof:O1,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return Qt.current.useCallback(t,e)};pe.useContext=function(t){return Qt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Qt.current.useEffect(t,e)};pe.useId=function(){return Qt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Qt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};pe.useRef=function(t){return Qt.current.useRef(t)};pe.useState=function(t){return Qt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Qt.current.useTransition()};pe.version="18.2.0";kb.exports=pe;var b=kb.exports;const H=Rb(b),Fb=I1({__proto__:null,default:H},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=b,$1=Symbol.for("react.element"),B1=Symbol.for("react.fragment"),H1=Object.prototype.hasOwnProperty,W1=z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q1={key:!0,ref:!0,__self:!0,__source:!0};function Ub(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)H1.call(e,r)&&!q1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$1,type:t,key:i,ref:o,props:s,_owner:W1.current}}Mh.Fragment=B1;Mh.jsx=Ub;Mh.jsxs=Ub;Pb.exports=Mh;var d=Pb.exports,zb={exports:{}},xn={},$b={exports:{}},Bb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var K=F.length;F.push($);e:for(;0<K;){var ie=K-1>>>1,X=F[ie];if(0<s(X,$))F[ie]=$,F[K]=X,K=ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],K=F.pop();if(K!==$){F[0]=K;e:for(var ie=0,X=F.length,te=X>>>1;ie<te;){var de=2*(ie+1)-1,Ne=F[de],ft=de+1,me=F[ft];if(0>s(Ne,K))ft<X&&0>s(me,Ne)?(F[ie]=me,F[ft]=K,ie=ft):(F[ie]=Ne,F[de]=K,ie=de);else if(ft<X&&0>s(me,K))F[ie]=me,F[ft]=K,ie=ft;else break e}}return $}function s(F,$){var K=F.sortIndex-$.sortIndex;return K!==0?K:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,g=!1,E=!1,y=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(F){if(y=!1,x(F),!E)if(n(l)!==null)E=!0,J(P);else{var $=n(u);$!==null&&Z(C,$.startTime-F)}}function P(F,$){E=!1,y&&(y=!1,w(T),T=-1),g=!0;var K=p;try{for(x($),f=n(l);f!==null&&(!(f.expirationTime>$)||F&&!D());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var X=ie(f.expirationTime<=$);$=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x($)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var de=n(u);de!==null&&Z(C,de.startTime-$),te=!1}return te}finally{f=null,p=K,g=!1}}var M=!1,S=null,T=-1,A=5,k=-1;function D(){return!(t.unstable_now()-k<A)}function O(){if(S!==null){var F=t.unstable_now();k=F;var $=!0;try{$=S(!0,F)}finally{$?N():(M=!1,S=null)}}else M=!1}var N;if(typeof _=="function")N=function(){_(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ee=L.port2;L.port1.onmessage=O,N=function(){ee.postMessage(null)}}else N=function(){I(O,0)};function J(F){S=F,M||(M=!0,N())}function Z(F,$){T=I(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,J(P))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var K=p;p=$;try{return F()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=p;p=F;try{return $()}finally{p=K}},t.unstable_scheduleCallback=function(F,$,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,F={id:h++,callback:$,priorityLevel:F,startTime:K,expirationTime:X,sortIndex:-1},K>ie?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(y?(w(T),T=-1):y=!0,Z(C,K-ie))):(F.sortIndex=X,e(l,F),E||g||(E=!0,J(P))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var $=p;return function(){var K=p;p=$;try{return F.apply(this,arguments)}finally{p=K}}}})(Bb);$b.exports=Bb;var K1=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=b,wn=K1;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wb=new Set,nc={};function uo(t,e){ba(t,e),ba(t+"Capture",e)}function ba(t,e){for(nc[t]=e,t=0;t<e.length;t++)Wb.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,G1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A_={},R_={};function Q1(t){return bm.call(R_,t)?!0:bm.call(A_,t)?!1:G1.test(t)?R_[t]=!0:(A_[t]=!0,!1)}function Y1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X1(t,e,n,r){if(e===null||typeof e>"u"||Y1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function my(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(py,my);St[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(py,my);St[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(py,my);St[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gy(t,e,n,r){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X1(e,n,s,r)&&(n=null),r||s===null?Q1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var as=Hb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cu=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),yy=Symbol.for("react.strict_mode"),Tm=Symbol.for("react.profiler"),qb=Symbol.for("react.provider"),Kb=Symbol.for("react.context"),vy=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),wy=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),P_=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,fp;function Il(t){if(fp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fp=e&&e[1]||""}return`
`+fp+t}var pp=!1;function mp(t,e){if(!t||pp)return"";pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Il(t):""}function J1(t){switch(t.tag){case 5:return Il(t.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return t=mp(t.type,!1),t;case 11:return t=mp(t.type.render,!1),t;case 1:return t=mp(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Vo:return"Portal";case Tm:return"Profiler";case yy:return"StrictMode";case Im:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kb:return(t.displayName||"Context")+".Consumer";case qb:return(t._context.displayName||"Context")+".Provider";case vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wy:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function Z1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eN(t){var e=Qb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=eN(t))}function Yb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Am(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function k_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xb(t,e){e=e.checked,e!=null&&gy(t,"checked",e,!1)}function Rm(t,e){Xb(t,e);var n=ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pm(t,e.type,ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pm(t,e,n){(e!=="number"||jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Sl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ni(n)}}function Jb(t,e){var n=ni(e.value),r=ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,eT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tN=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(t){tN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vl[e]=Vl[t]})});function tT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vl.hasOwnProperty(t)&&Vl[t]?(""+e).trim():e+"px"}function nT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var nN=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(nN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function _y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,Zo=null,ea=null;function M_(t){if(t=$c(t)){if(typeof jm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Uh(e),jm(t.stateNode,t.type,e))}}function rT(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function sT(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,M_(t),e)for(t=0;t<e.length;t++)M_(e[t])}}function iT(t,e){return t(e)}function oT(){}var gp=!1;function aT(t,e,n){if(gp)return t(e,n);gp=!0;try{return iT(t,e,n)}finally{gp=!1,(Zo!==null||ea!==null)&&(oT(),sT())}}function sc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Lm=!1;if(Qr)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Lm=!1}function rN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Fl=!1,Ld=null,Vd=!1,Vm=null,sN={onError:function(t){Fl=!0,Ld=t}};function iN(t,e,n,r,s,i,o,a,l){Fl=!1,Ld=null,rN.apply(sN,arguments)}function oN(t,e,n,r,s,i,o,a,l){if(iN.apply(this,arguments),Fl){if(Fl){var u=Ld;Fl=!1,Ld=null}else throw Error(W(198));Vd||(Vd=!0,Vm=u)}}function ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j_(t){if(ho(t)!==t)throw Error(W(188))}function aN(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return j_(s),t;if(i===r)return j_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function cT(t){return t=aN(t),t!==null?uT(t):null}function uT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uT(t);if(e!==null)return e;t=t.sibling}return null}var dT=wn.unstable_scheduleCallback,L_=wn.unstable_cancelCallback,lN=wn.unstable_shouldYield,cN=wn.unstable_requestPaint,rt=wn.unstable_now,uN=wn.unstable_getCurrentPriorityLevel,xy=wn.unstable_ImmediatePriority,hT=wn.unstable_UserBlockingPriority,Fd=wn.unstable_NormalPriority,dN=wn.unstable_LowPriority,fT=wn.unstable_IdlePriority,jh=null,gr=null;function hN(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:mN,fN=Math.log,pN=Math.LN2;function mN(t){return t>>>=0,t===0?32:31-(fN(t)/pN|0)|0}var Pu=64,ku=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Cl(a):(i&=o,i!==0&&(r=Cl(i)))}else o=n&~s,o!==0?r=Cl(o):i!==0&&(r=Cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gn(e),s=1<<n,r|=t[n],e&=~s;return r}function gN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Gn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=gN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pT(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function vN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function mT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gT,by,yT,vT,wT,Um=!1,Nu=[],$s=null,Bs=null,Hs=null,ic=new Map,oc=new Map,Ss=[],wN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V_(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":ic.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$c(e),e!==null&&by(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _N(t,e,n,r,s){switch(e){case"focusin":return $s=gl($s,t,e,n,r,s),!0;case"dragenter":return Bs=gl(Bs,t,e,n,r,s),!0;case"mouseover":return Hs=gl(Hs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ic.set(i,gl(ic.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oc.set(i,gl(oc.get(i)||null,t,e,n,r,s)),!0}return!1}function _T(t){var e=ji(t.target);if(e!==null){var n=ho(e);if(n!==null){if(e=n.tag,e===13){if(e=lT(n),e!==null){t.blockedOn=e,wT(t.priority,function(){yT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=$c(n),e!==null&&by(e),t.blockedOn=n,!1;e.shift()}return!0}function F_(t,e,n){ud(t)&&n.delete(e)}function xN(){Um=!1,$s!==null&&ud($s)&&($s=null),Bs!==null&&ud(Bs)&&(Bs=null),Hs!==null&&ud(Hs)&&(Hs=null),ic.forEach(F_),oc.forEach(F_)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Um||(Um=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,xN)))}function ac(t){function e(s){return yl(s,t)}if(0<Nu.length){yl(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for($s!==null&&yl($s,t),Bs!==null&&yl(Bs,t),Hs!==null&&yl(Hs,t),ic.forEach(e),oc.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)_T(n),n.blockedOn===null&&Ss.shift()}var ta=as.ReactCurrentBatchConfig,zd=!0;function EN(t,e,n,r){var s=Ae,i=ta.transition;ta.transition=null;try{Ae=1,Ty(t,e,n,r)}finally{Ae=s,ta.transition=i}}function bN(t,e,n,r){var s=Ae,i=ta.transition;ta.transition=null;try{Ae=4,Ty(t,e,n,r)}finally{Ae=s,ta.transition=i}}function Ty(t,e,n,r){if(zd){var s=zm(t,e,n,r);if(s===null)Cp(t,e,r,$d,n),V_(t,r);else if(_N(s,t,e,n,r))r.stopPropagation();else if(V_(t,r),e&4&&-1<wN.indexOf(t)){for(;s!==null;){var i=$c(s);if(i!==null&&gT(i),i=zm(t,e,n,r),i===null&&Cp(t,e,r,$d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cp(t,e,r,null,n)}}var $d=null;function zm(t,e,n,r){if($d=null,t=_y(r),t=ji(t),t!==null)if(e=ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function xT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uN()){case xy:return 1;case hT:return 4;case Fd:case dN:return 16;case fT:return 536870912;default:return 16}default:return 16}}var Vs=null,Iy=null,dd=null;function ET(){if(dd)return dd;var t,e=Iy,n=e.length,r,s="value"in Vs?Vs.value:Vs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return dd=s.slice(t,1<r?1-r:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function U_(){return!1}function En(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:U_,this.isPropagationStopped=U_,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=En($a),zc=Ke({},$a,{view:0,detail:0}),TN=En(zc),vp,wp,vl,Lh=Ke({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(vp=t.screenX-vl.screenX,wp=t.screenY-vl.screenY):wp=vp=0,vl=t),vp)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),z_=En(Lh),IN=Ke({},Lh,{dataTransfer:0}),SN=En(IN),CN=Ke({},zc,{relatedTarget:0}),_p=En(CN),AN=Ke({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),RN=En(AN),PN=Ke({},$a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kN=En(PN),NN=Ke({},$a,{data:0}),$_=En(NN),DN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MN[t])?!!e[t]:!1}function Cy(){return jN}var LN=Ke({},zc,{key:function(t){if(t.key){var e=DN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ON[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VN=En(LN),FN=Ke({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B_=En(FN),UN=Ke({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),zN=En(UN),$N=Ke({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),BN=En($N),HN=Ke({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WN=En(HN),qN=[9,13,27,32],Ay=Qr&&"CompositionEvent"in window,Ul=null;Qr&&"documentMode"in document&&(Ul=document.documentMode);var KN=Qr&&"TextEvent"in window&&!Ul,bT=Qr&&(!Ay||Ul&&8<Ul&&11>=Ul),H_=" ",W_=!1;function TT(t,e){switch(t){case"keyup":return qN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function GN(t,e){switch(t){case"compositionend":return IT(e);case"keypress":return e.which!==32?null:(W_=!0,H_);case"textInput":return t=e.data,t===H_&&W_?null:t;default:return null}}function QN(t,e){if(Uo)return t==="compositionend"||!Ay&&TT(t,e)?(t=ET(),dd=Iy=Vs=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bT&&e.locale!=="ko"?null:e.data;default:return null}}var YN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YN[t.type]:e==="textarea"}function ST(t,e,n,r){rT(r),e=Bd(e,"onChange"),0<e.length&&(n=new Sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zl=null,lc=null;function XN(t){LT(t,0)}function Vh(t){var e=Bo(t);if(Yb(e))return t}function JN(t,e){if(t==="change")return e}var CT=!1;if(Qr){var xp;if(Qr){var Ep="oninput"in document;if(!Ep){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Ep=typeof K_.oninput=="function"}xp=Ep}else xp=!1;CT=xp&&(!document.documentMode||9<document.documentMode)}function G_(){zl&&(zl.detachEvent("onpropertychange",AT),lc=zl=null)}function AT(t){if(t.propertyName==="value"&&Vh(lc)){var e=[];ST(e,lc,t,_y(t)),aT(XN,e)}}function ZN(t,e,n){t==="focusin"?(G_(),zl=e,lc=n,zl.attachEvent("onpropertychange",AT)):t==="focusout"&&G_()}function eD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(lc)}function tD(t,e){if(t==="click")return Vh(e)}function nD(t,e){if(t==="input"||t==="change")return Vh(e)}function rD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:rD;function cc(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bm.call(e,s)||!Xn(t[s],e[s]))return!1}return!0}function Q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y_(t,e){var n=Q_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q_(n)}}function RT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PT(){for(var t=window,e=jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jd(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sD(t){var e=PT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RT(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Y_(n,i);var o=Y_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iD=Qr&&"documentMode"in document&&11>=document.documentMode,zo=null,$m=null,$l=null,Bm=!1;function X_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||zo==null||zo!==jd(r)||(r=zo,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&cc($l,r)||($l=r,r=Bd($m,"onSelect"),0<r.length&&(e=new Sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zo)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},bp={},kT={};Qr&&(kT=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Fh(t){if(bp[t])return bp[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kT)return bp[t]=e[n];return t}var NT=Fh("animationend"),DT=Fh("animationiteration"),OT=Fh("animationstart"),MT=Fh("transitionend"),jT=new Map,J_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){jT.set(t,e),uo(e,[t])}for(var Tp=0;Tp<J_.length;Tp++){var Ip=J_[Tp],oD=Ip.toLowerCase(),aD=Ip[0].toUpperCase()+Ip.slice(1);gi(oD,"on"+aD)}gi(NT,"onAnimationEnd");gi(DT,"onAnimationIteration");gi(OT,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(MT,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function Z_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oN(r,e,void 0,t),t.currentTarget=null}function LT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Z_(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Z_(s,a,u),i=l}}}if(Vd)throw t=Vm,Vd=!1,Vm=null,t}function Ve(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(VT(e,t,2,!1),n.add(r))}function Sp(t,e,n){var r=0;e&&(r|=4),VT(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function uc(t){if(!t[Mu]){t[Mu]=!0,Wb.forEach(function(n){n!=="selectionchange"&&(lD.has(n)||Sp(n,!1,t),Sp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,Sp("selectionchange",!1,e))}}function VT(t,e,n,r){switch(xT(e)){case 1:var s=EN;break;case 4:s=bN;break;default:s=Ty}n=s.bind(null,e,n,t),s=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}aT(function(){var u=i,h=_y(n),f=[];e:{var p=jT.get(t);if(p!==void 0){var g=Sy,E=t;switch(t){case"keypress":if(hd(n)===0)break e;case"keydown":case"keyup":g=VN;break;case"focusin":E="focus",g=_p;break;case"focusout":E="blur",g=_p;break;case"beforeblur":case"afterblur":g=_p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=z_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zN;break;case NT:case DT:case OT:g=RN;break;case MT:g=BN;break;case"scroll":g=TN;break;case"wheel":g=WN;break;case"copy":case"cut":case"paste":g=kN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=B_}var y=(e&4)!==0,I=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,x;_!==null;){x=_;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,w!==null&&(C=sc(_,w),C!=null&&y.push(dc(_,C,x)))),I)break;_=_.return}0<y.length&&(p=new g(p,E,null,n,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Mm&&(E=n.relatedTarget||n.fromElement)&&(ji(E)||E[Yr]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?ji(E):null,E!==null&&(I=ho(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(y=z_,C="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=B_,C="onPointerLeave",w="onPointerEnter",_="pointer"),I=g==null?p:Bo(g),x=E==null?p:Bo(E),p=new y(C,_+"leave",g,n,h),p.target=I,p.relatedTarget=x,C=null,ji(h)===u&&(y=new y(w,_+"enter",E,n,h),y.target=x,y.relatedTarget=I,C=y),I=C,g&&E)t:{for(y=g,w=E,_=0,x=y;x;x=Ro(x))_++;for(x=0,C=w;C;C=Ro(C))x++;for(;0<_-x;)y=Ro(y),_--;for(;0<x-_;)w=Ro(w),x--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ro(y),w=Ro(w)}y=null}else y=null;g!==null&&e0(f,p,g,y,!1),E!==null&&I!==null&&e0(f,I,E,y,!0)}}e:{if(p=u?Bo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=JN;else if(q_(p))if(CT)P=nD;else{P=eD;var M=ZN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=tD);if(P&&(P=P(t,u))){ST(f,P,n,h);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Pm(p,"number",p.value)}switch(M=u?Bo(u):window,t){case"focusin":(q_(M)||M.contentEditable==="true")&&(zo=M,$m=u,$l=null);break;case"focusout":$l=$m=zo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,X_(f,n,h);break;case"selectionchange":if(iD)break;case"keydown":case"keyup":X_(f,n,h)}var S;if(Ay)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Uo?TT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bT&&n.locale!=="ko"&&(Uo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Uo&&(S=ET()):(Vs=h,Iy="value"in Vs?Vs.value:Vs.textContent,Uo=!0)),M=Bd(u,T),0<M.length&&(T=new $_(T,t,null,n,h),f.push({event:T,listeners:M}),S?T.data=S:(S=IT(n),S!==null&&(T.data=S)))),(S=KN?GN(t,n):QN(t,n))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(h=new $_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}LT(f,e)})}function dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sc(t,n),i!=null&&r.unshift(dc(t,i,s)),i=sc(t,e),i!=null&&r.push(dc(t,i,s))),t=t.return}return r}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function e0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=sc(n,i),l!=null&&o.unshift(dc(n,l,a))):s||(l=sc(n,i),l!=null&&o.push(dc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function t0(t){return(typeof t=="string"?t:""+t).replace(cD,`
`).replace(uD,"")}function ju(t,e,n){if(e=t0(e),t0(t)!==e&&n)throw Error(W(425))}function Hd(){}var Hm=null,Wm=null;function qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Km=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,hD=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(t){return n0.resolve(null).then(t).catch(fD)}:Km;function fD(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ac(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ba,hc="__reactProps$"+Ba,Yr="__reactContainer$"+Ba,Gm="__reactEvents$"+Ba,pD="__reactListeners$"+Ba,mD="__reactHandles$"+Ba;function ji(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r0(t);t!==null;){if(n=t[fr])return n;t=r0(t)}return e}t=n,n=t.parentNode}return null}function $c(t){return t=t[fr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Uh(t){return t[hc]||null}var Qm=[],Ho=-1;function yi(t){return{current:t}}function ze(t){0>Ho||(t.current=Qm[Ho],Qm[Ho]=null,Ho--)}function Me(t,e){Ho++,Qm[Ho]=t.current,t.current=e}var ri={},Ut=yi(ri),sn=yi(!1),Qi=ri;function Ta(t,e){var n=t.type.contextTypes;if(!n)return ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function Wd(){ze(sn),ze(Ut)}function s0(t,e,n){if(Ut.current!==ri)throw Error(W(168));Me(Ut,e),Me(sn,n)}function FT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,Z1(t)||"Unknown",s));return Ke({},n,r)}function qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,Qi=Ut.current,Me(Ut,t),Me(sn,sn.current),!0}function i0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=FT(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,ze(sn),ze(Ut),Me(Ut,t)):ze(sn),Me(sn,n)}var Fr=null,zh=!1,Rp=!1;function UT(t){Fr===null?Fr=[t]:Fr.push(t)}function gD(t){zh=!0,UT(t)}function vi(){if(!Rp&&Fr!==null){Rp=!0;var t=0,e=Ae;try{var n=Fr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,zh=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(t+1)),dT(xy,vi),s}finally{Ae=e,Rp=!1}}return null}var Wo=[],qo=0,Kd=null,Gd=0,Pn=[],kn=0,Yi=null,zr=1,$r="";function Di(t,e){Wo[qo++]=Gd,Wo[qo++]=Kd,Kd=t,Gd=e}function zT(t,e,n){Pn[kn++]=zr,Pn[kn++]=$r,Pn[kn++]=Yi,Yi=t;var r=zr;t=$r;var s=32-Gn(r)-1;r&=~(1<<s),n+=1;var i=32-Gn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,zr=1<<32-Gn(e)+s|n<<s|r,$r=i+t}else zr=1<<i|n<<s|r,$r=t}function Py(t){t.return!==null&&(Di(t,1),zT(t,1,0))}function ky(t){for(;t===Kd;)Kd=Wo[--qo],Wo[qo]=null,Gd=Wo[--qo],Wo[qo]=null;for(;t===Yi;)Yi=Pn[--kn],Pn[kn]=null,$r=Pn[--kn],Pn[kn]=null,zr=Pn[--kn],Pn[kn]=null}var yn=null,pn=null,Be=!1,Kn=null;function $T(t,e){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,pn=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:zr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,pn=null,!0):!1;default:return!1}}function Ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Be){var e=pn;if(e){var n=e;if(!o0(t,e)){if(Ym(t))throw Error(W(418));e=Ws(n.nextSibling);var r=yn;e&&o0(t,e)?$T(r,n):(t.flags=t.flags&-4097|2,Be=!1,yn=t)}}else{if(Ym(t))throw Error(W(418));t.flags=t.flags&-4097|2,Be=!1,yn=t}}}function a0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Lu(t){if(t!==yn)return!1;if(!Be)return a0(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qm(t.type,t.memoizedProps)),e&&(e=pn)){if(Ym(t))throw BT(),Error(W(418));for(;e;)$T(t,e),e=Ws(e.nextSibling)}if(a0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=yn?Ws(t.stateNode.nextSibling):null;return!0}function BT(){for(var t=pn;t;)t=Ws(t.nextSibling)}function Ia(){pn=yn=null,Be=!1}function Ny(t){Kn===null?Kn=[t]:Kn.push(t)}var yD=as.ReactCurrentBatchConfig;function $n(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qd=yi(null),Yd=null,Ko=null,Dy=null;function Oy(){Dy=Ko=Yd=null}function My(t){var e=Qd.current;ze(Qd),t._currentValue=e}function Jm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Yd=t,Dy=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Yd===null)throw Error(W(308));Ko=t,Yd.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Li=null;function jy(t){Li===null?Li=[t]:Li.push(t)}function HT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function Ly(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,jy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}function l0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var s=t.updateQueue;Is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,y=a;switch(p=e,g=n,y.tag){case 1:if(E=y.payload,typeof E=="function"){f=E.call(g,f,p);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=y.payload,p=typeof E=="function"?E.call(g,f,p):E,p==null)break e;f=Ke({},f,p);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ji|=o,t.lanes=o,t.memoizedState=f}}function c0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var qT=new Hb.Component().refs;function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $h={isMounted:function(t){return(t=t._reactInternals)?ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Gs(t),i=qr(r,s);i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,s),e!==null&&(Qn(e,t,s,r),fd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Gs(t),i=qr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,s),e!==null&&(Qn(e,t,s,r),fd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Gs(t),s=qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=qs(t,s,r),e!==null&&(Qn(e,t,r,n),fd(e,t,r))}};function u0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!cc(n,r)||!cc(s,i):!0}function KT(t,e,n){var r=!1,s=ri,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=on(e)?Qi:Ut.current,r=e.contextTypes,i=(r=r!=null)?Ta(t,s):ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function d0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$h.enqueueReplaceState(e,e.state,null)}function eg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=qT,Ly(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=on(e)?Qi:Ut.current,s.context=Ta(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$h.enqueueReplaceState(s,s.state,null),Xd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===qT&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h0(t){var e=t._init;return e(t._payload)}function GT(t){function e(w,_){if(t){var x=w.deletions;x===null?(w.deletions=[_],w.flags|=16):x.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=Qs(w,_),w.index=0,w.sibling=null,w}function i(w,_,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<_?(w.flags|=2,_):x):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,x,C){return _===null||_.tag!==6?(_=jp(x,w.mode,C),_.return=w,_):(_=s(_,x),_.return=w,_)}function l(w,_,x,C){var P=x.type;return P===Fo?h(w,_,x.props.children,C,x.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&h0(P)===_.type)?(C=s(_,x.props),C.ref=wl(w,_,x),C.return=w,C):(C=wd(x.type,x.key,x.props,null,w.mode,C),C.ref=wl(w,_,x),C.return=w,C)}function u(w,_,x,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Lp(x,w.mode,C),_.return=w,_):(_=s(_,x.children||[]),_.return=w,_)}function h(w,_,x,C,P){return _===null||_.tag!==7?(_=qi(x,w.mode,C,P),_.return=w,_):(_=s(_,x),_.return=w,_)}function f(w,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=jp(""+_,w.mode,x),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cu:return x=wd(_.type,_.key,_.props,null,w.mode,x),x.ref=wl(w,null,_),x.return=w,x;case Vo:return _=Lp(_,w.mode,x),_.return=w,_;case Ts:var C=_._init;return f(w,C(_._payload),x)}if(Sl(_)||pl(_))return _=qi(_,w.mode,x,null),_.return=w,_;Vu(w,_)}return null}function p(w,_,x,C){var P=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:a(w,_,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cu:return x.key===P?l(w,_,x,C):null;case Vo:return x.key===P?u(w,_,x,C):null;case Ts:return P=x._init,p(w,_,P(x._payload),C)}if(Sl(x)||pl(x))return P!==null?null:h(w,_,x,C,null);Vu(w,x)}return null}function g(w,_,x,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(x)||null,a(_,w,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cu:return w=w.get(C.key===null?x:C.key)||null,l(_,w,C,P);case Vo:return w=w.get(C.key===null?x:C.key)||null,u(_,w,C,P);case Ts:var M=C._init;return g(w,_,x,M(C._payload),P)}if(Sl(C)||pl(C))return w=w.get(x)||null,h(_,w,C,P,null);Vu(_,C)}return null}function E(w,_,x,C){for(var P=null,M=null,S=_,T=_=0,A=null;S!==null&&T<x.length;T++){S.index>T?(A=S,S=null):A=S.sibling;var k=p(w,S,x[T],C);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(w,S),_=i(k,_,T),M===null?P=k:M.sibling=k,M=k,S=A}if(T===x.length)return n(w,S),Be&&Di(w,T),P;if(S===null){for(;T<x.length;T++)S=f(w,x[T],C),S!==null&&(_=i(S,_,T),M===null?P=S:M.sibling=S,M=S);return Be&&Di(w,T),P}for(S=r(w,S);T<x.length;T++)A=g(S,w,T,x[T],C),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),_=i(A,_,T),M===null?P=A:M.sibling=A,M=A);return t&&S.forEach(function(D){return e(w,D)}),Be&&Di(w,T),P}function y(w,_,x,C){var P=pl(x);if(typeof P!="function")throw Error(W(150));if(x=P.call(x),x==null)throw Error(W(151));for(var M=P=null,S=_,T=_=0,A=null,k=x.next();S!==null&&!k.done;T++,k=x.next()){S.index>T?(A=S,S=null):A=S.sibling;var D=p(w,S,k.value,C);if(D===null){S===null&&(S=A);break}t&&S&&D.alternate===null&&e(w,S),_=i(D,_,T),M===null?P=D:M.sibling=D,M=D,S=A}if(k.done)return n(w,S),Be&&Di(w,T),P;if(S===null){for(;!k.done;T++,k=x.next())k=f(w,k.value,C),k!==null&&(_=i(k,_,T),M===null?P=k:M.sibling=k,M=k);return Be&&Di(w,T),P}for(S=r(w,S);!k.done;T++,k=x.next())k=g(S,w,T,k.value,C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),_=i(k,_,T),M===null?P=k:M.sibling=k,M=k);return t&&S.forEach(function(O){return e(w,O)}),Be&&Di(w,T),P}function I(w,_,x,C){if(typeof x=="object"&&x!==null&&x.type===Fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Cu:e:{for(var P=x.key,M=_;M!==null;){if(M.key===P){if(P=x.type,P===Fo){if(M.tag===7){n(w,M.sibling),_=s(M,x.props.children),_.return=w,w=_;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&h0(P)===M.type){n(w,M.sibling),_=s(M,x.props),_.ref=wl(w,M,x),_.return=w,w=_;break e}n(w,M);break}else e(w,M);M=M.sibling}x.type===Fo?(_=qi(x.props.children,w.mode,C,x.key),_.return=w,w=_):(C=wd(x.type,x.key,x.props,null,w.mode,C),C.ref=wl(w,_,x),C.return=w,w=C)}return o(w);case Vo:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(w,_.sibling),_=s(_,x.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Lp(x,w.mode,C),_.return=w,w=_}return o(w);case Ts:return M=x._init,I(w,_,M(x._payload),C)}if(Sl(x))return E(w,_,x,C);if(pl(x))return y(w,_,x,C);Vu(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,x),_.return=w,w=_):(n(w,_),_=jp(x,w.mode,C),_.return=w,w=_),o(w)):n(w,_)}return I}var Sa=GT(!0),QT=GT(!1),Bc={},yr=yi(Bc),fc=yi(Bc),pc=yi(Bc);function Vi(t){if(t===Bc)throw Error(W(174));return t}function Vy(t,e){switch(Me(pc,e),Me(fc,t),Me(yr,Bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nm(e,t)}ze(yr),Me(yr,e)}function Ca(){ze(yr),ze(fc),ze(pc)}function YT(t){Vi(pc.current);var e=Vi(yr.current),n=Nm(e,t.type);e!==n&&(Me(fc,t),Me(yr,n))}function Fy(t){fc.current===t&&(ze(yr),ze(fc))}var We=yi(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pp=[];function Uy(){for(var t=0;t<Pp.length;t++)Pp[t]._workInProgressVersionPrimary=null;Pp.length=0}var pd=as.ReactCurrentDispatcher,kp=as.ReactCurrentBatchConfig,Xi=0,qe=null,ct=null,gt=null,Zd=!1,Bl=!1,mc=0,vD=0;function kt(){throw Error(W(321))}function zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function $y(t,e,n,r,s,i){if(Xi=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?ED:bD,t=n(r,s),Bl){i=0;do{if(Bl=!1,mc=0,25<=i)throw Error(W(301));i+=1,gt=ct=null,e.updateQueue=null,pd.current=TD,t=n(r,s)}while(Bl)}if(pd.current=eh,e=ct!==null&&ct.next!==null,Xi=0,gt=ct=qe=null,Zd=!1,e)throw Error(W(300));return t}function By(){var t=mc!==0;return mc=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=t:gt=gt.next=t,gt}function Ln(){if(ct===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=gt===null?qe.memoizedState:gt.next;if(e!==null)gt=e,ct=t;else{if(t===null)throw Error(W(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?qe.memoizedState=gt=t:gt=gt.next=t}return gt}function gc(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=Ln(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Xi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,qe.lanes|=h,Ji|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Xn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,Ji|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dp(t){var e=Ln(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function XT(){}function JT(t,e){var n=qe,r=Ln(),s=e(),i=!Xn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,Hy(tI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,yc(9,eI.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(W(349));Xi&30||ZT(n,e,s)}return s}function ZT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eI(t,e,n,r){e.value=n,e.getSnapshot=r,nI(e)&&rI(t)}function tI(t,e,n){return n(function(){nI(e)&&rI(t)})}function nI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function rI(t){var e=Xr(t,1);e!==null&&Qn(e,t,1,-1)}function f0(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:t},e.queue=t,t=t.dispatch=xD.bind(null,qe,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sI(){return Ln().memoizedState}function md(t,e,n,r){var s=lr();qe.flags|=t,s.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var s=Ln();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&zy(r,o.deps)){s.memoizedState=yc(e,n,i,r);return}}qe.flags|=t,s.memoizedState=yc(1|e,n,i,r)}function p0(t,e){return md(8390656,8,t,e)}function Hy(t,e){return Bh(2048,8,t,e)}function iI(t,e){return Bh(4,2,t,e)}function oI(t,e){return Bh(4,4,t,e)}function aI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lI(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,aI.bind(null,e,t),n)}function Wy(){}function cI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uI(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dI(t,e,n){return Xi&21?(Xn(n,e)||(n=pT(),qe.lanes|=n,Ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function wD(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=kp.transition;kp.transition={};try{t(!1),e()}finally{Ae=n,kp.transition=r}}function hI(){return Ln().memoizedState}function _D(t,e,n){var r=Gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fI(t))pI(e,n);else if(n=HT(t,e,n,r),n!==null){var s=Kt();Qn(n,t,r,s),mI(n,e,r)}}function xD(t,e,n){var r=Gs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fI(t))pI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Xn(a,o)){var l=e.interleaved;l===null?(s.next=s,jy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=HT(t,e,s,r),n!==null&&(s=Kt(),Qn(n,t,r,s),mI(n,e,r))}}function fI(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function pI(t,e){Bl=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}var eh={readContext:jn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},ED={readContext:jn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:p0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,md(4194308,4,aI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return md(4194308,4,t,e)},useInsertionEffect:function(t,e){return md(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_D.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:Wy,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=wD.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=lr();if(Be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),yt===null)throw Error(W(349));Xi&30||ZT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p0(tI.bind(null,r,i,t),[t]),r.flags|=2048,yc(9,eI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lr(),e=yt.identifierPrefix;if(Be){var n=$r,r=zr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bD={readContext:jn,useCallback:cI,useContext:jn,useEffect:Hy,useImperativeHandle:lI,useInsertionEffect:iI,useLayoutEffect:oI,useMemo:uI,useReducer:Np,useRef:sI,useState:function(){return Np(gc)},useDebugValue:Wy,useDeferredValue:function(t){var e=Ln();return dI(e,ct.memoizedState,t)},useTransition:function(){var t=Np(gc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hI,unstable_isNewReconciler:!1},TD={readContext:jn,useCallback:cI,useContext:jn,useEffect:Hy,useImperativeHandle:lI,useInsertionEffect:iI,useLayoutEffect:oI,useMemo:uI,useReducer:Dp,useRef:sI,useState:function(){return Dp(gc)},useDebugValue:Wy,useDeferredValue:function(t){var e=Ln();return ct===null?e.memoizedState=t:dI(e,ct.memoizedState,t)},useTransition:function(){var t=Dp(gc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:XT,useSyncExternalStore:JT,useId:hI,unstable_isNewReconciler:!1};function Aa(t,e){try{var n="",r=e;do n+=J1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ID=typeof WeakMap=="function"?WeakMap:Map;function gI(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,dg=r),tg(t,e)},n}function yI(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tg(t,e),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ID;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FD.bind(null,t,e,n),e.then(t,t))}function g0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var SD=as.ReactCurrentOwner,rn=!1;function Ht(t,e,n,r){e.child=t===null?QT(e,null,n,r):Sa(e,t.child,n,r)}function v0(t,e,n,r,s){n=n.render;var i=e.ref;return na(e,s),r=$y(t,e,n,r,i,s),n=By(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Be&&n&&Py(e),e.flags|=1,Ht(t,e,r,s),e.child)}function w0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vI(t,e,i,r,s)):(t=wd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(o,r)&&t.ref===e.ref)return Jr(t,e,s)}return e.flags|=1,t=Qs(i,r),t.ref=e.ref,t.return=e,e.child=t}function vI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(cc(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Jr(t,e,s)}return ng(t,e,n,r,s)}function wI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Qo,dn),dn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Qo,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(Qo,dn),dn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(Qo,dn),dn|=r;return Ht(t,e,s,n),e.child}function _I(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ng(t,e,n,r,s){var i=on(n)?Qi:Ut.current;return i=Ta(e,i),na(e,s),n=$y(t,e,n,r,i,s),r=By(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Be&&r&&Py(e),e.flags|=1,Ht(t,e,n,s),e.child)}function _0(t,e,n,r,s){if(on(n)){var i=!0;qd(e)}else i=!1;if(na(e,s),e.stateNode===null)gd(t,e),KT(e,n,r),eg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=on(n)?Qi:Ut.current,u=Ta(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&d0(e,o,r,u),Is=!1;var p=e.memoizedState;o.state=p,Xd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||sn.current||Is?(typeof h=="function"&&(Zm(e,n,h,r),l=e.memoizedState),(a=Is||u0(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$n(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=on(n)?Qi:Ut.current,l=Ta(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&d0(e,o,r,l),Is=!1,p=e.memoizedState,o.state=p,Xd(e,r,o,s);var E=e.memoizedState;a!==f||p!==E||sn.current||Is?(typeof g=="function"&&(Zm(e,n,g,r),E=e.memoizedState),(u=Is||u0(e,n,u,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return rg(t,e,n,r,i,s)}function rg(t,e,n,r,s,i){_I(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&i0(e,n,!1),Jr(t,e,i);r=e.stateNode,SD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Sa(e,t.child,null,i),e.child=Sa(e,null,a,i)):Ht(t,e,a,i),e.memoizedState=r.state,s&&i0(e,n,!0),e.child}function xI(t){var e=t.stateNode;e.pendingContext?s0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s0(t,e.context,!1),Vy(t,e.containerInfo)}function x0(t,e,n,r,s){return Ia(),Ny(s),e.flags|=256,Ht(t,e,n,r),e.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function EI(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(We,s&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qh(o,r,0,null),t=qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ig(n),e.memoizedState=sg,t):qy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return CD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Qs(a,i):(i=qi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sg,r}return i=t.child,t=i.sibling,r=Qs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Ny(r),Sa(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Op(Error(W(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qh({mode:"visible",children:r.children},s,0,null),i=qi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sa(e,t.child,null,o),e.child.memoizedState=ig(o),e.memoizedState=sg,i);if(!(e.mode&1))return Fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Op(i,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xr(t,s),Qn(r,t,s,-1))}return Jy(),r=Op(Error(W(421))),Fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=Ws(s.nextSibling),yn=e,Be=!0,Kn=null,t!==null&&(Pn[kn++]=zr,Pn[kn++]=$r,Pn[kn++]=Yi,zr=t.id,$r=t.overflow,Yi=e),e=qy(e,r.children),e.flags|=4096,e)}function E0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jm(t.return,e,n)}function Mp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E0(t,n,e);else if(t.tag===19)E0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mp(e,!0,n,null,i);break;case"together":Mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AD(t,e,n){switch(e.tag){case 3:xI(e),Ia();break;case 5:YT(e);break;case 1:on(e.type)&&qd(e);break;case 4:Vy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(Qd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?EI(t,e,n):(Me(We,We.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Me(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,wI(t,e,n)}return Jr(t,e,n)}var TI,og,II,SI;TI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};og=function(){};II=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vi(yr.current);var i=null;switch(n){case"input":s=Am(t,s),r=Am(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=km(t,s),r=km(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hd)}Dm(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};SI=function(t,e,n,r){n!==r&&(e.flags|=4)};function _l(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RD(t,e,n){var r=e.pendingProps;switch(ky(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return on(e.type)&&Wd(),Nt(e),null;case 3:return r=e.stateNode,Ca(),ze(sn),ze(Ut),Uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(pg(Kn),Kn=null))),og(t,e),Nt(e),null;case 5:Fy(e);var s=Vi(pc.current);if(n=e.type,t!==null&&e.stateNode!=null)II(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Nt(e),null}if(t=Vi(yr.current),Lu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fr]=e,r[hc]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Al.length;s++)Ve(Al[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":k_(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":D_(r,i),Ve("invalid",r)}Dm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ju(r.textContent,a,t),s=["children",""+a]):nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Au(r),N_(r,i,!0);break;case"textarea":Au(r),O_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fr]=e,t[hc]=r,TI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Al.length;s++)Ve(Al[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":k_(t,r),s=Am(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":D_(t,r),s=km(t,r),Ve("invalid",t);break;default:s=r}Dm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?nT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rc(t,l):typeof l=="number"&&rc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&gy(t,i,l,o))}switch(n){case"input":Au(t),N_(t,r,!1);break;case"textarea":Au(t),O_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ni(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)SI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Vi(pc.current),Vi(yr.current),Lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(i=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ju(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Nt(e),null;case 13:if(ze(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&pn!==null&&e.mode&1&&!(e.flags&128))BT(),Ia(),e.flags|=98560,i=!1;else if(i=Lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[fr]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),i=!1}else Kn!==null&&(pg(Kn),Kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?dt===0&&(dt=3):Jy())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Ca(),og(t,e),t===null&&uc(e.stateNode.containerInfo),Nt(e),null;case 10:return My(e.type._context),Nt(e),null;case 17:return on(e.type)&&Wd(),Nt(e),null;case 19:if(ze(We),i=e.memoizedState,i===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_l(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jd(t),o!==null){for(e.flags|=128,_l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Ra&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Nt(e),null}else 2*rt()-i.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=We.current,Me(We,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function PD(t,e){switch(ky(e),e.tag){case 1:return on(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ca(),ze(sn),ze(Ut),Uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fy(e),null;case 13:if(ze(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(We),null;case 4:return Ca(),null;case 10:return My(e.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var Uu=!1,Lt=!1,kD=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function ag(t,e,n){try{n()}catch(r){Je(t,e,r)}}var b0=!1;function ND(t,e){if(Hm=zd,t=PT(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wm={focusedElem:t,selectionRange:n},zd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var y=E.memoizedProps,I=E.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:$n(e.type,y),I);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){Je(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return E=b0,b0=!1,E}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ag(e,n,i)}s=s.next}while(s!==r)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CI(t){var e=t.alternate;e!==null&&(t.alternate=null,CI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[hc],delete e[Gm],delete e[pD],delete e[mD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AI(t){return t.tag===5||t.tag===3||t.tag===4}function T0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hd));else if(r!==4&&(t=t.child,t!==null))for(cg(t,e,n),t=t.sibling;t!==null;)cg(t,e,n),t=t.sibling}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}var Et=null,qn=!1;function vs(t,e,n){for(n=n.child;n!==null;)RI(t,e,n),n=n.sibling}function RI(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:Lt||Go(n,e);case 6:var r=Et,s=qn;Et=null,vs(t,e,n),Et=r,qn=s,Et!==null&&(qn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(qn?(t=Et,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),ac(t)):Ap(Et,n.stateNode));break;case 4:r=Et,s=qn,Et=n.stateNode.containerInfo,qn=!0,vs(t,e,n),Et=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ag(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!Lt&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,vs(t,e,n),Lt=r):vs(t,e,n);break;default:vs(t,e,n)}}function I0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kD),e.forEach(function(r){var s=zD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,qn=!1;break e;case 3:Et=a.stateNode.containerInfo,qn=!0;break e;case 4:Et=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(Et===null)throw Error(W(160));RI(i,o,s),Et=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PI(e,t),e=e.sibling}function PI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),ar(t),r&4){try{Hl(3,t,t.return),Hh(3,t)}catch(y){Je(t,t.return,y)}try{Hl(5,t,t.return)}catch(y){Je(t,t.return,y)}}break;case 1:Un(e,t),ar(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Un(e,t),ar(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var s=t.stateNode;try{rc(s,"")}catch(y){Je(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xb(s,i),Om(a,o);var u=Om(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?nT(s,f):h==="dangerouslySetInnerHTML"?eT(s,f):h==="children"?rc(s,f):gy(s,h,f,u)}switch(a){case"input":Rm(s,i);break;case"textarea":Jb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Jo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Jo(s,!!i.multiple,i.defaultValue,!0):Jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[hc]=i}catch(y){Je(t,t.return,y)}}break;case 6:if(Un(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Je(t,t.return,y)}}break;case 3:if(Un(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(e.containerInfo)}catch(y){Je(t,t.return,y)}break;case 4:Un(e,t),ar(t);break;case 13:Un(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qy=rt())),r&4&&I0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||h,Un(e,t),Lt=u):Un(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(p=Q,g=p.child,p.tag){case 0:case 11:case 14:case 15:Hl(4,p,p.return);break;case 1:Go(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(y){Je(r,n,y)}}break;case 5:Go(p,p.return);break;case 22:if(p.memoizedState!==null){C0(f);continue}}g!==null?(g.return=p,Q=g):C0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tT("display",o))}catch(y){Je(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Je(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Un(e,t),ar(t),r&4&&I0(t);break;case 21:break;default:Un(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AI(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rc(s,""),r.flags&=-33);var i=T0(t);ug(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T0(t);cg(t,a,o);break;default:throw Error(W(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DD(t,e,n){Q=t,kI(t)}function kI(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Uu;var u=Lt;if(Uu=o,(Lt=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?A0(s):l!==null?(l.return=o,Q=l):A0(s);for(;i!==null;)Q=i,kI(i),i=i.sibling;Q=s,Uu=a,Lt=u}S0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):S0(t)}}function S0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&c0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Lt||e.flags&512&&lg(e)}catch(p){Je(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function C0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function A0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hh(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{lg(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{lg(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var OD=Math.ceil,th=as.ReactCurrentDispatcher,Ky=as.ReactCurrentOwner,Dn=as.ReactCurrentBatchConfig,_e=0,yt=null,it=null,It=0,dn=0,Qo=yi(0),dt=0,vc=null,Ji=0,Wh=0,Gy=0,Wl=null,tn=null,Qy=0,Ra=1/0,Vr=null,nh=!1,dg=null,Ks=null,zu=!1,Fs=null,rh=0,ql=0,hg=null,yd=-1,vd=0;function Kt(){return _e&6?rt():yd!==-1?yd:yd=rt()}function Gs(t){return t.mode&1?_e&2&&It!==0?It&-It:yD.transition!==null?(vd===0&&(vd=pT()),vd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:xT(t.type)),t):1}function Qn(t,e,n,r){if(50<ql)throw ql=0,hg=null,Error(W(185));Uc(t,n,r),(!(_e&2)||t!==yt)&&(t===yt&&(!(_e&2)&&(Wh|=n),dt===4&&Cs(t,It)),an(t,r),n===1&&_e===0&&!(e.mode&1)&&(Ra=rt()+500,zh&&vi()))}function an(t,e){var n=t.callbackNode;yN(t,e);var r=Ud(t,t===yt?It:0);if(r===0)n!==null&&L_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L_(n),e===1)t.tag===0?gD(R0.bind(null,t)):UT(R0.bind(null,t)),hD(function(){!(_e&6)&&vi()}),n=null;else{switch(mT(r)){case 1:n=xy;break;case 4:n=hT;break;case 16:n=Fd;break;case 536870912:n=fT;break;default:n=Fd}n=FI(n,NI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NI(t,e){if(yd=-1,vd=0,_e&6)throw Error(W(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=Ud(t,t===yt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sh(t,r);else{e=r;var s=_e;_e|=2;var i=OI();(yt!==t||It!==e)&&(Vr=null,Ra=rt()+500,Wi(t,e));do try{LD();break}catch(a){DI(t,a)}while(!0);Oy(),th.current=i,_e=s,it!==null?e=0:(yt=null,It=0,e=dt)}if(e!==0){if(e===2&&(s=Fm(t),s!==0&&(r=s,e=fg(t,s))),e===1)throw n=vc,Wi(t,0),Cs(t,r),an(t,rt()),n;if(e===6)Cs(t,r);else{if(s=t.current.alternate,!(r&30)&&!MD(s)&&(e=sh(t,r),e===2&&(i=Fm(t),i!==0&&(r=i,e=fg(t,i))),e===1))throw n=vc,Wi(t,0),Cs(t,r),an(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Oi(t,tn,Vr);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=Qy+500-rt(),10<e)){if(Ud(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Km(Oi.bind(null,t,tn,Vr),e);break}Oi(t,tn,Vr);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Gn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OD(r/1960))-r,10<r){t.timeoutHandle=Km(Oi.bind(null,t,tn,Vr),r);break}Oi(t,tn,Vr);break;case 5:Oi(t,tn,Vr);break;default:throw Error(W(329))}}}return an(t,rt()),t.callbackNode===n?NI.bind(null,t):null}function fg(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=sh(t,e),t!==2&&(e=tn,tn=n,e!==null&&pg(e)),t}function pg(t){tn===null?tn=t:tn.push.apply(tn,t)}function MD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~Gy,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),r=1<<n;t[n]=-1,e&=~r}}function R0(t){if(_e&6)throw Error(W(327));ra();var e=Ud(t,0);if(!(e&1))return an(t,rt()),null;var n=sh(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=fg(t,r))}if(n===1)throw n=vc,Wi(t,0),Cs(t,e),an(t,rt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,tn,Vr),an(t,rt()),null}function Yy(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Ra=rt()+500,zh&&vi())}}function Zi(t){Fs!==null&&Fs.tag===0&&!(_e&6)&&ra();var e=_e;_e|=1;var n=Dn.transition,r=Ae;try{if(Dn.transition=null,Ae=1,t)return t()}finally{Ae=r,Dn.transition=n,_e=e,!(_e&6)&&vi()}}function Xy(){dn=Qo.current,ze(Qo)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dD(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:Ca(),ze(sn),ze(Ut),Uy();break;case 5:Fy(r);break;case 4:Ca();break;case 13:ze(We);break;case 19:ze(We);break;case 10:My(r.type._context);break;case 22:case 23:Xy()}n=n.return}if(yt=t,it=t=Qs(t.current,null),It=dn=e,dt=0,vc=null,Gy=Wh=Ji=0,tn=Wl=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Li=null}return t}function DI(t,e){do{var n=it;try{if(Oy(),pd.current=eh,Zd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zd=!1}if(Xi=0,gt=ct=qe=null,Bl=!1,mc=0,Ky.current=null,n===null||n.return===null){dt=1,vc=e,it=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=g0(o);if(g!==null){g.flags&=-257,y0(g,o,a,i,e),g.mode&1&&m0(i,u,e),e=g,l=u;var E=e.updateQueue;if(E===null){var y=new Set;y.add(l),e.updateQueue=y}else E.add(l);break e}else{if(!(e&1)){m0(i,u,e),Jy();break e}l=Error(W(426))}}else if(Be&&a.mode&1){var I=g0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),y0(I,o,a,i,e),Ny(Aa(l,a));break e}}i=l=Aa(l,a),dt!==4&&(dt=2),Wl===null?Wl=[i]:Wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=gI(i,l,e);l0(i,w);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ks===null||!Ks.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=yI(i,a,e);l0(i,C);break e}}i=i.return}while(i!==null)}jI(n)}catch(P){e=P,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function OI(){var t=th.current;return th.current=eh,t===null?eh:t}function Jy(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||!(Ji&268435455)&&!(Wh&268435455)||Cs(yt,It)}function sh(t,e){var n=_e;_e|=2;var r=OI();(yt!==t||It!==e)&&(Vr=null,Wi(t,e));do try{jD();break}catch(s){DI(t,s)}while(!0);if(Oy(),_e=n,th.current=r,it!==null)throw Error(W(261));return yt=null,It=0,dt}function jD(){for(;it!==null;)MI(it)}function LD(){for(;it!==null&&!lN();)MI(it)}function MI(t){var e=VI(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?jI(t):it=e,Ky.current=null}function jI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PD(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,it=null;return}}else if(n=RD(n,e,dn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);dt===0&&(dt=5)}function Oi(t,e,n){var r=Ae,s=Dn.transition;try{Dn.transition=null,Ae=1,VD(t,e,n,r)}finally{Dn.transition=s,Ae=r}return null}function VD(t,e,n,r){do ra();while(Fs!==null);if(_e&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(vN(t,i),t===yt&&(it=yt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zu||(zu=!0,FI(Fd,function(){return ra(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=Ae;Ae=1;var a=_e;_e|=4,Ky.current=null,ND(t,n),PI(n,t),sD(Wm),zd=!!Hm,Wm=Hm=null,t.current=n,DD(n),cN(),_e=a,Ae=o,Dn.transition=i}else t.current=n;if(zu&&(zu=!1,Fs=t,rh=s),i=t.pendingLanes,i===0&&(Ks=null),hN(n.stateNode),an(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nh)throw nh=!1,t=dg,dg=null,t;return rh&1&&t.tag!==0&&ra(),i=t.pendingLanes,i&1?t===hg?ql++:(ql=0,hg=t):ql=0,vi(),null}function ra(){if(Fs!==null){var t=mT(rh),e=Dn.transition,n=Ae;try{if(Dn.transition=null,Ae=16>t?16:t,Fs===null)var r=!1;else{if(t=Fs,Fs=null,rh=0,_e&6)throw Error(W(331));var s=_e;for(_e|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Hl(8,h,i)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var p=h.sibling,g=h.return;if(CI(h),h===u){Q=null;break}if(p!==null){p.return=g,Q=p;break}Q=g}}}var E=i.alternate;if(E!==null){var y=E.child;if(y!==null){E.child=null;do{var I=y.sibling;y.sibling=null,y=I}while(y!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(P){Je(a,a.return,P)}if(a===o){Q=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Q=C;break e}Q=a.return}}if(_e=s,vi(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{Ae=n,Dn.transition=e}}return!1}function P0(t,e,n){e=Aa(n,e),e=gI(t,e,1),t=qs(t,e,1),e=Kt(),t!==null&&(Uc(t,1,e),an(t,e))}function Je(t,e,n){if(t.tag===3)P0(t,t,n);else for(;e!==null;){if(e.tag===3){P0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=Aa(n,t),t=yI(e,t,1),e=qs(e,t,1),t=Kt(),e!==null&&(Uc(e,1,t),an(e,t));break}}e=e.return}}function FD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(It&n)===n&&(dt===4||dt===3&&(It&130023424)===It&&500>rt()-Qy?Wi(t,0):Gy|=n),an(t,e)}function LI(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Kt();t=Xr(t,e),t!==null&&(Uc(t,e,n),an(t,n))}function UD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LI(t,n)}function zD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),LI(t,n)}var VI;VI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,AD(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Be&&e.flags&1048576&&zT(e,Gd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gd(t,e),t=e.pendingProps;var s=Ta(e,Ut.current);na(e,n),s=$y(null,e,r,t,s,n);var i=By();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,qd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ly(e),s.updater=$h,e.stateNode=s,s._reactInternals=e,eg(e,r,t,n),e=rg(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&Py(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=BD(r),t=$n(r,t),s){case 0:e=ng(null,e,r,t,n);break e;case 1:e=_0(null,e,r,t,n);break e;case 11:e=v0(null,e,r,t,n);break e;case 14:e=w0(null,e,r,$n(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),ng(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),_0(t,e,r,s,n);case 3:e:{if(xI(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,WT(t,e),Xd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Aa(Error(W(423)),e),e=x0(t,e,r,n,s);break e}else if(r!==s){s=Aa(Error(W(424)),e),e=x0(t,e,r,n,s);break e}else for(pn=Ws(e.stateNode.containerInfo.firstChild),yn=e,Be=!0,Kn=null,n=QT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===s){e=Jr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return YT(e),t===null&&Xm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qm(r,s)?o=null:i!==null&&qm(r,i)&&(e.flags|=32),_I(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return EI(t,e,n);case 4:return Vy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sa(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),v0(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(Qd,r._currentValue),r._currentValue=o,i!==null)if(Xn(i.value,o)){if(i.children===s.children&&!sn.current){e=Jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,na(e,n),s=jn(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=$n(r,e.pendingProps),s=$n(r.type,s),w0(t,e,r,s,n);case 15:return vI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:$n(r,s),gd(t,e),e.tag=1,on(r)?(t=!0,qd(e)):t=!1,na(e,n),KT(e,r,s),eg(e,r,s,n),rg(null,e,r,!0,t,n);case 19:return bI(t,e,n);case 22:return wI(t,e,n)}throw Error(W(156,e.tag))};function FI(t,e){return dT(t,e)}function $D(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,e,n,r){return new $D(t,e,n,r)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BD(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vy)return 11;if(t===wy)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=Nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fo:return qi(n.children,s,i,e);case yy:o=8,s|=8;break;case Tm:return t=Nn(12,n,e,s|2),t.elementType=Tm,t.lanes=i,t;case Im:return t=Nn(13,n,e,s),t.elementType=Im,t.lanes=i,t;case Sm:return t=Nn(19,n,e,s),t.elementType=Sm,t.lanes=i,t;case Gb:return qh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qb:o=10;break e;case Kb:o=9;break e;case vy:o=11;break e;case wy:o=14;break e;case Ts:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qi(t,e,n,r){return t=Nn(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=Nn(22,t,r,e),t.elementType=Gb,t.lanes=n,t.stateNode={isHidden:!1},t}function jp(t,e,n){return t=Nn(6,t,null,e),t.lanes=n,t}function Lp(t,e,n){return e=Nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ev(t,e,n,r,s,i,o,a,l){return t=new HD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(i),t}function WD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UI(t){if(!t)return ri;t=t._reactInternals;e:{if(ho(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(on(n))return FT(t,n,e)}return e}function zI(t,e,n,r,s,i,o,a,l){return t=ev(n,r,!0,t,s,i,o,a,l),t.context=UI(null),n=t.current,r=Kt(),s=Gs(n),i=qr(r,s),i.callback=e??null,qs(n,i,s),t.current.lanes=s,Uc(t,s,r),an(t,r),t}function Kh(t,e,n,r){var s=e.current,i=Kt(),o=Gs(s);return n=UI(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qs(s,e,o),t!==null&&(Qn(t,s,o,i),fd(t,s,o)),o}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tv(t,e){k0(t,e),(t=t.alternate)&&k0(t,e)}function qD(){return null}var $I=typeof reportError=="function"?reportError:function(t){console.error(t)};function nv(t){this._internalRoot=t}Gh.prototype.render=nv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Kh(t,e,null,null)};Gh.prototype.unmount=nv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){Kh(null,t,null,null)}),e[Yr]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&_T(t)}};function rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N0(){}function KD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ih(o);i.call(u)}}var o=zI(e,r,t,0,null,!1,!1,"",N0);return t._reactRootContainer=o,t[Yr]=o.current,uc(t.nodeType===8?t.parentNode:t),Zi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ih(l);a.call(u)}}var l=ev(t,0,!1,null,null,!1,!1,"",N0);return t._reactRootContainer=l,t[Yr]=l.current,uc(t.nodeType===8?t.parentNode:t),Zi(function(){Kh(e,l,n,r)}),l}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ih(o);a.call(l)}}Kh(e,o,t,s)}else o=KD(n,e,t,s,r);return ih(o)}gT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(Ey(e,n|1),an(e,rt()),!(_e&6)&&(Ra=rt()+500,vi()))}break;case 13:Zi(function(){var r=Xr(t,1);if(r!==null){var s=Kt();Qn(r,t,1,s)}}),tv(t,1)}};by=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Kt();Qn(e,t,134217728,n)}tv(t,134217728)}};yT=function(t){if(t.tag===13){var e=Gs(t),n=Xr(t,e);if(n!==null){var r=Kt();Qn(n,t,e,r)}tv(t,e)}};vT=function(){return Ae};wT=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};jm=function(t,e,n){switch(e){case"input":if(Rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uh(r);if(!s)throw Error(W(90));Yb(r),Rm(r,s)}}}break;case"textarea":Jb(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};iT=Yy;oT=Zi;var GD={usingClientEntryPoint:!1,Events:[$c,Bo,Uh,rT,sT,Yy]},xl={findFiberByHostInstance:ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QD={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cT(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||qD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{jh=$u.inject(QD),gr=$u}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rv(e))throw Error(W(200));return WD(t,e,null,n)};xn.createRoot=function(t,e){if(!rv(t))throw Error(W(299));var n=!1,r="",s=$I;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ev(t,1,!1,null,null,n,!1,r,s),t[Yr]=e.current,uc(t.nodeType===8?t.parentNode:t),new nv(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=cT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Zi(t)};xn.hydrate=function(t,e,n){if(!Qh(e))throw Error(W(200));return Yh(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!rv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$I;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zI(e,null,t,1,n??null,s,!1,i,o),t[Yr]=e.current,uc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gh(e)};xn.render=function(t,e,n){if(!Qh(e))throw Error(W(200));return Yh(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(W(40));return t._reactRootContainer?(Zi(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};xn.unstable_batchedUpdates=Yy;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Yh(t,e,n,!1,r)};xn.version="18.2.0-next-9e3b772b8-20220608";function BI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BI)}catch(t){console.error(t)}}BI(),zb.exports=xn;var Hc=zb.exports;const HI=Rb(Hc);var WI,D0=Hc;WI=D0.createRoot,D0.hydrateRoot;const YD=1,XD=1e6;let Vp=0;function JD(){return Vp=(Vp+1)%Number.MAX_SAFE_INTEGER,Vp.toString()}const Fp=new Map,O0=t=>{if(Fp.has(t))return;const e=setTimeout(()=>{Fp.delete(t),Kl({type:"REMOVE_TOAST",toastId:t})},XD);Fp.set(t,e)},ZD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?O0(n):t.toasts.forEach(r=>{O0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_d=[];let xd={toasts:[]};function Kl(t){xd=ZD(xd,t),_d.forEach(e=>{e(xd)})}function Rn({...t}){const e=JD(),n=s=>Kl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Kl({type:"DISMISS_TOAST",toastId:e});return Kl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function eO(){const[t,e]=b.useState(xd);return b.useEffect(()=>(_d.push(e),()=>{const n=_d.indexOf(e);n>-1&&_d.splice(n,1)}),[t]),{...t,toast:Rn,dismiss:n=>Kl({type:"DISMISS_TOAST",toastId:n})}}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function M0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=M0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():M0(t[s],null)}}}}function vt(...t){return b.useCallback(qI(...t),t)}function tO(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ls(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=f=>{var w;const{scope:p,children:g,...E}=f,y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,I=b.useMemo(()=>E,Object.values(E));return d.jsx(y.Provider,{value:I,children:g})};u.displayName=i+"Provider";function h(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,E=b.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,nO(s,...e)]}function nO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wc=b.forwardRef((t,e)=>{const{children:n,...r}=t,s=b.Children.toArray(n),i=s.find(rO);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return d.jsx(mg,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return d.jsx(mg,{...r,ref:e,children:n})});wc.displayName="Slot";var mg=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const s=iO(n),i=sO(r,n.props);return n.type!==b.Fragment&&(i.ref=e?qI(e,s):s),b.cloneElement(n,i)}return b.Children.count(n)>1?b.Children.only(null):null});mg.displayName="SlotClone";var KI=({children:t})=>d.jsx(d.Fragment,{children:t});function rO(t){return b.isValidElement(t)&&t.type===KI}function sO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function iO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sv(t){const e=t+"CollectionProvider",[n,r]=ls(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:E,children:y}=g,I=H.useRef(null),w=H.useRef(new Map).current;return d.jsx(s,{scope:E,itemMap:w,collectionRef:I,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((g,E)=>{const{scope:y,children:I}=g,w=i(a,y),_=vt(E,w.collectionRef);return d.jsx(wc,{ref:_,children:I})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=H.forwardRef((g,E)=>{const{scope:y,children:I,...w}=g,_=H.useRef(null),x=vt(E,_),C=i(u,y);return H.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),d.jsx(wc,{[h]:"",ref:x,children:I})});f.displayName=u;function p(g){const E=i(t+"CollectionConsumer",g);return H.useCallback(()=>{const I=E.collectionRef.current;if(!I)return[];const w=Array.from(I.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((C,P)=>w.indexOf(C.ref.current)-w.indexOf(P.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}var oO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=oO.reduce((t,e)=>{const n=b.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?wc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function GI(t,e){t&&Hc.flushSync(()=>t.dispatchEvent(e))}function _n(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aO(t,e=globalThis==null?void 0:globalThis.document){const n=_n(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lO="DismissableLayer",gg="dismissableLayer.update",cO="dismissableLayer.pointerDownOutside",uO="dismissableLayer.focusOutside",j0,QI=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(QI),[h,f]=b.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),E=vt(e,S=>f(S)),y=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(I),_=h?y.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=_>=w,P=hO(S=>{const T=S.target,A=[...u.branches].some(k=>k.contains(T));!C||A||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),M=fO(S=>{const T=S.target;[...u.branches].some(k=>k.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return aO(S=>{_===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),b.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(j0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),L0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=j0)}},[h,p,n,u]),b.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),L0())},[h,u]),b.useEffect(()=>{const S=()=>g({});return document.addEventListener(gg,S),()=>document.removeEventListener(gg,S)},[]),d.jsx(Ie.div,{...l,ref:E,style:{pointerEvents:x?C?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,P.onPointerDownCapture)})});Xh.displayName=lO;var dO="DismissableLayerBranch",YI=b.forwardRef((t,e)=>{const n=b.useContext(QI),r=b.useRef(null),s=vt(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ie.div,{...t,ref:s})});YI.displayName=dO;function hO(t,e=globalThis==null?void 0:globalThis.document){const n=_n(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){XI(cO,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fO(t,e=globalThis==null?void 0:globalThis.document){const n=_n(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&XI(uO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L0(){const t=new CustomEvent(gg);document.dispatchEvent(t)}function XI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?GI(s,i):s.dispatchEvent(i)}var pO=Xh,mO=YI,Zr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},gO="Portal",iv=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Zr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?HI.createPortal(d.jsx(Ie.div,{...r,ref:e}),o):null});iv.displayName=gO;function yO(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var wi=t=>{const{present:e,children:n}=t,r=vO(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=vt(r.ref,wO(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};wi.displayName="Presence";function vO(t){const[e,n]=b.useState(),r=b.useRef({}),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=yO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Bu(r.current);i.current=a==="mounted"?u:"none"},[a]),Zr(()=>{const u=r.current,h=s.current;if(h!==t){const p=i.current,g=Bu(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Zr(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const y=Bu(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},p=g=>{g.target===e&&(i.current=Bu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bu(t){return(t==null?void 0:t.animationName)||"none"}function wO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=_O({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=_n(n),l=b.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,l]}function _O({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,s=b.useRef(r),i=_n(e);return b.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var xO="VisuallyHidden",Jh=b.forwardRef((t,e)=>d.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Jh.displayName=xO;var EO=Jh,ov="ToastProvider",[av,bO,TO]=sv("Toast"),[JI,LW]=ls("Toast",[TO]),[IO,Zh]=JI(ov),ZI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[u,h]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ov}\`. Expected non-empty \`string\`.`),d.jsx(av.Provider,{scope:e,children:d.jsx(IO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>h(g=>g+1),[]),onToastRemove:b.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};ZI.displayName=ov;var eS="ToastViewport",SO=["F8"],yg="toast.viewportPause",vg="toast.viewportResume",tS=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=SO,label:s="Notifications ({hotkey})",...i}=t,o=Zh(eS,n),a=bO(n),l=b.useRef(null),u=b.useRef(null),h=b.useRef(null),f=b.useRef(null),p=vt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;b.useEffect(()=>{const I=w=>{var x;r.length!==0&&r.every(C=>w[C]||w.code===C)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),b.useEffect(()=>{const I=l.current,w=f.current;if(E&&I&&w){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(yg);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(vg);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},C=M=>{!I.contains(M.relatedTarget)&&x()},P=()=>{I.contains(document.activeElement)||x()};return I.addEventListener("focusin",_),I.addEventListener("focusout",C),I.addEventListener("pointermove",_),I.addEventListener("pointerleave",P),window.addEventListener("blur",_),window.addEventListener("focus",x),()=>{I.removeEventListener("focusin",_),I.removeEventListener("focusout",C),I.removeEventListener("pointermove",_),I.removeEventListener("pointerleave",P),window.removeEventListener("blur",_),window.removeEventListener("focus",x)}}},[E,o.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:I})=>{const _=a().map(x=>{const C=x.ref.current,P=[C,...FO(C)];return I==="forwards"?P:P.reverse()});return(I==="forwards"?_.reverse():_).flat()},[a]);return b.useEffect(()=>{const I=f.current;if(I){const w=_=>{var P,M,S;const x=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!x){const T=document.activeElement,A=_.shiftKey;if(_.target===I&&A){(P=u.current)==null||P.focus();return}const O=y({tabbingDirection:A?"backwards":"forwards"}),N=O.findIndex(L=>L===T);Up(O.slice(N+1))?_.preventDefault():A?(M=u.current)==null||M.focus():(S=h.current)==null||S.focus()}};return I.addEventListener("keydown",w),()=>I.removeEventListener("keydown",w)}},[a,y]),d.jsxs(mO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&d.jsx(wg,{ref:u,onFocusFromOutsideViewport:()=>{const I=y({tabbingDirection:"forwards"});Up(I)}}),d.jsx(av.Slot,{scope:n,children:d.jsx(Ie.ol,{tabIndex:-1,...i,ref:p})}),E&&d.jsx(wg,{ref:h,onFocusFromOutsideViewport:()=>{const I=y({tabbingDirection:"backwards"});Up(I)}})]})});tS.displayName=eS;var nS="ToastFocusProxy",wg=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zh(nS,n);return d.jsx(Jh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});wg.displayName=nS;var ef="Toast",CO="toast.swipeStart",AO="toast.swipeMove",RO="toast.swipeCancel",PO="toast.swipeEnd",rS=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=fo({prop:r,defaultProp:s,onChange:i});return d.jsx(wi,{present:n||a,children:d.jsx(DO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:_n(t.onPause),onResume:_n(t.onResume),onSwipeStart:ye(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});rS.displayName=ef;var[kO,NO]=JI(ef,{onClose(){}}),DO=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...E}=t,y=Zh(ef,n),[I,w]=b.useState(null),_=vt(e,L=>w(L)),x=b.useRef(null),C=b.useRef(null),P=s||y.duration,M=b.useRef(0),S=b.useRef(P),T=b.useRef(0),{onToastAdd:A,onToastRemove:k}=y,D=_n(()=>{var ee;(I==null?void 0:I.contains(document.activeElement))&&((ee=y.viewport)==null||ee.focus()),o()}),O=b.useCallback(L=>{!L||L===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,L))},[D]);b.useEffect(()=>{const L=y.viewport;if(L){const ee=()=>{O(S.current),u==null||u()},J=()=>{const Z=new Date().getTime()-M.current;S.current=S.current-Z,window.clearTimeout(T.current),l==null||l()};return L.addEventListener(yg,J),L.addEventListener(vg,ee),()=>{L.removeEventListener(yg,J),L.removeEventListener(vg,ee)}}},[y.viewport,P,l,u,O]),b.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(P)},[i,P,y.isClosePausedRef,O]),b.useEffect(()=>(A(),()=>k()),[A,k]);const N=b.useMemo(()=>I?uS(I):null,[I]);return y.viewport?d.jsxs(d.Fragment,{children:[N&&d.jsx(OO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),d.jsx(kO,{scope:n,onClose:D,children:Hc.createPortal(d.jsx(av.ItemSlot,{scope:n,children:d.jsx(pO,{asChild:!0,onEscapeKeyDown:ye(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...E,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ye(t.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:ye(t.onPointerMove,L=>{if(!x.current)return;const ee=L.clientX-x.current.x,J=L.clientY-x.current.y,Z=!!C.current,F=["left","right"].includes(y.swipeDirection),$=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=F?$(0,ee):0,ie=F?0:$(0,J),X=L.pointerType==="touch"?10:2,te={x:K,y:ie},de={originalEvent:L,delta:te};Z?(C.current=te,Hu(AO,f,de,{discrete:!1})):V0(te,y.swipeDirection,X)?(C.current=te,Hu(CO,h,de,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(ee)>X||Math.abs(J)>X)&&(x.current=null)}),onPointerUp:ye(t.onPointerUp,L=>{const ee=C.current,J=L.target;if(J.hasPointerCapture(L.pointerId)&&J.releasePointerCapture(L.pointerId),C.current=null,x.current=null,ee){const Z=L.currentTarget,F={originalEvent:L,delta:ee};V0(ee,y.swipeDirection,y.swipeThreshold)?Hu(PO,g,F,{discrete:!0}):Hu(RO,p,F,{discrete:!0}),Z.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),OO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zh(ef,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return LO(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(iv,{asChild:!0,children:d.jsx(Jh,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},MO="ToastTitle",sS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ie.div,{...r,ref:e})});sS.displayName=MO;var jO="ToastDescription",iS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Ie.div,{...r,ref:e})});iS.displayName=jO;var oS="ToastAction",aS=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(cS,{altText:n,asChild:!0,children:d.jsx(lv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oS}\`. Expected non-empty \`string\`.`),null)});aS.displayName=oS;var lS="ToastClose",lv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=NO(lS,n);return d.jsx(cS,{asChild:!0,children:d.jsx(Ie.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,s.onClose)})})});lv.displayName=lS;var cS=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function uS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),VO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...uS(r))}}),e}function Hu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?GI(s,i):s.dispatchEvent(i)}var V0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function LO(t=()=>{}){const e=_n(t);Zr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function VO(t){return t.nodeType===t.ELEMENT_NODE}function FO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Up(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var UO=ZI,dS=tS,hS=rS,fS=sS,pS=iS,mS=aS,gS=lv;function yS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=yS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=yS(t))&&(r&&(r+=" "),r+=e);return r}const F0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U0=vS,zO=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const p=F0(h)||F0(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(E=>{let[y,I]=E;return Array.isArray(I)?I.includes({...i,...a}[y]):{...i,...a}[y]===I})?[...u,f,p]:u},[]);return U0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...BO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wS("lucide",s),...a},[...o.map(([u,h])=>b.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(HO,{ref:i,iconNode:e,className:wS(`lucide-${$O(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=_S("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=_S("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cv="-",qO=t=>{const e=GO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(cv);return a[0]===""&&a.length!==1&&a.shift(),ES(a,e)||KO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},ES=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ES(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(cv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},z0=/^\[(.+)\]$/,KO=t=>{if(z0.test(t)){const e=z0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return YO(Object.entries(t.classGroups),n).forEach(([i,o])=>{_g(o,r,i,e)}),r},_g=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(QO(s)){_g(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{_g(o,$0(e,i),n,r)})})},$0=(t,e)=>{let n=t;return e.split(cv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QO=t=>t.isThemeGetter,YO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,XO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},bS="!",JO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,f;for(let I=0;I<a.length;I++){let w=a[I];if(u===0){if(w===s&&(r||a.slice(I,I+i)===e)){l.push(a.slice(h,I)),h=I+i;continue}if(w==="/"){f=I;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(h),g=p.startsWith(bS),E=g?p.substring(1):p,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},ZO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},e2=t=>({cache:XO(t.cacheSize),parseClassName:JO(t),...qO(t)}),t2=/\s+/,n2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(t2);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let E=!!g,y=r(E?p.substring(0,g):p);if(!y){if(!E){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}E=!1}const I=ZO(h).join(":"),w=f?I+bS:I,_=w+y;if(i.includes(_))continue;i.push(_);const x=s(y,E);for(let C=0;C<x.length;++C){const P=x[C];i.push(w+P)}a=u+(a.length>0?" "+a:a)}return a};function r2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=TS(e))&&(r&&(r+=" "),r+=n);return r}const TS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=TS(t[r]))&&(n&&(n+=" "),n+=e);return n};function s2(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=e2(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=n2(l,n);return s(l,h),h}return function(){return i(r2.apply(null,arguments))}}const Le=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IS=/^\[(?:([a-z-]+):)?(.+)\]$/i,i2=/^\d+\/\d+$/,o2=new Set(["px","full","screen"]),a2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=t=>sa(t)||o2.has(t)||i2.test(t),ws=t=>Ha(t,"length",w2),sa=t=>!!t&&!Number.isNaN(Number(t)),zp=t=>Ha(t,"number",sa),El=t=>!!t&&Number.isInteger(Number(t)),h2=t=>t.endsWith("%")&&sa(t.slice(0,-1)),ue=t=>IS.test(t),_s=t=>a2.test(t),f2=new Set(["length","size","percentage"]),p2=t=>Ha(t,f2,SS),m2=t=>Ha(t,"position",SS),g2=new Set(["image","url"]),y2=t=>Ha(t,g2,x2),v2=t=>Ha(t,"",_2),bl=()=>!0,Ha=(t,e,n)=>{const r=IS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},w2=t=>l2.test(t)&&!c2.test(t),SS=()=>!1,_2=t=>u2.test(t),x2=t=>d2.test(t),E2=()=>{const t=Le("colors"),e=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),o=Le("borderSpacing"),a=Le("borderWidth"),l=Le("contrast"),u=Le("grayscale"),h=Le("hueRotate"),f=Le("invert"),p=Le("gap"),g=Le("gradientColorStops"),E=Le("gradientColorStopPositions"),y=Le("inset"),I=Le("margin"),w=Le("opacity"),_=Le("padding"),x=Le("saturate"),C=Le("scale"),P=Le("sepia"),M=Le("skew"),S=Le("space"),T=Le("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ue,e],O=()=>[ue,e],N=()=>["",jr,ws],L=()=>["auto",sa,ue],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ue],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[sa,ue];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[jr,ws],blur:["none","",_s,ue],brightness:ie(),borderColor:[t],borderRadius:["none","","full",_s,ue],borderSpacing:O(),borderWidth:N(),contrast:ie(),grayscale:$(),hueRotate:ie(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[h2,ws],inset:D(),margin:D(),opacity:ie(),padding:O(),saturate:ie(),scale:ie(),sepia:$(),skew:ie(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ue]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,ue]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",El,ue]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",El,ue]},ue]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[El,ue]},ue]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",sa,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,ws]}],"underline-offset":[{"underline-offset":["auto",jr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),m2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[jr,ue]}],"outline-w":[{outline:[jr,ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[jr,ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_s,v2]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_s,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[El,ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jr,ws,zp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b2=s2(E2);function Re(...t){return b2(vS(t))}function T2(t){return new Date(t).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}const I2=UO,CS=b.forwardRef(({className:t,...e},n)=>d.jsx(dS,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CS.displayName=dS.displayName;const S2=zO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AS=b.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(hS,{ref:r,className:Re(S2({variant:e}),t),...n}));AS.displayName=hS.displayName;const C2=b.forwardRef(({className:t,...e},n)=>d.jsx(mS,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));C2.displayName=mS.displayName;const RS=b.forwardRef(({className:t,...e},n)=>d.jsx(gS,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(xS,{className:"h-4 w-4"})}));RS.displayName=gS.displayName;const PS=b.forwardRef(({className:t,...e},n)=>d.jsx(fS,{ref:n,className:Re("text-sm font-semibold",t),...e}));PS.displayName=fS.displayName;const kS=b.forwardRef(({className:t,...e},n)=>d.jsx(pS,{ref:n,className:Re("text-sm opacity-90",t),...e}));kS.displayName=pS.displayName;function A2(){const{toasts:t}=eO();return d.jsxs(I2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(AS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(PS,{children:n}),r&&d.jsx(kS,{children:r})]}),s,d.jsx(RS,{})]},e)}),d.jsx(CS,{})]})}var B0=["light","dark"],R2="(prefers-color-scheme: dark)",P2=b.createContext(void 0),k2={setTheme:t=>{},themes:[]},N2=()=>{var t;return(t=b.useContext(P2))!=null?t:k2};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?B0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(E,y=!1,I=!0)=>{let w=o?o[E]:E,_=y?E+"|| ''":`'${w}'`,x="";return s&&I&&!y&&B0.includes(E)&&(x+=`d.style.colorScheme = '${E}';`),n==="class"?y||w?x+=`c.add(${_})`:x+="null":w&&(x+=`d[s](n,${_})`),x},g=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${R2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var D2=t=>{switch(t){case"success":return j2;case"info":return V2;case"warning":return L2;case"error":return F2;default:return null}},O2=Array(12).fill(0),M2=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},O2.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),F2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U2=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),z2=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},xg=1,$2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:xg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],H.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(H2(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||xg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Zt=new $2,B2=(t,e)=>{let n=(e==null?void 0:e.id)||xg++;return Zt.addToast({title:t,...e,id:n}),n},H2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",W2=B2,q2=()=>Zt.toasts,K2=()=>Zt.getActiveToasts();Object.assign(W2,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:q2,getToasts:K2});function G2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}G2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wu(t){return t.label!==void 0}var Q2=3,Y2="32px",X2="16px",H0=4e3,J2=356,Z2=14,eM=20,tM=200;function zn(...t){return t.filter(Boolean).join(" ")}function nM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var rM=t=>{var e,n,r,s,i,o,a,l,u,h,f;let{invert:p,toast:g,unstyled:E,interacting:y,setHeights:I,visibleToasts:w,heights:_,index:x,toasts:C,expanded:P,removeToast:M,defaultRichColors:S,closeButton:T,style:A,cancelButtonStyle:k,actionButtonStyle:D,className:O="",descriptionClassName:N="",duration:L,position:ee,gap:J,loadingIcon:Z,expandByDefault:F,classNames:$,icons:K,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:X}=t,[te,de]=H.useState(null),[Ne,ft]=H.useState(null),[me,us]=H.useState(!1),[sr,Tn]=H.useState(!1),[ln,ir]=H.useState(!1),[In,ds]=H.useState(!1),[Ti,Ii]=H.useState(!1),[tl,Si]=H.useState(0),[kr,xo]=H.useState(0),hs=H.useRef(g.duration||L||H0),lu=H.useRef(null),Vn=H.useRef(null),nl=x===0,cu=x+1<=w,Ce=g.type,Qe=g.dismissible!==!1,Eo=g.className||"",uu=g.descriptionClassName||"",Ci=H.useMemo(()=>_.findIndex(oe=>oe.toastId===g.id)||0,[_,g.id]),Xf=H.useMemo(()=>{var oe;return(oe=g.closeButton)!=null?oe:T},[g.closeButton,T]),fs=H.useMemo(()=>g.duration||L||H0,[g.duration,L]),bo=H.useRef(0),Nr=H.useRef(0),To=H.useRef(0),ps=H.useRef(null),[Jf,rl]=ee.split("-"),sl=H.useMemo(()=>_.reduce((oe,we,Pe)=>Pe>=Ci?oe:oe+we.height,0),[_,Ci]),il=z2(),Ai=g.invert||p,Ri=Ce==="loading";Nr.current=H.useMemo(()=>Ci*J+sl,[Ci,sl]),H.useEffect(()=>{hs.current=fs},[fs]),H.useEffect(()=>{us(!0)},[]),H.useEffect(()=>{let oe=Vn.current;if(oe){let we=oe.getBoundingClientRect().height;return xo(we),I(Pe=>[{toastId:g.id,height:we,position:g.position},...Pe]),()=>I(Pe=>Pe.filter(wt=>wt.toastId!==g.id))}},[I,g.id]),H.useLayoutEffect(()=>{if(!me)return;let oe=Vn.current,we=oe.style.height;oe.style.height="auto";let Pe=oe.getBoundingClientRect().height;oe.style.height=we,xo(Pe),I(wt=>wt.find(Xt=>Xt.toastId===g.id)?wt.map(Xt=>Xt.toastId===g.id?{...Xt,height:Pe}:Xt):[{toastId:g.id,height:Pe,position:g.position},...wt])},[me,g.title,g.description,I,g.id]);let Sn=H.useCallback(()=>{Tn(!0),Si(Nr.current),I(oe=>oe.filter(we=>we.toastId!==g.id)),setTimeout(()=>{M(g)},tM)},[g,M,I,Nr]);H.useEffect(()=>{if(g.promise&&Ce==="loading"||g.duration===1/0||g.type==="loading")return;let oe;return P||y||X&&il?(()=>{if(To.current<bo.current){let we=new Date().getTime()-bo.current;hs.current=hs.current-we}To.current=new Date().getTime()})():hs.current!==1/0&&(bo.current=new Date().getTime(),oe=setTimeout(()=>{var we;(we=g.onAutoClose)==null||we.call(g,g),Sn()},hs.current)),()=>clearTimeout(oe)},[P,y,g,Ce,X,il,Sn]),H.useEffect(()=>{g.delete&&Sn()},[Sn,g.delete]);function Dr(){var oe,we,Pe;return K!=null&&K.loading?H.createElement("div",{className:zn($==null?void 0:$.loader,(oe=g==null?void 0:g.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Ce==="loading"},K.loading):Z?H.createElement("div",{className:zn($==null?void 0:$.loader,(we=g==null?void 0:g.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Ce==="loading"},Z):H.createElement(M2,{className:zn($==null?void 0:$.loader,(Pe=g==null?void 0:g.classNames)==null?void 0:Pe.loader),visible:Ce==="loading"})}return H.createElement("li",{tabIndex:0,ref:Vn,className:zn(O,Eo,$==null?void 0:$.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Ce],(n=g==null?void 0:g.classNames)==null?void 0:n[Ce]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:S,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":me,"data-promise":!!g.promise,"data-swiped":Ti,"data-removed":sr,"data-visible":cu,"data-y-position":Jf,"data-x-position":rl,"data-index":x,"data-front":nl,"data-swiping":ln,"data-dismissible":Qe,"data-type":Ce,"data-invert":Ai,"data-swipe-out":In,"data-swipe-direction":Ne,"data-expanded":!!(P||F&&me),style:{"--index":x,"--toasts-before":x,"--z-index":C.length-x,"--offset":`${sr?tl:Nr.current}px`,"--initial-height":F?"auto":`${kr}px`,...A,...g.style},onDragEnd:()=>{ir(!1),de(null),ps.current=null},onPointerDown:oe=>{Ri||!Qe||(lu.current=new Date,Si(Nr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(ir(!0),ps.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,we,Pe,wt;if(In||!Qe)return;ps.current=null;let Xt=Number(((oe=Vn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$e=Number(((we=Vn.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),or=new Date().getTime()-((Pe=lu.current)==null?void 0:Pe.getTime()),_t=te==="x"?Xt:$e,Jt=Math.abs(_t)/or;if(Math.abs(_t)>=eM||Jt>.11){Si(Nr.current),(wt=g.onDismiss)==null||wt.call(g,g),ft(te==="x"?Xt>0?"right":"left":$e>0?"down":"up"),Sn(),ds(!0),Ii(!1);return}ir(!1),de(null)},onPointerMove:oe=>{var we,Pe,wt,Xt;if(!ps.current||!Qe||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let $e=oe.clientY-ps.current.y,or=oe.clientX-ps.current.x,_t=(Pe=t.swipeDirections)!=null?Pe:nM(ee);!te&&(Math.abs(or)>1||Math.abs($e)>1)&&de(Math.abs(or)>Math.abs($e)?"x":"y");let Jt={x:0,y:0};te==="y"?(_t.includes("top")||_t.includes("bottom"))&&(_t.includes("top")&&$e<0||_t.includes("bottom")&&$e>0)&&(Jt.y=$e):te==="x"&&(_t.includes("left")||_t.includes("right"))&&(_t.includes("left")&&or<0||_t.includes("right")&&or>0)&&(Jt.x=or),(Math.abs(Jt.x)>0||Math.abs(Jt.y)>0)&&Ii(!0),(wt=Vn.current)==null||wt.style.setProperty("--swipe-amount-x",`${Jt.x}px`),(Xt=Vn.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Jt.y}px`)}},Xf&&!g.jsx?H.createElement("button",{"aria-label":ie,"data-disabled":Ri,"data-close-button":!0,onClick:Ri||!Qe?()=>{}:()=>{var oe;Sn(),(oe=g.onDismiss)==null||oe.call(g,g)},className:zn($==null?void 0:$.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:U2):null,g.jsx||b.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:H.createElement(H.Fragment,null,Ce||g.icon||g.promise?H.createElement("div",{"data-icon":"",className:zn($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Dr():null,g.type!=="loading"?g.icon||(K==null?void 0:K[Ce])||D2(Ce):null):null,H.createElement("div",{"data-content":"",className:zn($==null?void 0:$.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:zn($==null?void 0:$.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?H.createElement("div",{"data-description":"",className:zn(N,uu,$==null?void 0:$.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),b.isValidElement(g.cancel)?g.cancel:g.cancel&&Wu(g.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:oe=>{var we,Pe;Wu(g.cancel)&&Qe&&((Pe=(we=g.cancel).onClick)==null||Pe.call(we,oe),Sn())},className:zn($==null?void 0:$.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,b.isValidElement(g.action)?g.action:g.action&&Wu(g.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:oe=>{var we,Pe;Wu(g.action)&&((Pe=(we=g.action).onClick)==null||Pe.call(we,oe),!oe.defaultPrevented&&Sn())},className:zn($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function W0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?X2:Y2;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var iM=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:p,style:g,visibleToasts:E=Q2,toastOptions:y,dir:I=W0(),gap:w=Z2,loadingIcon:_,icons:x,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:P}=t,[M,S]=H.useState([]),T=H.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[A,k]=H.useState([]),[D,O]=H.useState(!1),[N,L]=H.useState(!1),[ee,J]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=H.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),K=H.useRef(!1),ie=H.useCallback(X=>{S(te=>{var de;return(de=te.find(Ne=>Ne.id===X.id))!=null&&de.delete||Zt.dismiss(X.id),te.filter(({id:Ne})=>Ne!==X.id)})},[]);return H.useEffect(()=>Zt.subscribe(X=>{if(X.dismiss){S(te=>te.map(de=>de.id===X.id?{...de,delete:!0}:de));return}setTimeout(()=>{HI.flushSync(()=>{S(te=>{let de=te.findIndex(Ne=>Ne.id===X.id);return de!==-1?[...te.slice(0,de),{...te[de],...X},...te.slice(de+1)]:[X,...te]})})})}),[]),H.useEffect(()=>{if(h!=="system"){J(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:te})=>{J(te?"dark":"light")})}catch{X.addListener(({matches:de})=>{try{J(de?"dark":"light")}catch(Ne){console.error(Ne)}})}},[h]),H.useEffect(()=>{M.length<=1&&O(!1)},[M]),H.useEffect(()=>{let X=te=>{var de,Ne;s.every(ft=>te[ft]||te.code===ft)&&(O(!0),(de=Z.current)==null||de.focus()),te.code==="Escape"&&(document.activeElement===Z.current||(Ne=Z.current)!=null&&Ne.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),H.useEffect(()=>{if(Z.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,K.current=!1)}},[Z.current]),H.createElement("section",{ref:e,"aria-label":`${C} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((X,te)=>{var de;let[Ne,ft]=X.split("-");return M.length?H.createElement("ol",{key:X,dir:I==="auto"?W0():I,tabIndex:-1,ref:Z,className:a,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":Ne,"data-lifted":D&&M.length>1&&!i,"data-x-position":ft,style:{"--front-toast-height":`${((de=A[0])==null?void 0:de.height)||0}px`,"--width":`${J2}px`,"--gap":`${w}px`,...g,...sM(l,u)},onBlur:me=>{K.current&&!me.currentTarget.contains(me.relatedTarget)&&(K.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||K.current||(K.current=!0,$.current=me.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{N||O(!1)},onDragEnd:()=>O(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},M.filter(me=>!me.position&&te===0||me.position===X).map((me,us)=>{var sr,Tn;return H.createElement(rM,{key:me.id,icons:x,index:us,toast:me,defaultRichColors:f,duration:(sr=y==null?void 0:y.duration)!=null?sr:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:E,closeButton:(Tn=y==null?void 0:y.closeButton)!=null?Tn:o,interacting:N,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ie,toasts:M.filter(ln=>ln.position==me.position),heights:A.filter(ln=>ln.position==me.position),setHeights:k,expandByDefault:i,gap:w,loadingIcon:_,expanded:D,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const oM=({...t})=>{const{theme:e="system"}=N2();return d.jsx(iM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var aM=Fb.useId||(()=>{}),lM=0;function Ki(t){const[e,n]=b.useState(aM());return Zr(()=>{n(r=>r??String(lM++))},[t]),e?`radix-${e}`:""}const cM=["top","right","bottom","left"],si=Math.min,hn=Math.max,oh=Math.round,qu=Math.floor,vr=t=>({x:t,y:t}),uM={left:"right",right:"left",bottom:"top",top:"bottom"},dM={start:"end",end:"start"};function Eg(t,e,n){return hn(t,si(e,n))}function es(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function Wa(t){return t.split("-")[1]}function uv(t){return t==="x"?"y":"x"}function dv(t){return t==="y"?"height":"width"}function ii(t){return["top","bottom"].includes(ts(t))?"y":"x"}function hv(t){return uv(ii(t))}function hM(t,e,n){n===void 0&&(n=!1);const r=Wa(t),s=hv(t),i=dv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ah(o)),[o,ah(o)]}function fM(t){const e=ah(t);return[bg(t),e,bg(e)]}function bg(t){return t.replace(/start|end/g,e=>dM[e])}function pM(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function mM(t,e,n,r){const s=Wa(t);let i=pM(ts(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bg)))),i}function ah(t){return t.replace(/left|right|bottom|top/g,e=>uM[e])}function gM(t){return{top:0,right:0,bottom:0,left:0,...t}}function NS(t){return typeof t!="number"?gM(t):{top:t,right:t,bottom:t,left:t}}function lh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function q0(t,e,n){let{reference:r,floating:s}=t;const i=ii(e),o=hv(e),a=dv(o),l=ts(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Wa(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const yM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=q0(u,r,l),p=r,g={},E=0;for(let y=0;y<a.length;y++){const{name:I,fn:w}=a[y],{x:_,y:x,data:C,reset:P}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});h=_??h,f=x??f,g={...g,[I]:{...g[I],...C}},P&&E<=50&&(E++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:f}=q0(u,p,l)),y=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function _c(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=es(e,t),E=NS(g),I=a[p?f==="floating"?"reference":"floating":f],w=lh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},P=lh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(w.top-P.top+E.top)/C.y,bottom:(P.bottom-w.bottom+E.bottom)/C.y,left:(w.left-P.left+E.left)/C.x,right:(P.right-w.right+E.right)/C.x}}const vM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=es(t,e)||{};if(u==null)return{};const f=NS(h),p={x:n,y:r},g=hv(s),E=dv(g),y=await o.getDimensions(u),I=g==="y",w=I?"top":"left",_=I?"bottom":"right",x=I?"clientHeight":"clientWidth",C=i.reference[E]+i.reference[g]-p[g]-i.floating[E],P=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=M?M[x]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=a.floating[x]||i.floating[E]);const T=C/2-P/2,A=S/2-y[E]/2-1,k=si(f[w],A),D=si(f[_],A),O=k,N=S-y[E]-D,L=S/2-y[E]/2+T,ee=Eg(O,L,N),J=!l.arrow&&Wa(s)!=null&&L!==ee&&i.reference[E]/2-(L<O?k:D)-y[E]/2<0,Z=J?L<O?L-O:L-N:0;return{[g]:p[g]+Z,data:{[g]:ee,centerOffset:L-ee-Z,...J&&{alignmentOffset:Z}},reset:J}}}),wM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:y=!0,...I}=es(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ts(s),_=ii(a),x=ts(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=p||(x||!y?[ah(a)]:fM(a)),M=E!=="none";!p&&M&&P.push(...mM(a,y,E,C));const S=[a,...P],T=await _c(e,I),A=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(T[w]),f){const L=hM(s,o,C);A.push(T[L[0]],T[L[1]])}if(k=[...k,{placement:s,overflows:A}],!A.every(L=>L<=0)){var D,O;const L=(((D=i.flip)==null?void 0:D.index)||0)+1,ee=S[L];if(ee)return{data:{index:L,overflows:k},reset:{placement:ee}};let J=(O=k.filter(Z=>Z.overflows[0]<=0).sort((Z,F)=>Z.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!J)switch(g){case"bestFit":{var N;const Z=(N=k.filter(F=>{if(M){const $=ii(F.placement);return $===_||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:N[0];Z&&(J=Z);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function K0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G0(t){return cM.some(e=>t[e]>=0)}const _M=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=es(t,e);switch(r){case"referenceHidden":{const i=await _c(e,{...s,elementContext:"reference"}),o=K0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G0(o)}}}case"escaped":{const i=await _c(e,{...s,altBoundary:!0}),o=K0(i,n.floating);return{data:{escapedOffsets:o,escaped:G0(o)}}}default:return{}}}}};async function xM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ts(n),a=Wa(n),l=ii(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=es(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(g=a==="end"?E*-1:E),l?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const EM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await xM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},bM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:w,y:_}=I;return{x:w,y:_}}},...l}=es(t,e),u={x:n,y:r},h=await _c(e,l),f=ii(ts(s)),p=uv(f);let g=u[p],E=u[f];if(i){const I=p==="y"?"top":"left",w=p==="y"?"bottom":"right",_=g+h[I],x=g-h[w];g=Eg(_,g,x)}if(o){const I=f==="y"?"top":"left",w=f==="y"?"bottom":"right",_=E+h[I],x=E-h[w];E=Eg(_,E,x)}const y=a.fn({...e,[p]:g,[f]:E});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},TM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=es(t,e),h={x:n,y:r},f=ii(s),p=uv(f);let g=h[p],E=h[f];const y=es(a,e),I=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=p==="y"?"height":"width",C=i.reference[p]-i.floating[x]+I.mainAxis,P=i.reference[p]+i.reference[x]-I.mainAxis;g<C?g=C:g>P&&(g=P)}if(u){var w,_;const x=p==="y"?"width":"height",C=["top","left"].includes(ts(s)),P=i.reference[f]-i.floating[x]+(C&&((w=o.offset)==null?void 0:w[f])||0)+(C?0:I.crossAxis),M=i.reference[f]+i.reference[x]+(C?0:((_=o.offset)==null?void 0:_[f])||0)-(C?I.crossAxis:0);E<P?E=P:E>M&&(E=M)}return{[p]:g,[f]:E}}}},IM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=es(t,e),h=await _c(e,u),f=ts(s),p=Wa(s),g=ii(s)==="y",{width:E,height:y}=i.floating;let I,w;f==="top"||f==="bottom"?(I=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,I=p==="end"?"top":"bottom");const _=y-h.top-h.bottom,x=E-h.left-h.right,C=si(y-h[I],_),P=si(E-h[w],x),M=!e.middlewareData.shift;let S=C,T=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),M&&!p){const k=hn(h.left,0),D=hn(h.right,0),O=hn(h.top,0),N=hn(h.bottom,0);g?T=E-2*(k!==0||D!==0?k+D:hn(h.left,h.right)):S=y-2*(O!==0||N!==0?O+N:hn(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:S});const A=await o.getDimensions(a.floating);return E!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function tf(){return typeof window<"u"}function qa(t){return DS(t)?(t.nodeName||"").toLowerCase():"#document"}function vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(DS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DS(t){return tf()?t instanceof Node||t instanceof vn(t).Node:!1}function Jn(t){return tf()?t instanceof Element||t instanceof vn(t).Element:!1}function Sr(t){return tf()?t instanceof HTMLElement||t instanceof vn(t).HTMLElement:!1}function Q0(t){return!tf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vn(t).ShadowRoot}function Wc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function SM(t){return["table","td","th"].includes(qa(t))}function nf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function fv(t){const e=pv(),n=Jn(t)?Zn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function CM(t){let e=oi(t);for(;Sr(e)&&!Pa(e);){if(fv(e))return e;if(nf(e))return null;e=oi(e)}return null}function pv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pa(t){return["html","body","#document"].includes(qa(t))}function Zn(t){return vn(t).getComputedStyle(t)}function rf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oi(t){if(qa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q0(t)&&t.host||Rr(t);return Q0(e)?e.host:e}function OS(t){const e=oi(t);return Pa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sr(e)&&Wc(e)?e:OS(e)}function xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=OS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vn(s);if(i){const a=Tg(o);return e.concat(o,o.visualViewport||[],Wc(s)?s:[],a&&n?xc(a):[])}return e.concat(s,xc(s,[],n))}function Tg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MS(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Sr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=oh(n)!==i||oh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function mv(t){return Jn(t)?t:t.contextElement}function ia(t){const e=mv(t);if(!Sr(e))return vr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MS(e);let o=(i?oh(n.width):n.width)/r,a=(i?oh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AM=vr(0);function jS(t){const e=vn(t);return!pv()||!e.visualViewport?AM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vn(t)?!1:e}function eo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=mv(t);let o=vr(1);e&&(r?Jn(r)&&(o=ia(r)):o=ia(t));const a=RM(i,n,r)?jS(i):vr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=vn(i),g=r&&Jn(r)?vn(r):r;let E=p,y=Tg(E);for(;y&&r&&g!==E;){const I=ia(y),w=y.getBoundingClientRect(),_=Zn(y),x=w.left+(y.clientLeft+parseFloat(_.paddingLeft))*I.x,C=w.top+(y.clientTop+parseFloat(_.paddingTop))*I.y;l*=I.x,u*=I.y,h*=I.x,f*=I.y,l+=x,u+=C,E=vn(y),y=Tg(E)}}return lh({width:h,height:f,x:l,y:u})}function gv(t,e){const n=rf(t).scrollLeft;return e?e.left+n:eo(Rr(t)).left+n}function LS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:gv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function PM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rr(r),a=e?nf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=vr(1);const h=vr(0),f=Sr(r);if((f||!f&&!i)&&((qa(r)!=="body"||Wc(o))&&(l=rf(r)),Sr(r))){const g=eo(r);u=ia(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?LS(o,l,!0):vr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-l.scrollTop*u.y+h.y+p.y}}function kM(t){return Array.from(t.getClientRects())}function NM(t){const e=Rr(t),n=rf(t),r=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+gv(t);const a=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=hn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function DM(t,e){const n=vn(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=pv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function OM(t,e){const n=eo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Sr(t)?ia(t):vr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Y0(t,e,n){let r;if(e==="viewport")r=DM(t,n);else if(e==="document")r=NM(Rr(t));else if(Jn(e))r=OM(e,n);else{const s=jS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return lh(r)}function VS(t,e){const n=oi(t);return n===e||!Jn(n)||Pa(n)?!1:Zn(n).position==="fixed"||VS(n,e)}function MM(t,e){const n=e.get(t);if(n)return n;let r=xc(t,[],!1).filter(a=>Jn(a)&&qa(a)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?oi(t):t;for(;Jn(o)&&!Pa(o);){const a=Zn(o),l=fv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wc(o)&&!l&&VS(t,o))?r=r.filter(h=>h!==o):s=a,o=oi(o)}return e.set(t,r),r}function jM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?nf(e)?[]:MM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=Y0(e,h,s);return u.top=hn(f.top,u.top),u.right=si(f.right,u.right),u.bottom=si(f.bottom,u.bottom),u.left=hn(f.left,u.left),u},Y0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LM(t){const{width:e,height:n}=MS(t);return{width:e,height:n}}function VM(t,e,n){const r=Sr(e),s=Rr(e),i=n==="fixed",o=eo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=vr(0);if(r||!r&&!i)if((qa(e)!=="body"||Wc(s))&&(a=rf(e)),r){const p=eo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=gv(s));const u=s&&!r&&!i?LS(s,a):vr(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function $p(t){return Zn(t).position==="static"}function X0(t,e){if(!Sr(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function FS(t,e){const n=vn(t);if(nf(t))return n;if(!Sr(t)){let s=oi(t);for(;s&&!Pa(s);){if(Jn(s)&&!$p(s))return s;s=oi(s)}return n}let r=X0(t,e);for(;r&&SM(r)&&$p(r);)r=X0(r,e);return r&&Pa(r)&&$p(r)&&!fv(r)?n:r||CM(t)||n}const FM=async function(t){const e=this.getOffsetParent||FS,n=this.getDimensions,r=await n(t.floating);return{reference:VM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UM(t){return Zn(t).direction==="rtl"}const zM={convertOffsetParentRelativeRectToViewportRelativeRect:PM,getDocumentElement:Rr,getClippingRect:jM,getOffsetParent:FS,getElementRects:FM,getClientRects:kM,getDimensions:LM,getScale:ia,isElement:Jn,isRTL:UM};function US(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $M(t,e){let n=null,r;const s=Rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=u;if(a||e(),!p||!g)return;const E=qu(f),y=qu(s.clientWidth-(h+p)),I=qu(s.clientHeight-(f+g)),w=qu(h),x={rootMargin:-E+"px "+-y+"px "+-I+"px "+-w+"px",threshold:hn(0,si(1,l))||1};let C=!0;function P(M){const S=M[0].intersectionRatio;if(S!==l){if(!C)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!US(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(P,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,x)}n.observe(t)}return o(!0),i}function BM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=mv(t),h=s||i?[...u?xc(u):[],...xc(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&a?$M(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let E,y=l?eo(t):null;l&&I();function I(){const w=eo(t);y&&!US(y,w)&&n(),y=w,E=requestAnimationFrame(I)}return n(),()=>{var w;h.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(E)}}const HM=EM,WM=bM,qM=wM,KM=IM,GM=_M,J0=vM,QM=TM,YM=(t,e,n)=>{const r=new Map,s={platform:zM,...n},i={...s.platform,_c:r};return yM(t,e,{...s,platform:i})};var Ed=typeof document<"u"?b.useLayoutEffect:b.useEffect;function ch(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ch(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ch(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z0(t,e){const n=zS(t);return Math.round(e*n)/n}function Bp(t){const e=b.useRef(t);return Ed(()=>{e.current=t}),e}function XM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(r);ch(p,r)||g(r);const[E,y]=b.useState(null),[I,w]=b.useState(null),_=b.useCallback(F=>{F!==M.current&&(M.current=F,y(F))},[]),x=b.useCallback(F=>{F!==S.current&&(S.current=F,w(F))},[]),C=i||E,P=o||I,M=b.useRef(null),S=b.useRef(null),T=b.useRef(h),A=l!=null,k=Bp(l),D=Bp(s),O=Bp(u),N=b.useCallback(()=>{if(!M.current||!S.current)return;const F={placement:e,strategy:n,middleware:p};D.current&&(F.platform=D.current),YM(M.current,S.current,F).then($=>{const K={...$,isPositioned:O.current!==!1};L.current&&!ch(T.current,K)&&(T.current=K,Hc.flushSync(()=>{f(K)}))})},[p,e,n,D,O]);Ed(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const L=b.useRef(!1);Ed(()=>(L.current=!0,()=>{L.current=!1}),[]),Ed(()=>{if(C&&(M.current=C),P&&(S.current=P),C&&P){if(k.current)return k.current(C,P,N);N()}},[C,P,N,k,A]);const ee=b.useMemo(()=>({reference:M,floating:S,setReference:_,setFloating:x}),[_,x]),J=b.useMemo(()=>({reference:C,floating:P}),[C,P]),Z=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!J.floating)return F;const $=Z0(J.floating,h.x),K=Z0(J.floating,h.y);return a?{...F,transform:"translate("+$+"px, "+K+"px)",...zS(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,a,J.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:N,refs:ee,elements:J,floatingStyles:Z}),[h,N,ee,J,Z])}const JM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J0({element:r.current,padding:s}).fn(n):{}:r?J0({element:r,padding:s}).fn(n):{}}}},ZM=(t,e)=>({...HM(t),options:[t,e]}),ej=(t,e)=>({...WM(t),options:[t,e]}),tj=(t,e)=>({...QM(t),options:[t,e]}),nj=(t,e)=>({...qM(t),options:[t,e]}),rj=(t,e)=>({...KM(t),options:[t,e]}),sj=(t,e)=>({...GM(t),options:[t,e]}),ij=(t,e)=>({...JM(t),options:[t,e]});var oj="Arrow",$S=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});$S.displayName=oj;var aj=$S;function lj(t){const[e,n]=b.useState(void 0);return Zr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var BS="Popper",[HS,WS]=ls(BS),[VW,qS]=HS(BS),KS="PopperAnchor",GS=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qS(KS,n),o=b.useRef(null),a=vt(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ie.div,{...s,ref:a})});GS.displayName=KS;var yv="PopperContent",[cj,uj]=HS(yv),QS=b.forwardRef((t,e)=>{var me,us,sr,Tn,ln,ir;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:E,...y}=t,I=qS(yv,n),[w,_]=b.useState(null),x=vt(e,In=>_(In)),[C,P]=b.useState(null),M=lj(C),S=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],O=D.length>0,N={padding:k,boundary:D.filter(hj),altBoundary:O},{refs:L,floatingStyles:ee,placement:J,isPositioned:Z,middlewareData:F}=XM({strategy:"fixed",placement:A,whileElementsMounted:(...In)=>BM(...In,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[ZM({mainAxis:s+T,alignmentAxis:o}),l&&ej({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tj():void 0,...N}),l&&nj({...N}),rj({...N,apply:({elements:In,rects:ds,availableWidth:Ti,availableHeight:Ii})=>{const{width:tl,height:Si}=ds.reference,kr=In.floating.style;kr.setProperty("--radix-popper-available-width",`${Ti}px`),kr.setProperty("--radix-popper-available-height",`${Ii}px`),kr.setProperty("--radix-popper-anchor-width",`${tl}px`),kr.setProperty("--radix-popper-anchor-height",`${Si}px`)}}),C&&ij({element:C,padding:a}),fj({arrowWidth:S,arrowHeight:T}),p&&sj({strategy:"referenceHidden",...N})]}),[$,K]=JS(J),ie=_n(E);Zr(()=>{Z&&(ie==null||ie())},[Z,ie]);const X=(me=F.arrow)==null?void 0:me.x,te=(us=F.arrow)==null?void 0:us.y,de=((sr=F.arrow)==null?void 0:sr.centerOffset)!==0,[Ne,ft]=b.useState();return Zr(()=>{w&&ft(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(Tn=F.transformOrigin)==null?void 0:Tn.x,(ln=F.transformOrigin)==null?void 0:ln.y].join(" "),...((ir=F.hide)==null?void 0:ir.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(cj,{scope:n,placedSide:$,onArrowChange:P,arrowX:X,arrowY:te,shouldHideArrow:de,children:d.jsx(Ie.div,{"data-side":$,"data-align":K,...y,ref:x,style:{...y.style,animation:Z?void 0:"none"}})})})});QS.displayName=yv;var YS="PopperArrow",dj={top:"bottom",right:"left",bottom:"top",left:"right"},XS=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=uj(YS,r),o=dj[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(aj,{...s,ref:n,style:{...s.style,display:"block"}})})});XS.displayName=YS;function hj(t){return t!==null}var fj=t=>({name:"transformOrigin",options:t,fn(e){var I,w,_;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=JS(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let E="",y="";return u==="bottom"?(E=o?f:`${p}px`,y=`${-l}px`):u==="top"?(E=o?f:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(E=`${-l}px`,y=o?f:`${g}px`):u==="left"&&(E=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:E,y}}}});function JS(t){const[e,n="center"]=t.split("-");return[e,n]}var pj=GS,mj=QS,gj=XS,[sf,FW]=ls("Tooltip",[WS]),vv=WS(),ZS="TooltipProvider",yj=700,ex="tooltip.open",[vj,eC]=sf(ZS),tC=t=>{const{__scopeTooltip:e,delayDuration:n=yj,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),d.jsx(vj,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};tC.displayName=ZS;var nC="Tooltip",[UW,of]=sf(nC),Ig="TooltipTrigger",wj=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=of(Ig,n),i=eC(Ig,n),o=vv(n),a=b.useRef(null),l=vt(e,a,s.onTriggerChange),u=b.useRef(!1),h=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(pj,{asChild:!0,...o,children:d.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ye(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});wj.displayName=Ig;var _j="TooltipPortal",[zW,xj]=sf(_j,{forceMount:void 0}),ka="TooltipContent",rC=b.forwardRef((t,e)=>{const n=xj(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=of(ka,t.__scopeTooltip);return d.jsx(wi,{present:r||o.open,children:o.disableHoverableContent?d.jsx(sC,{side:s,...i,ref:e}):d.jsx(Ej,{side:s,...i,ref:e})})}),Ej=b.forwardRef((t,e)=>{const n=of(ka,t.__scopeTooltip),r=eC(ka,t.__scopeTooltip),s=b.useRef(null),i=vt(e,s),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,p=b.useCallback(()=>{a(null),f(!1)},[f]),g=b.useCallback((E,y)=>{const I=E.currentTarget,w={x:E.clientX,y:E.clientY},_=Sj(w,I.getBoundingClientRect()),x=Cj(w,_),C=Aj(y.getBoundingClientRect()),P=Pj([...x,...C]);a(P),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(l&&h){const E=I=>g(I,h),y=I=>g(I,l);return l.addEventListener("pointerleave",E),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",y)}}},[l,h,g,p]),b.useEffect(()=>{if(o){const E=y=>{const I=y.target,w={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(I))||(h==null?void 0:h.contains(I)),x=!Rj(w,o);_?p():x&&(p(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,h,o,u,p]),d.jsx(sC,{...t,ref:i})}),[bj,Tj]=sf(nC,{isInside:!1}),sC=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=of(ka,n),u=vv(n),{onClose:h}=l;return b.useEffect(()=>(document.addEventListener(ex,h),()=>document.removeEventListener(ex,h)),[h]),b.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(Xh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(mj,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(KI,{children:r}),d.jsx(bj,{scope:n,isInside:!0,children:d.jsx(EO,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rC.displayName=ka;var iC="TooltipArrow",Ij=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vv(n);return Tj(iC,n).isInside?null:d.jsx(gj,{...s,...r,ref:e})});Ij.displayName=iC;function Sj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Cj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Aj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Rj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function Pj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kj(e)}function kj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Nj=tC,oC=rC;const Dj=Nj,Oj=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(oC,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Oj.displayName=oC.displayName;var af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lf=typeof window>"u"||"Deno"in globalThis;function Bn(){}function Mj(t,e){return typeof t=="function"?t(e):t}function jj(t){return typeof t=="number"&&t>=0&&t!==1/0}function Lj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tx(t,e){return typeof t=="function"?t(e):t}function Vj(t,e){return typeof t=="function"?t(e):t}function nx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wv(o,e.options))return!1}else if(!bc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function rx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ec(e.options.mutationKey)!==Ec(i))return!1}else if(!bc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function wv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(t)}function Ec(t){return JSON.stringify(t,(e,n)=>Sg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!bc(t[n],e[n])):!1}function aC(t,e){if(t===e)return t;const n=sx(t)&&sx(e);if(n||Sg(t)&&Sg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=aC(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function sx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sg(t){if(!ix(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ix(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ix(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fj(t){return new Promise(e=>{setTimeout(e,t)})}function Uj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aC(t,e):e}function zj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $j(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _v=Symbol();function lC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ui,Ds,pa,xb,Bj=(xb=class extends af{constructor(){super();Ee(this,Ui);Ee(this,Ds);Ee(this,pa);ce(this,pa,e=>{if(!lf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ds)||this.setEventListener(U(this,pa))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ds))==null||e.call(this),ce(this,Ds,void 0))}setEventListener(e){var n;ce(this,pa,e),(n=U(this,Ds))==null||n.call(this),ce(this,Ds,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ui)!==e&&(ce(this,Ui,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ui)=="boolean"?U(this,Ui):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ui=new WeakMap,Ds=new WeakMap,pa=new WeakMap,xb),cC=new Bj,ma,Os,ga,Eb,Hj=(Eb=class extends af{constructor(){super();Ee(this,ma,!0);Ee(this,Os);Ee(this,ga);ce(this,ga,e=>{if(!lf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Os)||this.setEventListener(U(this,ga))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Os))==null||e.call(this),ce(this,Os,void 0))}setEventListener(e){var n;ce(this,ga,e),(n=U(this,Os))==null||n.call(this),ce(this,Os,e(this.setOnline.bind(this)))}setOnline(e){U(this,ma)!==e&&(ce(this,ma,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,ma)}},ma=new WeakMap,Os=new WeakMap,ga=new WeakMap,Eb),uh=new Hj;function Wj(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function qj(t){return Math.min(1e3*2**t,3e4)}function uC(t){return(t??"online")==="online"?uh.isOnline():!0}var dC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Hp(t){return t instanceof dC}function hC(t){let e=!1,n=0,r=!1,s;const i=Wj(),o=y=>{var I;r||(p(new dC(y)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>cC.isFocused()&&(t.networkMode==="always"||uh.isOnline())&&t.canRun(),h=()=>uC(t.networkMode)&&t.canRun(),f=y=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var I;s=w=>{(r||u())&&y(w)},(I=t.onPause)==null||I.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),E=()=>{if(r)return;let y;const I=n===0?t.initialPromise:void 0;try{y=I??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var M;if(r)return;const _=t.retry??(lf?0:3),x=t.retryDelay??qj,C=typeof x=="function"?x(n,w):x,P=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!P){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),Fj(C).then(()=>u()?void 0:g()).then(()=>{e?p(w):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?E():g().then(E),i)}}function Kj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Wt=Kj(),zi,bb,fC=(bb=class{constructor(){Ee(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jj(this.gcTime)&&ce(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lf?1/0:5*60*1e3))}clearGcTimeout(){U(this,zi)&&(clearTimeout(U(this,zi)),ce(this,zi,void 0))}},zi=new WeakMap,bb),ya,va,An,$i,Ot,Lc,Bi,Hn,Lr,Tb,Gj=(Tb=class extends fC{constructor(n){super();Ee(this,Hn);Ee(this,ya);Ee(this,va);Ee(this,An);Ee(this,$i);Ee(this,Ot);Ee(this,Lc);Ee(this,Bi);ce(this,Bi,!1),ce(this,Lc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,$i,n.client),ce(this,An,U(this,$i).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,ya,Yj(this.options)),this.state=n.state??U(this,ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ot))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Lc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,An).remove(this)}setData(n,r){const s=Uj(this.state.data,n,this.options);return Pt(this,Hn,Lr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Pt(this,Hn,Lr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Ot))==null?void 0:s.promise;return(i=U(this,Ot))==null||i.cancel(n),r?r.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ya))}isActive(){return this.observers.some(n=>Vj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Lj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ot))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ot))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,An).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ot)&&(U(this,Bi)?U(this,Ot).cancel({revert:!0}):U(this,Ot).cancelRetry()),this.scheduleGc()),U(this,An).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,Hn,Lr).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ot))return U(this,Ot).continueRetry(),U(this,Ot).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ce(this,Bi,!0),s.signal)})},o=()=>{const p=lC(this.options,r),g={client:U(this,$i),queryKey:this.queryKey,meta:this.meta};return i(g),ce(this,Bi,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,$i),state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ce(this,va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Pt(this,Hn,Lr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,E,y,I;Hp(p)&&p.silent||Pt(this,Hn,Lr).call(this,{type:"error",error:p}),Hp(p)||((E=(g=U(this,An).config).onError)==null||E.call(g,p,this),(I=(y=U(this,An).config).onSettled)==null||I.call(y,this.state.data,p,this)),this.scheduleGc()};return ce(this,Ot,hC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,E,y,I;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(E=(g=U(this,An).config).onSuccess)==null||E.call(g,p,this),(I=(y=U(this,An).config).onSettled)==null||I.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Pt(this,Hn,Lr).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Pt(this,Hn,Lr).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Hn,Lr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Ot).start()}},ya=new WeakMap,va=new WeakMap,An=new WeakMap,$i=new WeakMap,Ot=new WeakMap,Lc=new WeakMap,Bi=new WeakMap,Hn=new WeakSet,Lr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Qj(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Hp(i)&&i.revert&&U(this,va)?{...U(this,va),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,An).notify({query:this,type:"updated",action:n})})},Tb);function Qj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Yj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,Ib,Xj=(Ib=class extends af{constructor(e={}){super();Ee(this,ur);this.config=e,ce(this,ur,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??wv(s,n);let o=this.get(i);return o||(o=new Gj({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,ur).has(e.queryHash)||(U(this,ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,ur).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,ur).get(e)}getAll(){return[...U(this,ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nx(e,r)):n}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ur=new WeakMap,Ib),dr,Bt,Hi,hr,Es,Sb,Jj=(Sb=class extends fC{constructor(n){super();Ee(this,hr);Ee(this,dr);Ee(this,Bt);Ee(this,Hi);this.mutationId=n.mutationId,ce(this,Bt,n.mutationCache),ce(this,dr,[]),this.state=n.state||Zj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,dr).includes(n)||(U(this,dr).push(n),this.clearGcTimeout(),U(this,Bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,dr,U(this,dr).filter(r=>r!==n)),this.scheduleGc(),U(this,Bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,dr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Bt).remove(this))}continue(){var n;return((n=U(this,Hi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,h,f,p,g,E,y,I,w,_,x,C,P,M,S,T;ce(this,Hi,hC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{Pt(this,hr,Es).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{Pt(this,hr,Es).call(this,{type:"pause"})},onContinue:()=>{Pt(this,hr,Es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Bt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,Hi).canStart();try{if(!r){Pt(this,hr,Es).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,Bt).config).onMutate)==null?void 0:o.call(i,n,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));k!==this.state.context&&Pt(this,hr,Es).call(this,{type:"pending",context:k,variables:n,isPaused:s})}const A=await U(this,Hi).start();return await((h=(u=U(this,Bt).config).onSuccess)==null?void 0:h.call(u,A,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,n,this.state.context)),await((E=(g=U(this,Bt).config).onSettled)==null?void 0:E.call(g,A,null,this.state.variables,this.state.context,this)),await((I=(y=this.options).onSettled)==null?void 0:I.call(y,A,null,n,this.state.context)),Pt(this,hr,Es).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(w=U(this,Bt).config).onError)==null?void 0:_.call(w,A,n,this.state.context,this)),await((C=(x=this.options).onError)==null?void 0:C.call(x,A,n,this.state.context)),await((M=(P=U(this,Bt).config).onSettled)==null?void 0:M.call(P,void 0,A,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,A,n,this.state.context)),A}finally{Pt(this,hr,Es).call(this,{type:"error",error:A})}}finally{U(this,Bt).runNext(this)}}},dr=new WeakMap,Bt=new WeakMap,Hi=new WeakMap,hr=new WeakSet,Es=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{U(this,dr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Bt).notify({mutation:this,type:"updated",action:n})})},Sb);function Zj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Wn,Vc,Cb,eL=(Cb=class extends af{constructor(e={}){super();Ee(this,Ur);Ee(this,Wn);Ee(this,Vc);this.config=e,ce(this,Ur,new Set),ce(this,Wn,new Map),ce(this,Vc,0)}build(e,n,r){const s=new Jj({mutationCache:this,mutationId:++Iu(this,Vc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Ur).add(e);const n=Ku(e);if(typeof n=="string"){const r=U(this,Wn).get(n);r?r.push(e):U(this,Wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Ur).delete(e)){const n=Ku(e);if(typeof n=="string"){const r=U(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ku(e);if(typeof n=="string"){const r=U(this,Wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ku(e);if(typeof n=="string"){const s=(r=U(this,Wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wt.batch(()=>{U(this,Ur).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Ur).clear(),U(this,Wn).clear()})}getAll(){return Array.from(U(this,Ur))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rx(n,r))}findAll(e={}){return this.getAll().filter(n=>rx(e,n))}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Bn))))}},Ur=new WeakMap,Wn=new WeakMap,Vc=new WeakMap,Cb);function Ku(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ox(t){return{onFetch:(e,n)=>{var h,f,p,g,E;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const I=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=lC(e.options,e.fetchOptions),_=async(x,C,P)=>{if(y)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const M={client:e.client,queryKey:e.queryKey,pageParam:C,direction:P?"backward":"forward",meta:e.options.meta};I(M);const S=await w(M),{maxPages:T}=e.options,A=P?$j:zj;return{pages:A(x.pages,S,T),pageParams:A(x.pageParams,C,T)}};if(s&&i.length){const x=s==="backward",C=x?tL:ax,P={pages:i,pageParams:o},M=C(r,P);a=await _(P,M,x)}else{const x=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:ax(r,a);if(l>0&&C==null)break;a=await _(a,C),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var y,I;return(I=(y=e.options).persister)==null?void 0:I.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function ax(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function tL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Ms,js,wa,_a,Ls,xa,Ea,Ab,nL=(Ab=class{constructor(t={}){Ee(this,Xe);Ee(this,Ms);Ee(this,js);Ee(this,wa);Ee(this,_a);Ee(this,Ls);Ee(this,xa);Ee(this,Ea);ce(this,Xe,t.queryCache||new Xj),ce(this,Ms,t.mutationCache||new eL),ce(this,js,t.defaultOptions||{}),ce(this,wa,new Map),ce(this,_a,new Map),ce(this,Ls,0)}mount(){Iu(this,Ls)._++,U(this,Ls)===1&&(ce(this,xa,cC.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onFocus())})),ce(this,Ea,uh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onOnline())})))}unmount(){var t,e;Iu(this,Ls)._--,U(this,Ls)===0&&((t=U(this,xa))==null||t.call(this),ce(this,xa,void 0),(e=U(this,Ea))==null||e.call(this),ce(this,Ea,void 0))}isFetching(t){return U(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tx(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=Mj(e,i);if(o!==void 0)return U(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>U(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Xe);Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Xe);return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>U(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Bn).catch(Bn)}invalidateQueries(t,e={}){return Wt.batch(()=>(U(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>U(this,Xe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Bn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Bn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Xe).build(this,e);return n.isStaleByTime(tx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bn).catch(Bn)}fetchInfiniteQuery(t){return t.behavior=ox(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bn).catch(Bn)}ensureInfiniteQueryData(t){return t.behavior=ox(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return uh.isOnline()?U(this,Ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Xe)}getMutationCache(){return U(this,Ms)}getDefaultOptions(){return U(this,js)}setDefaultOptions(t){ce(this,js,t)}setQueryDefaults(t,e){U(this,wa).set(Ec(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,wa).values()],n={};return e.forEach(r=>{bc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,_a).set(Ec(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,_a).values()],n={};return e.forEach(r=>{bc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,js).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,js).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Xe).clear(),U(this,Ms).clear()}},Xe=new WeakMap,Ms=new WeakMap,js=new WeakMap,wa=new WeakMap,_a=new WeakMap,Ls=new WeakMap,xa=new WeakMap,Ea=new WeakMap,Ab),rL=b.createContext(void 0),sL=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(rL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const lx="popstate";function iL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Cg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:dh(s)}return aL(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oL(){return Math.random().toString(36).substr(2,8)}function cx(t,e){return{usr:t.state,key:t.key,idx:e}}function Cg(t,e,n,r){return n===void 0&&(n=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ka(e):e,{state:n,key:e&&e.key||r||oL()})}function dh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Us.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Tc({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Us.Pop;let I=h(),w=I==null?null:I-u;u=I,l&&l({action:a,location:y.location,delta:w})}function p(I,w){a=Us.Push;let _=Cg(y.location,I,w);u=h()+1;let x=cx(_,u),C=y.createHref(_);try{o.pushState(x,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function g(I,w){a=Us.Replace;let _=Cg(y.location,I,w);u=h();let x=cx(_,u),C=y.createHref(_);o.replaceState(x,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function E(I){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof I=="string"?I:dh(I);return _=_.replace(/ $/,"%20"),at(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return t(s,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(lx,f),l=I,()=>{s.removeEventListener(lx,f),l=null}},createHref(I){return e(s,I)},createURL:E,encodeLocation(I){let w=E(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(I){return o.go(I)}};return y}var ux;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ux||(ux={}));function lL(t,e,n){return n===void 0&&(n="/"),cL(t,e,n)}function cL(t,e,n,r){let s=typeof e=="string"?Ka(e):e,i=xv(s.pathname||"/",n);if(i==null)return null;let o=mC(t);uL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=EL(i);a=wL(o[l],u)}return a}function mC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ys([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mC(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:yL(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gC(i.path))s(i,o,l)}),e}function gC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=gC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dL=/^:[\w-]+$/,hL=3,fL=2,pL=1,mL=10,gL=-2,dx=t=>t==="*";function yL(t,e){let n=t.split("/"),r=n.length;return n.some(dx)&&(r+=gL),e&&(r+=fL),n.filter(s=>!dx(s)).reduce((s,i)=>s+(dL.test(i)?hL:i===""?pL:mL),r)}function vL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wL(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=_L({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ys([i,f.pathname]),pathnameBase:SL(Ys([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ys([i,f.pathnameBase]))}return o}function _L(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=a[f];return g&&!E?u[p]=void 0:u[p]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function xL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function EL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ka(t):t;return{pathname:n?n.startsWith("/")?n:TL(n,e):e,search:CL(r),hash:AL(s)}}function TL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yC(t,e){let n=IL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ka(t):(s=Tc({},t),at(!s.pathname||!s.pathname.includes("?"),Wp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Wp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Wp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=bL(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Ys=t=>t.join("/").replace(/\/\/+/g,"/"),SL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wC=["post","put","patch","delete"];new Set(wC);const PL=["get",...wC];new Set(PL);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}const Ev=b.createContext(null),kL=b.createContext(null),po=b.createContext(null),cf=b.createContext(null),mo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),_C=b.createContext(null);function NL(t,e){let{relative:n}=e===void 0?{}:e;qc()||at(!1);let{basename:r,navigator:s}=b.useContext(po),{hash:i,pathname:o,search:a}=EC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ys([r,o])),s.createHref({pathname:l,search:a,hash:i})}function qc(){return b.useContext(cf)!=null}function Kc(){return qc()||at(!1),b.useContext(cf).location}function xC(t){b.useContext(po).static||b.useLayoutEffect(t)}function uf(){let{isDataRoute:t}=b.useContext(mo);return t?WL():DL()}function DL(){qc()||at(!1);let t=b.useContext(Ev),{basename:e,future:n,navigator:r}=b.useContext(po),{matches:s}=b.useContext(mo),{pathname:i}=Kc(),o=JSON.stringify(yC(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return xC(()=>{a.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=vC(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ys([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function EC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(po),{matches:s}=b.useContext(mo),{pathname:i}=Kc(),o=JSON.stringify(yC(s,r.v7_relativeSplatPath));return b.useMemo(()=>vC(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OL(t,e){return ML(t,e)}function ML(t,e,n,r){qc()||at(!1);let{navigator:s,static:i}=b.useContext(po),{matches:o}=b.useContext(mo),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Kc(),f;if(e){var p;let w=typeof e=="string"?Ka(e):e;u==="/"||(p=w.pathname)!=null&&p.startsWith(u)||at(!1),f=w}else f=h;let g=f.pathname||"/",E=g;if(u!=="/"){let w=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=lL(t,{pathname:E}),I=UL(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ys([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Ys([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&I?b.createElement(cf.Provider,{value:{location:Ic({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Us.Pop}},I):I}function jL(){let t=HL(),e=RL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const LL=b.createElement(jL,null);class VL extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(mo.Provider,{value:this.props.routeContext},b.createElement(_C.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FL(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Ev);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(mo.Provider,{value:e},r)}function UL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||at(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=n,E=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,E=!1,y=null,I=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||LL,l&&(u<0&&p===0?(qL("route-fallback"),E=!0,I=null):u===p&&(E=!0,I=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let x;return g?x=y:E?x=I:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,b.createElement(FL,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(VL,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var bC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bC||{}),TC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TC||{});function zL(t){let e=b.useContext(Ev);return e||at(!1),e}function $L(t){let e=b.useContext(kL);return e||at(!1),e}function BL(t){let e=b.useContext(mo);return e||at(!1),e}function IC(t){let e=BL(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function HL(){var t;let e=b.useContext(_C),n=$L(),r=IC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WL(){let{router:t}=zL(bC.UseNavigateStable),e=IC(TC.UseNavigateStable),n=b.useRef(!1);return xC(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ic({fromRouteId:e},i)))},[t,e])}const hx={};function qL(t,e,n){hx[t]||(hx[t]=!0)}function KL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pt(t){at(!1)}function GL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Us.Pop,navigator:i,static:o=!1,future:a}=t;qc()&&at(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Ic({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ka(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:E="default"}=r,y=b.useMemo(()=>{let I=xv(h,l);return I==null?null:{location:{pathname:I,search:f,hash:p,state:g,key:E},navigationType:s}},[l,h,f,p,g,E,s]);return y==null?null:b.createElement(po.Provider,{value:u},b.createElement(cf.Provider,{children:n,value:y}))}function QL(t){let{children:e,location:n}=t;return OL(Ag(e),n)}new Promise(()=>{});function Ag(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Ag(r.props.children,i));return}r.type!==pt&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ag(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function YL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function XL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JL(t,e){return t.button===0&&(!e||e==="_self")&&!XL(t)}const ZL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eV="6";try{window.__reactRouterVersion=eV}catch{}const tV="startTransition",fx=Fb[tV];function nV(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=iL({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=b.useCallback(f=>{u&&fx?fx(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.useEffect(()=>KL(r),[r]),b.createElement(GL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const rV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f}=e,p=YL(e,ZL),{basename:g}=b.useContext(po),E,y=!1;if(typeof u=="string"&&sV.test(u)&&(E=u,rV))try{let x=new URL(window.location.href),C=u.startsWith("//")?new URL(x.protocol+u):new URL(u),P=xv(C.pathname,g);C.origin===x.origin&&P!=null?u=P+C.search+C.hash:y=!0}catch{}let I=NL(u,{relative:s}),w=iV(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function _(x){r&&r(x),x.defaultPrevented||w(x)}return b.createElement("a",Rg({},p,{href:E||I,onClick:y||i?r:_,ref:n,target:l}))});var px;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(px||(px={}));var mx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mx||(mx={}));function iV(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=uf(),u=Kc(),h=EC(t,{relative:o});return b.useCallback(f=>{if(JL(f,n)){f.preventDefault();let p=r!==void 0?r:dh(u)===dh(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}const Gl="generated",oV="pointerdown",aV="pointerup",gx="pointerleave",lV="pointerout",yx="pointermove",cV="touchstart",vx="touchend",uV="touchmove",dV="touchcancel",hV="resize",fV="visibilitychange",to="tsParticles - Error";class un{constructor(e,n,r){if(this._updateFromAngle=(s,i)=>{this.x=Math.cos(s)*i,this.y=Math.sin(s)*i},!Yn(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??0;else throw new Error(`${to} Vector3d not initialized correctly`)}static get origin(){return un.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return un.create(e.x,e.y,e.z)}static create(e,n,r){return new un(e,n,r)}add(e){return un.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return un.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return un.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return un.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return un.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return un.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class oa extends un{constructor(e,n){super(e,n,0)}static get origin(){return oa.create(0,0)}static clone(e){return oa.create(e.x,e.y)}static create(e,n){return new oa(e,n)}}let pV=Math.random;function ns(){return SC(pV(),0,1-1e-16)}function SC(t,e,n){return Math.min(Math.max(t,e),n)}function aa(t){const e=Tv(t);let n=bv(t);return e===n&&(n=0),ns()*(e-n)+n}function De(t){return Yn(t)?t:aa(t)}function bv(t){return Yn(t)?t:t.min}function Tv(t){return Yn(t)?t:t.max}function Te(t,e){if(t===e||e===void 0&&Yn(t))return t;const n=bv(t),r=Tv(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:Te(n,r)}function mV(t){const e=t.random,{enable:n,minimumValue:r}=Xs(e)?{enable:e,minimumValue:0}:e;return De(n?Te(t.value,r):t.value)}function gV(t,e){const n=t.x-e.x,r=t.y-e.y;return{dx:n,dy:r,distance:Math.sqrt(n**2+r**2)}}function Iv(t,e){return gV(t,e).distance}function yV(t,e,n){if(Yn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return ns()*Math.PI*2}}function vV(t){const e=oa.origin;return e.length=1,e.angle=t,e}function wV(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??ns()*t.size.width,y:((n=t.position)==null?void 0:n.y)??ns()*t.size.height}}function CC(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const _V={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Sc(){return _V}function df(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function xV(){return!df()&&typeof matchMedia<"u"}function AC(t){if(xV())return matchMedia(t)}function EV(t){if(!(df()||typeof MutationObserver>"u"))return new MutationObserver(t)}function bV(t,e){return t===e||_r(e)&&e.indexOf(t)>-1}function TV(t){return Math.floor(ns()*t.length)}function Sv(t,e,n=!0){return t[e!==void 0&&n?e%t.length:TV(t)]}function Ft(t,...e){for(const n of e){if(n==null)continue;if(!Rl(n)){t=n;continue}const r=Array.isArray(n);r&&(Rl(t)||!t||!Array.isArray(t))?t=[]:!r&&(Rl(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const i=n,o=i[s],a=t;a[s]=Rl(o)&&Array.isArray(o)?o.map(l=>Ft(a[s],l)):Ft(a[s],o)}}return t}function no(t,e){return _r(t)?t.map((n,r)=>e(n,r)):e(t,0)}function Ql(t,e,n){return _r(t)?Sv(t,e,n):t}function IV(t,e){const n=t.value,r=t.animation,s={delayTime:De(r.delay)*1e3,enable:r.enable,value:De(t.value)*e,max:Tv(n)*e,min:bv(n)*e,loops:0,maxLoops:De(r.count),time:0};if(r.enable){switch(s.decay=1-De(r.decay),r.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=ns()>=.5?"increasing":"decreasing";break}const i=r.mode==="auto";switch(r.startValue){case"min":s.value=s.min,i&&(s.status="increasing");break;case"max":s.value=s.max,i&&(s.status="decreasing");break;case"random":default:s.value=aa(s),i&&(s.status=ns()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function SV(t,e){if(!(t.mode==="percent")){const{mode:s,...i}=t;return i}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function RC(t,e){return SV(t,e)}function Xs(t){return typeof t=="boolean"}function wr(t){return typeof t=="string"}function Yn(t){return typeof t=="number"}function PC(t){return typeof t=="function"}function Rl(t){return typeof t=="object"&&t!==null}function _r(t){return Array.isArray(t)}const CV="random",hf=new Map;function wx(t){hf.set(t.key,t)}function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AV(t){for(const[,i]of hf)if(t.startsWith(i.stringPrefix))return i.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(i,o,a,l,u)=>o+o+a+a+l+l+(u!==void 0?u+u:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=r.exec(n);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function la(t,e,n=!0){if(!t)return;const r=wr(t)?{value:t}:t;if(wr(r.value))return kC(r.value,e,n);if(_r(r.value))return la({value:Sv(r.value,e,n)});for(const[,s]of hf){const i=s.handleRangeColor(r);if(i)return i}}function kC(t,e,n=!0){if(!t)return;const r=wr(t)?{value:t}:t;if(wr(r.value))return r.value===CV?NV():PV(r.value);if(_r(r.value))return kC({value:Sv(r.value,e,n)});for(const[,s]of hf){const i=s.handleColor(r);if(i)return i}}function _x(t,e,n=!0){const r=la(t,e,n);return r?RV(r):void 0}function RV(t){const e=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(e,n,r),i=Math.min(e,n,r),o={h:0,l:(s+i)/2,s:0};return s!==i&&(o.s=o.l<.5?(s-i)/(s+i):(s-i)/(2-s-i),o.h=e===s?(n-r)/(s-i):o.h=n===s?2+(r-e)/(s-i):4+(e-n)/(s-i)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function PV(t){return AV(t)}function Pg(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const r=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-r;e.r=qp(s,r,n.h+1/3),e.g=qp(s,r,n.h),e.b=qp(s,r,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function kV(t){const e=Pg(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function NV(t){return{b:Math.floor(aa(Te(0,256))),g:Math.floor(aa(Te(0,256))),r:Math.floor(aa(Te(0,256)))}}function bd(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function xx(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Ex(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function DV(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function OV(t,e,n,r){n&&(t.globalAlpha=r,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Kp(t,e){t.clearRect(0,0,e.width,e.height)}function MV(t){const{container:e,context:n,particle:r,delta:s,colorStyles:i,backgroundMask:o,composite:a,radius:l,opacity:u,shadow:h,transform:f}=t,p=r.getPosition(),g=r.rotation+(r.pathRotation?r.velocity.angle:0),E={sin:Math.sin(g),cos:Math.cos(g)},y={a:E.cos*(f.a??1),b:E.sin*(f.b??1),c:-E.sin*(f.c??1),d:E.cos*(f.d??1)};n.setTransform(y.a,y.b,y.c,y.d,p.x,p.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const I=r.shadowColor;h.enable&&I&&(n.shadowBlur=h.blur,n.shadowColor=bd(I),n.shadowOffsetX=h.offset.x,n.shadowOffsetY=h.offset.y),i.fill&&(n.fillStyle=i.fill);const w=r.strokeWidth??0;n.lineWidth=w,i.stroke&&(n.strokeStyle=i.stroke),jV(e,n,r,l,u,s),w>0&&n.stroke(),r.close&&n.closePath(),r.fill&&n.fill(),LV(e,n,r,l,u,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function jV(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,r,s,i,t.retina.pixelRatio)}function LV(t,e,n,r,s,i){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,r,s,i,t.retina.pixelRatio)}function VV(t,e,n){e.draw&&e.draw(t,n)}function FV(t,e,n,r){e.drawParticle&&e.drawParticle(t,n,r)}function UV(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function zV(t,e,n){const r=e[n];r!==void 0&&(t[n]=(t[n]??1)*r)}class $V{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const r of this._postDrawUpdaters)r.afterDraw&&r.afterDraw(n)},this._applyPreDrawUpdaters=(n,r,s,i,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:u,stroke:h}=l.getColorStyles(r,n,s,i);u&&(o.fill=u),h&&(o.stroke=h)}if(l.getTransformValues){const u=l.getTransformValues(r);for(const h in u)zV(a,u,h)}l.beforeDraw&&l.beforeDraw(r)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let r,s;for(const i of this._colorPlugins)if(!r&&i.particleFillColor&&(r=_x(i.particleFillColor(n))),!s&&i.particleStrokeColor&&(s=_x(i.particleStrokeColor(n))),r&&s)break;return[r,s]},this._initCover=()=>{const n=this.container.actualOptions,r=n.backgroundMask.cover,s=r.color,i=la(s);if(i){const o={...i,a:r.opacity};this._coverColorStyle=bd(o,o.a)}},this._initStyle=()=>{const n=this.element,r=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Ft({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const s in r.style){if(!s||!r.style)continue;const i=r.style[s];i&&n.style.setProperty(s,i,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,r=n.particles.move.trail,s=r.fill;if(r.enable)if(s.color){const i=la(s.color);if(!i)return;const o=n.particles.move.trail;this._trailFill={color:{...i},opacity:1/o.length}}else await new Promise((i,o)=>{if(!s.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/r.length},i()}),a.addEventListener("error",l=>{o(l.error)}),a.src=s.image})},this._paintBase=n=>{this.draw(r=>DV(r,this.size,n))},this._paintImage=(n,r)=>{this.draw(s=>OV(s,this.size,n,r))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(r=>r.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(r=>r.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,r=this._originalStyle;if(!(n&&r))return;const s=n.style;s.position=r.position,s.zIndex=r.zIndex,s.top=r.top,s.left=r.left,s.width=r.width,s.height=r.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const r="important",s=n.style;s.setProperty("position","fixed",r),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),r),s.setProperty("top","0",r),s.setProperty("left","0",r),s.setProperty("width","100%",r),s.setProperty("height","100%",r)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&r?r.color?this._paintBase(bd(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw(s=>{Kp(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const s=e.getFillColor(),i=e.getStrokeColor()??s;let[o,a]=this._getPluginParticleColors(e);o||(o=s),a||(a=i),!(!o&&!a)&&this.draw(l=>{var x;const u=this.container,h=u.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,g=e.bubble.opacity??((x=e.opacity)==null?void 0:x.value)??1,E=e.strokeOpacity??g,y=g*p,I=E*p,w={},_={fill:o?xx(o,y):void 0};_.stroke=a?xx(a,I):_.fill,this._applyPreDrawUpdaters(l,e,r,y,_,w),MV({container:u,context:l,particle:e,delta:n,colorStyles:_,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**f.sizeRate,opacity:y,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,r){this.draw(s=>FV(s,e,n,r))}drawPlugin(e,n){this.draw(r=>VV(r,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=EV(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){Sc().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,r=this.element;if(!r)return;const s=r.style;if(s){if(n.color){const i=la(n.color);s.backgroundColor=i?bd(i,n.opacity):""}else s.backgroundColor="";s.backgroundImage=n.image||"",s.backgroundPosition=n.position||"",s.backgroundRepeat=n.repeat||"",s.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Gl in e.dataset?e.dataset[Gl]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Ft({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Kp(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,r=e.canvas.size,s={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(s.height===r.height&&s.width===r.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const i={...r};return this.element.width=r.width=this.element.offsetWidth*n,this.element.height=r.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:r.width/i.width,height:r.height/i.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Kp(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function Cn(t,e,n,r,s){if(r){let i={passive:!0};Xs(s)?i.capture=s:s!==void 0&&(i=s),t.addEventListener(e,n,i)}else{const i=s;t.removeEventListener(e,n,i)}}class BV{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const r=this.container,s=r.actualOptions;if(this._canPush){const i=r.interactivity.mouse,o=i.position;if(!o)return;i.clickPosition={...o},i.clickTime=new Date().getTime();const a=s.interactivity.events.onClick;no(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const r=n,s=this.container,i=s.options,o=i.defaultThemes,a=r.matches?o.dark:o.light,l=i.themes.find(u=>u.name===a);l&&l.default.auto&&s.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,r=n.actualOptions;this._mouseTouchFinish(),r.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,r)=>{const s=this._handlers,i=this.container,o=i.actualOptions,a=i.interactivity.element;if(!a)return;const l=a,u=i.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Cn(a,yx,s.mouseMove,r),Cn(a,cV,s.touchStart,r),Cn(a,uV,s.touchMove,r),o.interactivity.events.onClick.enable?(Cn(a,vx,s.touchEndClick,r),Cn(a,aV,s.mouseUp,r),Cn(a,oV,s.mouseDown,r)):Cn(a,vx,s.touchEnd,r),Cn(a,n,s.mouseLeave,r),Cn(a,dV,s.touchCancel,r))},this._manageListeners=n=>{const r=this._handlers,s=this.container,i=s.actualOptions,o=i.interactivity.detectsOn,a=s.canvas.element;let l=gx;o==="window"?(s.interactivity.element=window,l=lV):o==="parent"&&a?s.interactivity.element=a.parentElement??a.parentNode:s.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&Cn(document,fV,r.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const r=this._handlers,s=AC("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){Cn(s,"change",r.themeChange,n);return}s.addListener!==void 0&&(n?s.addListener(r.oldThemeChange):s.removeListener(r.oldThemeChange))}},this._manageResize=n=>{const r=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Cn(window,hV,r.resize,n);return}const o=s.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(u=>u.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:r}=n;r.clicking=!0,r.downPosition=r.position},this._mouseTouchClick=n=>{const r=this.container,s=r.actualOptions,{mouse:i}=r.interactivity;i.inside=!0;let o=!1;const a=i.position;if(!(!a||!s.interactivity.events.onClick.enable)){for(const[,l]of r.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),i.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const r=n.mouse;delete r.position,delete r.clickPosition,delete r.downPosition,n.status=gx,r.inside=!1,r.clicking=!1},this._mouseTouchMove=n=>{const r=this.container,s=r.actualOptions,i=r.interactivity,o=r.canvas.element;if(!i||!i.element)return;i.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const u=n;if(i.element===window){if(o){const h=o.getBoundingClientRect();a={x:u.clientX-h.left,y:u.clientY-h.top}}}else if(s.interactivity.detectsOn==="parent"){const h=u.target,f=u.currentTarget;if(h&&f&&o){const p=h.getBoundingClientRect(),g=f.getBoundingClientRect(),E=o.getBoundingClientRect();a={x:u.offsetX+2*p.left-(g.left+E.left),y:u.offsetY+2*p.top-(g.top+E.top)}}else a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=n.type!=="touchmove",o){const u=n,h=u.touches[u.touches.length-1],f=o.getBoundingClientRect();a={x:h.clientX-(f.left??0),y:h.clientY-(f.top??0)}}const l=r.retina.pixelRatio;a&&(a.x*=l,a.y*=l),i.mouse.position=a,i.status=yx},this._touchEnd=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.delete(i.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const r=n,s=Array.from(r.changedTouches);for(const i of s)this._touches.set(i.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Cr{constructor(){this.value=""}static create(e,n){const r=new Cr;return r.load(e),n!==void 0&&(wr(n)||_r(n)?r.load({value:n}):r.load(n)),r}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class HV{constructor(){this.color=new Cr,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class WV{constructor(){this.color=new Cr,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class qV{constructor(){this.composite="destination-out",this.cover=new WV,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,r=wr(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class KV{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class GV{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class bx{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return no(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=no(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class QV{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class YV{constructor(){this.enable=!1,this.mode=[],this.parallax=new QV}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class XV{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class JV{constructor(){this.onClick=new GV,this.onDiv=new bx,this.onHover=new YV,this.resize=new XV}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=no(n,r=>{const s=new bx;return s.load(r),s})),this.onHover.load(e.onHover??e.onhover),Xs(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class ZV{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const r of n)r.loadModeOptions&&r.loadModeOptions(this,e)}}class NC{constructor(e,n){this.detectsOn="window",this.events=new JV,this.modes=new ZV(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class eF{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Ft({},e.options)))}}class tF{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Ft({},e.options)))}}class nF{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class rF{constructor(){this.name="",this.default=new nF}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ft({},e.options)))}}class Gp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=Te(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=Te(e.offset)),e.speed!==void 0&&(this.speed=Te(e.speed)),e.decay!==void 0&&(this.decay=Te(e.decay)),e.delay!==void 0&&(this.delay=Te(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class sF{constructor(){this.h=new Gp,this.s=new Gp,this.l=new Gp}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Cc extends Cr{constructor(){super(),this.animation=new sF}static create(e,n){const r=new Cc;return r.load(e),n!==void 0&&(wr(n)||_r(n)?r.load({value:n}):r.load(n)),r}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class iF{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class oF{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class aF{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=Te(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Te(e.speed)),e.decay!==void 0&&(this.decay=Te(e.decay)),e.delay!==void 0&&(this.delay=Te(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class DC extends aF{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class lF{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Gc{constructor(){this.random=new lF,this.value=0}load(e){e&&(Xs(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=Te(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class Tx extends Gc{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class OC{constructor(){this.horizontal=new Tx,this.vertical=new Tx}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class cF{constructor(){this.absorb=new iF,this.bounce=new OC,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new oF}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Te(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class uF{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=Te(e.offset)),e.value!==void 0&&(this.value=Te(e.value)))}}class dF{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,i;if(!e)return;e.distance!==void 0&&(this.distance=Te(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((s=e.rotate)==null?void 0:s.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const r=((i=e.rotate)==null?void 0:i.y)??e.rotateY;r!==void 0&&(this.rotate.y=r)}}class hF{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class fF{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Te(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Te(e.maxSpeed)))}}class pF{constructor(){this.clamp=!0,this.delay=new Gc,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ft(this.options,e.options)))}}class mF{load(e){e&&(e.color!==void 0&&(this.color=Cr.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class gF{constructor(){this.enable=!1,this.length=10,this.fill=new mF}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class yF{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class vF{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=Te(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ft({},e.position)))}}class wF{constructor(){this.angle=new uF,this.attract=new dF,this.center=new hF,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new fF,this.path=new pF,this.outModes=new yF,this.random=!1,this.size=!1,this.speed=2,this.spin=new vF,this.straight=!1,this.trail=new gF,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Yn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Te(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Yn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Te(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Rl(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Te(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class _F extends DC{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class xF extends Gc{constructor(){super(),this.animation=new _F,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=Te(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class EF{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const r=e.height??e.factor;r!==void 0&&(this.height=r)}}class bF{constructor(){this.density=new EF,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class TF{constructor(){this.blur=0,this.color=new Cr,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Cr.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Qp="character",Yp="char",Xp="image",Jp="images",Zp="polygon",em="star";class IF{constructor(){this.loadShape=(e,n,r,s)=>{if(!e)return;const i=_r(e),o=i?[]:{},a=i!==_r(this.options[n]),l=i!==_r(this.options[r]);a&&(this.options[n]=o),l&&s&&(this.options[r]=o),this.options[n]=Ft(this.options[n]??o,e),(!this.options[r]||s)&&(this.options[r]=Ft(this.options[r]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Qp]??this.options[Yp]}set character(e){this.options[Yp]=this.options[Qp]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Xp]??this.options[Jp]}set image(e){this.options[Jp]=this.options[Xp]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Zp]??this.options[em]}set polygon(e){this.options[em]=this.options[Zp]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const r in n){const s=n[r];s&&(this.options[r]=Ft(this.options[r]??{},s))}this.loadShape(e.character,Qp,Yp,!0),this.loadShape(e.polygon,Zp,em,!1),this.loadShape(e.image??e.images,Xp,Jp,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class SF extends DC{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class CF extends Gc{constructor(){super(),this.animation=new SF,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=Te(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Ix{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Cc.create(this.color,e.color)),e.width!==void 0&&(this.width=Te(e.width)),e.opacity!==void 0&&(this.opacity=Te(e.opacity)))}}class AF extends Gc{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class RF{constructor(e,n){this._engine=e,this._container=n,this.bounce=new OC,this.collisions=new cF,this.color=new Cc,this.color.value="#fff",this.groups={},this.move=new wF,this.number=new bF,this.opacity=new xF,this.reduceDuplicates=!1,this.shadow=new TF,this.shape=new IF,this.size=new CF,this.stroke=new Ix,this.zIndex=new AF}load(e){var s,i,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Cc.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Ft(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((s=e.move)==null?void 0:s.collisions)??((i=e.move)==null?void 0:i.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ft({},e.interactivity));const r=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(r&&(this.stroke=no(r,a=>{const l=new Ix;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const u of a)u.loadOptions&&u.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const u of l)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function MC(t,...e){for(const n of e)t.load(n)}function jC(t,e,...n){const r=new RF(t,e);return MC(r,...n),r}class PF{constructor(e,n){this._findDefaultTheme=r=>this.themes.find(s=>s.default.value&&s.default.mode===r)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=r=>{this.load(this._engine.plugins.getPreset(r))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new HV,this.backgroundMask=new qV,this.defaultThemes={},this.delay=0,this.fullScreen=new KV,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new NC(e,n),this.manualParticles=[],this.particles=jC(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&no(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=Te(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Te(e.duration));const r=e.fpsLimit??e.fps_limit;r!==void 0&&(this.fpsLimit=r),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen??e.backgroundMode;Xs(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new eF;return u.load(l),u})),this.particles.load(e.particles),this.style=Ft(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const i=this._engine.plugins.interactors.get(this._container);if(i)for(const l of i)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new tF;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(h=>h.name===l.name);if(u)u.load(l);else{const h=new rF;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,r){this.load(r);const s=this.responsive.find(i=>i.mode==="screen"&&screen?i.maxWidth>screen.availWidth:i.maxWidth*n>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const n=this.themes.find(r=>r.name===e);n&&this.load(n.options)}else{const n=AC("(prefers-color-scheme: dark)"),r=n&&n.matches,s=this._findDefaultTheme(r?"dark":"light");s&&this.load(s.options)}}}class kF{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const r of this._externalInteractors)r.clear(e,n);for(const r of this._particleInteractors)r.isEnabled(e)&&await r.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const Sx=t=>{if(!bV(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class NF{constructor(e,n,r,s,i,o){this.container=r,this._calcPosition=(a,l,u,h=0)=>{for(const[,_]of a.plugins){const x=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(x)return un.create(x.x,x.y,u)}const f=a.canvas.size,p=wV({size:f,position:l}),g=un.create(p.x,p.y,u),E=this.getRadius(),y=this.options.move.outModes,I=_=>{Sx({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:g.x,maxCoord:a.canvas.size.width,setCb:x=>g.x+=x,radius:E})},w=_=>{Sx({outMode:_,checkModes:["bounce","bounce-vertical"],coord:g.y,maxCoord:a.canvas.size.height,setCb:x=>g.y+=x,radius:E})};return I(y.left??y.default),I(y.right??y.default),w(y.top??y.default),w(y.bottom??y.default),this._checkOverlap(g,h)?this._calcPosition(a,void 0,u,h+1):g},this._calculateVelocity=()=>{const a=vV(this.direction),l=a.copy(),u=this.options.move;if(u.direction==="inside"||u.direction==="outside")return l;const h=Math.PI/180*De(u.angle.value),f=Math.PI/180*De(u.angle.offset),p={left:f-h/2,right:f+h/2};return u.straight||(l.angle+=aa(Te(p.left,p.right))),u.random&&typeof u.speed=="number"&&(l.length*=ns()),l},this._checkOverlap=(a,l=0)=>{const u=this.options.collisions,h=this.getRadius();if(!u.enable)return!1;const f=u.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${to} particle is overlapping and can't be placed`);return!!this.container.particles.find(g=>Iv(a,g.position)<h+g.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,u=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+u)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?UV(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,u=De(this.options.zIndex.value);this.position=this._calcPosition(l,a,SC(u,0,l.zLayers)),this.initialPosition=this.position.copy();const h=l.canvas.size;switch(this.moveCenter={...RC(this.options.move.center,h),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=yV(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=oa.origin},this._loadShapeData=(a,l)=>{const u=a.options[this.shape];if(u)return Ft({close:a.close,fill:a.fill},Ql(u,this.id,l))},this._engine=e,this.init(n,s,i,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,r=this.pathGenerator;for(const[,s]of n.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of n.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);r&&r.reset(this)}draw(e){const n=this.container;for(const[,r]of n.plugins)n.canvas.drawParticlePlugin(r,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Ex(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Ex(this.strokeColor))}init(e,n,r,s){const i=this.container,o=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=i.retina.pixelRatio,l=i.actualOptions,u=jC(this._engine,i,l.particles),h=u.shape.type,{reduceDuplicates:f}=u;this.shape=Ql(h,this.id,f);const p=u.shape;if(r&&r.shape&&r.shape.type){const x=r.shape.type,C=Ql(x,this.id,f);C&&(this.shape=C,p.load(r.shape))}this.shapeData=this._loadShapeData(p,f),u.load(r);const g=this.shapeData;g&&u.load(g.particles);const E=new NC(o,i);E.load(i.actualOptions.interactivity),E.load(u.interactivity),this.interactivity=E,this.fill=(g==null?void 0:g.fill)??u.shape.fill,this.close=(g==null?void 0:g.close)??u.shape.close,this.options=u;const y=this.options.move.path;this.pathDelay=mV(y.delay)*1e3,y.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(y.generator),this.pathGenerator&&i.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(i)),i.retina.initParticle(this),this.size=IV(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-De(this.options.move.decay);const I=i.particles;I.needsSort=I.needsSort||I.lastZIndex<this.position.z,I.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let w=i.drawers.get(this.shape);w||(w=this._engine.plugins.getShapeDrawer(this.shape),w&&i.drawers.set(this.shape,w)),w&&w.loadShape&&w.loadShape(this);const _=w==null?void 0:w.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=la(this.options.shadow.color);for(const x of i.particles.updaters)x.init(this);for(const x of i.particles.movers)x.init&&x.init(this);w&&w.particleInit&&w.particleInit(i,this);for(const[,x]of i.plugins)x.particleCreated&&x.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,r=this.position;return r.x>=-e&&r.y>=-e&&r.y<=n.height+e&&r.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class DF{constructor(e,n){this.position=e,this.particle=n}}class LC{constructor(e,n){this.position={x:e,y:n}}}class Na extends LC{constructor(e,n,r,s){super(e,n),this.size={height:s,width:r}}contains(e){const n=this.size.width,r=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+r}intersects(e){e instanceof ff&&e.intersects(this);const n=this.size.width,r=this.size.height,s=this.position,i=e.position,o=e instanceof Na?e.size:{width:0,height:0},a=o.width,l=o.height;return i.x<s.x+n&&i.x+a>s.x&&i.y<s.y+r&&i.y+l>s.y}}class ff extends LC{constructor(e,n,r){super(e,n),this.radius=r}contains(e){return Iv(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,s={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},i=this.radius;if(e instanceof ff){const o=i+e.radius,a=Math.sqrt(s.x**2+s.y**2);return o>a}else if(e instanceof Na){const{width:o,height:a}=e.size;return Math.pow(s.x-o,2)+Math.pow(s.y-a,2)<=i**2||s.x<=i+o&&s.y<=i+a||s.x<=o||s.y<=a}return!1}}class hh{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:r,y:s}=this.rectangle.position,{width:i,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new hh(new Na(r+i/2*(l%2),s+o/2*(Math.round(l/2)-l%2),i/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,r){const s=r||[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&Iv(e.position,i.position)>i.particle.getRadius()&&(!n||n(i.particle))||s.push(i.particle);if(this._divided)for(const i of this._subs)i.query(e,n,s);return s}queryCircle(e,n,r){return this.query(new ff(e.x,e.y,n),r)}queryRectangle(e,n,r){return this.query(new Na(e.x,e.y,n.width,n.height),r)}}const Cx=4,Ax=t=>new Na(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let OF=class{constructor(e,n){this._applyDensity=(s,i,o)=>{var g;if(!((g=s.number.density)!=null&&g.enable))return;const a=s.number,l=this._initDensityFactor(a.density),u=a.value,h=a.limit>0?a.limit:u,f=Math.min(u,h)*l+i,p=Math.min(this.count,this.filter(E=>E.group===o).length);this.limit=a.limit*l,p<f?this.push(Math.abs(f-p),void 0,s,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=s=>{const i=this._container;if(!i.canvas.element||!s.enable)return 1;const o=i.canvas.element,a=i.retina.pixelRatio;return o.width*o.height/(s.factor*a**2*s.area)},this._pushParticle=(s,i,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,s,i,o):l=new NF(this._engine,this._nextId,this._container,s,i,o);let u=!0;return a&&(u=a(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){Sc().warning(`${to} adding particle: ${l}`);return}},this._removeParticle=(s,i,o)=>{const a=this._array[s];if(!a||a.group!==i)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(s,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new kF(e,n);const r=n.canvas.size;this.quadTree=new hh(Ax(r),Cx),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const r of n.manualParticles)this.addParticle(r.position?RC(r.position,e.canvas.size):void 0,r.options)}addParticle(e,n,r,s){const i=this._container,o=i.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,r,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,r]of n.plugins)n.canvas.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var s;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let r=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,i]of e.plugins)if(i.particlesInitialization!==void 0&&(r=i.particlesInitialization()),r)break;this._interactionManager.init();for(const[,i]of e.pathGenerators)i.init(e);if(this.addManualParticles(),!r){for(const i in n.particles.groups){const o=n.particles.groups[i];for(let a=this.count,l=0;l<((s=o.number)==null?void 0:s.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,i)}for(let i=this.count;i<n.particles.number.value;i++)this.addParticle()}}push(e,n,r,s){this.pushing=!0;for(let i=0;i<e;i++)this.addParticle(n==null?void 0:n.position,r,s);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,r){this.removeAt(this._array.indexOf(e),void 0,n,r)}removeAt(e,n=1,r,s){if(e<0||e>this.count)return;let i=0;for(let o=e;i<n&&o<this.count;o++)this._removeParticle(o--,r,s)&&i++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const r in n)this._applyDensity(n[r],0,r);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,r=new Set;this.quadTree=new hh(Ax(n.canvas.size),Cx);for(const[,s]of n.pathGenerators)s.update();for(const[,s]of n.plugins)s.update&&s.update(e);for(const s of this._array){const i=n.canvas.resizeFactor;i&&!s.ignoresResizeRatio&&(s.position.x*=i.width,s.position.y*=i.height,s.initialPosition.x*=i.width,s.initialPosition.y*=i.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){r.add(s);continue}this.quadTree.insert(new DF(s.getPosition(),s))}if(r.size){const s=i=>!r.has(i);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...r)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const i of this.updaters)i.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete n.canvas.resizeFactor,this.needsSort){const s=this._zArray;s.sort((i,o)=>o.position.z-i.position.z||i.id-o.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}}};class MF{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||df()?1:window.devicePixelRatio,this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*r,e.canvas.size.height=o.offsetHeight*r}const s=n.particles,i=s.move;this.attractDistance=De(i.attract.distance)*r,this.maxSpeed=De(i.gravity.maxSpeed)*r,this.sizeAnimationSpeed=De(s.size.animation.speed)*r}initParticle(e){const n=e.options,r=this.pixelRatio,s=n.move,i=s.distance,o=e.retina;o.attractDistance=De(s.attract.distance)*r,o.moveDrift=De(s.drift)*r,o.moveSpeed=De(s.speed)*r,o.sizeAnimationSpeed=De(n.size.animation.speed)*r;const a=o.maxDistance;a.horizontal=i.horizontal!==void 0?i.horizontal*r:void 0,a.vertical=i.vertical!==void 0?i.vertical*r:void 0,o.maxSpeed=De(s.gravity.maxSpeed)*r}}function He(t){return t&&!t.destroyed}function jF(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Po(t,e,...n){const r=new PF(t,e);return MC(r,...n),r}const LF="default",Rx={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};let VF=class{constructor(e,n,r){this.id=n,this._intersectionManager=s=>{if(!(!He(this)||!this.actualOptions.pauseOnOutsideViewport))for(const i of s)i.target===this.interactivity.element&&(i.isIntersecting?this.play:this.pause)()},this._nextFrame=async s=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=s);const i=jF(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(i.value),this.lastFrameTime=s,i.value>1e3){this.draw(!1);return}if(await this.particles.draw(i),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(i){Sc().error(`${to} in animation loop`,i)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new MF(this),this.canvas=new $V(this),this.particles=new OF(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Po(this._engine,this),this.actualOptions=Po(this._engine,this),this._eventListeners=new BV(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!He(this))return;const n=this.interactivity.element;if(!n)return;const r=(f,p,g)=>{if(!He(this))return;const E=this.retina.pixelRatio,y={x:p.x*E,y:p.y*E},I=this.particles.quadTree.queryCircle(y,g*E);e(f,I)},s=f=>{if(!He(this))return;const p=f,g={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};r(f,g,1)},i=()=>{He(this)&&(u=!0,h=!1)},o=()=>{He(this)&&(h=!0)},a=f=>{if(He(this)){if(u&&!h){const p=f;let g=p.touches[p.touches.length-1];if(!g&&(g=p.changedTouches[p.changedTouches.length-1],!g))return;const E=this.canvas.element,y=E?E.getBoundingClientRect():void 0,I={x:g.clientX-(y?y.left:0),y:g.clientY-(y?y.top:0)};r(f,I,Math.max(g.radiusX,g.radiusY))}u=!1,h=!1}},l=()=>{He(this)&&(u=!1,h=!1)};let u=!1,h=!1;n.addEventListener("click",s),n.addEventListener("touchstart",i),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,r=!1){return!He(this)||!r&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??Rx),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!He(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.drawers)r.destroy&&r.destroy(this);for(const r of this.drawers.keys())this.drawers.delete(r);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(r=>r===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!He(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async r=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(r)})}async export(e,n={}){for(const[,r]of this.plugins){if(!r.export)continue;const s=await r.export(e,n);if(s.supported)return s.blob}Sc().error(`${to} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&He(this)}handleClickMode(e){if(He(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!He(this))return;const e=this._engine.plugins.getSupportedShapes();for(const r of e){const s=this._engine.plugins.getShapeDrawer(r);s&&this.drawers.set(r,s)}this._options=Po(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Po(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[r,s]of n)this.plugins.set(r,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=De(this.actualOptions.duration)*1e3,this._delay=De(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,r]of this.drawers)r.init&&await r.init(this);for(const[,r]of this.plugins)r.init&&await r.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,r]of this.plugins)r.particlesSetup&&r.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){He(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(He(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!He(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,r]of this.plugins)r.play&&r.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(He(this))return this.stop(),this.start()}async reset(){if(He(this))return this._initialSourceOptions=void 0,this._options=Po(this._engine,this),this.actualOptions=Po(this._engine,this,this._options),this.refresh()}setNoise(e,n,r){He(this)&&this.setPath(e,n,r)}setPath(e,n,r){if(!e||!He(this))return;const s={...Rx};if(PC(e))s.generate=e,n&&(s.init=n),r&&(s.update=r);else{const i=s;s.generate=e.generate||i.generate,s.init=e.init||i.init,s.update=e.update||i.update}this.addPath(LF,s,!0)}async start(){!He(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!He(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}};class FF{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let r=this._listeners.get(e);r||(r=[],this._listeners.set(e,r)),r.push(n)}dispatchEvent(e,n){const r=this._listeners.get(e);r&&r.forEach(s=>s(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const r=this._listeners.get(e);if(!r)return;const s=r.length,i=r.indexOf(n);i<0||(s===1?this._listeners.delete(e):r.splice(i,1))}}function tm(t,e,n,r=!1){let s=e.get(t);return(!s||r)&&(s=[...n.values()].map(i=>i(t)),e.set(t,s)),s}class UF{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){no(e,r=>{!this.getShapeDrawer(r)&&this.drawers.set(r,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const r of this.plugins)r.needsPlugin(e.actualOptions)&&n.set(r.id,r.getPlugin(e));return n}getInteractors(e,n=!1){return tm(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return tm(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return tm(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const r of this.plugins)r.loadOptions(e,n)}loadParticlesOptions(e,n,...r){const s=this.updaters.get(e);if(s)for(const i of s)i.loadOptions&&i.loadOptions(n,...r)}}async function zF(t){const e=Ql(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(Sc().error(`${to} ${n.status} while retrieving config file`),t.fallback)}function $F(t){return!t.id&&!t.element&&!t.url&&!t.options}function BF(t){return!$F(t)}class HF{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new FF,this._initialized=!1,this.plugins=new UF(this)}get configs(){const e={};for(const[n,r]of this._configs)e[n]=r;return e}get version(){return"2.12.0"}addConfig(e,n){wr(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,r=!0){this.plugins.addInteractor(e,n),await this.refresh(r)}async addMover(e,n,r=!0){this.plugins.addParticleMover(e,n),await this.refresh(r)}async addParticleUpdater(e,n,r=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(r)}async addPathGenerator(e,n,r=!0){this.plugins.addPathGenerator(e,n),await this.refresh(r)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,r=!1,s=!0){this.plugins.addPreset(e,n,r),await this.refresh(s)}async addShape(e,n,r,s,i,o=!0){let a,l=o,u,h,f;Xs(r)?(l=r,u=void 0):u=r,Xs(s)?(l=s,h=void 0):h=s,Xs(i)?(l=i,f=void 0):f=i,PC(n)?a={afterEffect:h,destroy:f,draw:n,init:u}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),r=n[e];if(!r||r.destroyed){n.splice(e,1);return}return r}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,r){let s;return BF(e)?s=e:(s={},wr(e)?s.id=e:s.options=e,Yn(n)?s.index=n:s.options=n??s.options,s.index=r??s.index),this._loadParams(s)}async loadJSON(e,n,r){let s,i;return Yn(n)||n===void 0?s=e:(i=e,s=n),this._loadParams({id:i,url:s,index:r})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,r,s){const i={index:s};return wr(e)?i.id=e:i.element=e,n instanceof HTMLElement?i.element=n:i.options=n,Yn(r)?i.index=r:i.options=r??i.options,this._loadParams(i)}async setJSON(e,n,r,s){const i={};return e instanceof HTMLElement?(i.element=e,i.url=n,i.index=r):(i.id=e,i.element=n,i.url=r,i.index=s),this._loadParams(i)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${to} can only set click handlers after calling tsParticles.load()`);for(const r of n)r.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(ns()*1e4)}`,{index:r,url:s}=e,i=s?await zF({fallback:e.options,url:s,index:r}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=Ql(i,r),l=this.dom(),u=l.findIndex(p=>p.id===n);if(u>=0){const p=this.domItem(u);p&&!p.destroyed&&(p.destroy(),l.splice(u,1))}let h;if(o.tagName.toLowerCase()==="canvas")h=o,h.dataset[Gl]="false";else{const p=o.getElementsByTagName("canvas");p.length?(h=p[0],h.dataset[Gl]="false"):(h=document.createElement("canvas"),h.dataset[Gl]="true",o.appendChild(h))}h.style.width||(h.style.width="100%"),h.style.height||(h.style.height="100%");const f=new VF(this,n,a);return u>=0?l.splice(u,0,f):l.push(f),f.canvas.loadCanvas(h),await f.start(),f}}class WF{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return Pg(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return Pg({h:De(r.h),l:De(r.l),s:De(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?kV({a:r.length>4?CC(r[5]):1,h:parseInt(r[1],10),l:parseInt(r[3],10),s:parseInt(r[2],10)}):void 0}}class qF{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:De(r.r),g:De(r.g),b:De(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,r=n.exec(e);return r?{a:r.length>4?CC(r[5]):1,b:parseInt(r[3],10),g:parseInt(r[2],10),r:parseInt(r[1],10)}:void 0}}function KF(){const t=new qF,e=new WF;wx(t),wx(e);const n=new HF;return n.init(),n}const kg=KF();df()||(window.tsParticles=kg);const Yo=t=>typeof t=="object"&&t!==null;function fh(t,e,n=()=>!1){if(!Yo(t)||!Yo(e))return t===e;const r=Object.keys(t).filter(i=>!n(i)),s=Object.keys(e).filter(i=>!n(i));if(r.length!==s.length)return!1;for(const i of r){const o=t[i],a=e[i];if(Yo(o)&&Yo(a)){if(o===e&&a===t)continue;if(!fh(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!VC(o,a,n))return!1}else if(o!==a)return!1}return!0}function VC(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],i=e[r];if(Array.isArray(s)&&Array.isArray(i)){if(!VC(s,i,n))return!1}else if(Yo(s)&&Yo(i)){if(!fh(s,i,n))return!1}else if(s!==i)return!1}return!0}const FC="tsparticles";class pf extends b.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,r=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!fh(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!fh(n,r,s=>s.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(kg),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:r,canvasClassName:s,id:i}=this.props;return H.createElement("div",{className:r,id:i},H.createElement("canvas",{className:s,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??pf.defaultProps.id??FC,n=await kg.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}}pf.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:FC};const GF="/assets/announcement-DCI9Ouo9.jpg",QF="/assets/marketplace-CGpY9j--.jpg",YF="/assets/lostfound-DkIhAORh.jpg",XF="/assets/testimonial-CL03koN3.jpg",JF="/assets/pencil-CnPddmHL.jpg",Px=["bg-gradient-to-r from-purple-500 to-pink-500","bg-gradient-to-r from-green-400 to-blue-500","bg-gradient-to-r from-orange-400 to-red-500","bg-gradient-to-r from-indigo-400 to-purple-500"],ZF=()=>{const[t,e]=b.useState("");return b.useEffect(()=>{e(Px[Math.floor(Math.random()*Px.length)])},[]),d.jsxs("div",{className:`min-h-screen text-gray-900 font-sans ${t} transition-all duration-500`,children:[d.jsx("nav",{className:"navbar p-4 flex justify-between items-center",children:d.jsxs("h1",{className:"text-3xl font-bold text-white py-2 px-6 rounded-lg shadow-lg",children:["Uni",d.jsx("span",{className:"text-yellow-300",children:"+"})]})}),d.jsxs("header",{className:"hero-section relative text-white text-center py-16",children:[d.jsx(pf,{className:"absolute inset-0",options:{background:{color:"transparent"},particles:{number:{value:80},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.4},size:{value:3},move:{enable:!0,speed:1}}}}),d.jsxs("div",{className:"relative z-10 animate-fade-in",children:[d.jsx("h2",{className:"text-6xl font-extrabold drop-shadow-lg",children:"Elevate Your University Experience "}),d.jsx("p",{className:"mt-4 text-lg max-w-2xl mx-auto animate-slide-up",children:"UniPlus helps you stay updated with announcements, buy & sell on the marketplace, and recover lost items."}),d.jsxs("div",{className:"mt-6 space-x-4",children:[d.jsx(Fe,{to:"/signup",children:d.jsx("button",{className:"px-6 py-3 rounded-lg text-white font-bold bg-yellow-300 hover:bg-yellow-400 transition",children:"Get Started"})}),d.jsx(Fe,{to:"/login",children:d.jsx("button",{className:"px-6 py-3 rounded-lg text-white font-bold bg-gray-800 hover:bg-gray-900 transition",children:"Log in"})})]})]})]}),d.jsxs("section",{className:"container mx-auto py-16 px-6 md:px-20",children:[d.jsx("h3",{className:"text-4xl font-bold text-center text-white",children:"Everything You Need in One Place"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 mt-10",children:[d.jsx(Gu,{title:"Announcements",image:GF,description:"Stay up-to-date with university events and notices.",link:"/announcements"}),d.jsx(Gu,{title:"Marketplace",image:QF,description:"Buy and sell items with university members.",link:"/marketplace"}),d.jsx(Gu,{title:"Lost & Found",image:YF,description:"Report lost items or find belongings.",link:"/lost-found"}),d.jsx(Gu,{title:"Notes and Papers",image:JF,description:"Find your notes and exams curated.",link:"/Notes"})]})]}),d.jsxs("section",{className:"py-16 text-center bg-opacity-50 bg-white backdrop-blur-lg rounded-lg mx-4",children:[d.jsx("img",{src:XF,alt:"Dr. Sarah Johnson",className:"mx-auto w-24 h-24 rounded-full shadow-md"}),d.jsx("blockquote",{className:"text-2xl italic text-gray-800 mt-6",children:"UniPlus has completely transformed how students interact with campus services."}),d.jsx("p",{className:"mt-6 font-bold text-lg text-gray-900",children:"Dr. Sarah Johnson"}),d.jsx("p",{className:"text-gray-700",children:"Dean of Student Affairs"})]}),d.jsx("footer",{className:"footer text-center py-4 text-white bg-black",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," UniPlus. All rights reserved."]})})]})},Gu=({title:t,description:e,link:n,image:r})=>d.jsxs("div",{className:"bg-white bg-opacity-90 p-6 shadow-md rounded-lg text-center hover:shadow-lg transition-all duration-300 flex flex-col h-full",children:[d.jsx("img",{src:r,alt:t,className:"mx-auto w-32 h-32 rounded-md shadow-md"}),d.jsx("h4",{className:"text-2xl font-bold mt-4 text-gray-900",children:t}),d.jsx("p",{className:"text-gray-600 mt-2 flex-grow",children:e}),d.jsx(Fe,{to:n,className:"mt-auto",children:d.jsx("button",{className:"mt-6 px-8 py-3 w-full rounded-md font-semibold text-white bg-yellow-400 hover:bg-yellow-500 transition",children:"Explore"})})]}),Mt=({children:t,variant:e="default",size:n="default",className:r,loading:s=!1,icon:i,iconPosition:o="left",...a})=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u={default:"bg-primary text-primary-foreground shadow hover:bg-primary/90 focus-visible:ring-primary",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 focus-visible:ring-destructive",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground focus-visible:ring-primary",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 focus-visible:ring-primary",ghost:"hover:bg-accent hover:text-accent-foreground focus-visible:ring-primary",link:"text-primary underline-offset-4 hover:underline focus-visible:ring-primary",primary:"bg-uniplus-600 text-white shadow hover:bg-uniplus-700 focus-visible:ring-uniplus-500",accent:"bg-uniplus-500 text-white shadow hover:bg-uniplus-600 focus-visible:ring-uniplus-400",glass:"glass-effect text-primary shadow-md hover:shadow-lg focus-visible:ring-primary"},h={default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-11 rounded-md px-8 text-base",icon:"h-9 w-9"},f=()=>i?H.cloneElement(i,{className:Re("h-5 w-5",t&&o==="left"&&"mr-2",t&&o==="right"&&"ml-2")}):null;return d.jsxs("button",{className:Re(l,u[e],h[n],s&&"cursor-wait",r),disabled:s||a.disabled,...a,children:[s&&d.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o==="left"&&f(),t,o==="right"&&f()]})},eU=()=>d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4",children:[d.jsx("h1",{className:"text-6xl font-bold text-uniplus-600",children:"404"}),d.jsx("h2",{className:"mt-4 text-2xl font-semibold",children:"Page Not Found"}),d.jsx("p",{className:"mt-2 text-center text-muted-foreground",children:"The page you are looking for doesn't exist or has been moved."}),d.jsx("div",{className:"mt-8",children:d.jsx(Fe,{to:"/",children:d.jsx(Mt,{children:"Return Home"})})})]}),bn=({children:t,className:e,as:n="div",size:r="default",...s})=>{const i={sm:"max-w-3xl",default:"max-w-5xl",md:"max-w-5xl",lg:"max-w-6xl",xl:"max-w-7xl",full:"max-w-full"};return d.jsx(n,{className:Re("mx-auto w-full px-4 sm:px-6 lg:px-8",i[r],e),...s,children:t})},tU=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new rU;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sU=function(t){const e=UC(t);return zC.encodeByteArray(e,!0)},ph=function(t){return sU(t).replace(/\./g,"")},$C=function(t){try{return zC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>iU().__FIREBASE_DEFAULTS__,aU=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$C(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return tU()||oU()||aU()||lU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BC=t=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HC=t=>{const e=BC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WC=()=>{var t;return(t=mf())===null||t===void 0?void 0:t.config},qC=t=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ph(JSON.stringify(n)),ph(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function dU(){var t;const e=(t=mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mU(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gU(){return!dU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yU(){try{return typeof indexedDB=="object"}catch{return!1}}function vU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wU,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_U(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function _U(t,e){return t.replace(xU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xU=/\{\$([^}]+)}/g;function EU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Nx(i)&&Nx(o)){if(!ai(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Nx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bU(t,e){const n=new TU(t,e);return n.subscribe.bind(n)}class TU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=nm),s.error===void 0&&(s.error=nm),s.complete===void 0&&(s.complete=nm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AU(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CU(t){return t===Mi?void 0:t}function AU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const PU={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},kU=he.INFO,NU={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},DU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NU[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=kU,this._logHandler=DU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const OU=(t,e)=>e.some(n=>t instanceof n);let Dx,Ox;function MU(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jU(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GC=new WeakMap,Ng=new WeakMap,QC=new WeakMap,rm=new WeakMap,Av=new WeakMap;function LU(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GC.set(n,t)}).catch(()=>{}),Av.set(e,t),e}function VU(t){if(Ng.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ng.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FU(t){Dg=t(Dg)}function UU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return QC.set(r,e.sort?e.sort():[e]),Js(r)}:jU().includes(t)?function(...e){return t.apply(sm(this),e),Js(GC.get(this))}:function(...e){return Js(t.apply(sm(this),e))}}function zU(t){return typeof t=="function"?UU(t):(t instanceof IDBTransaction&&VU(t),OU(t,MU())?new Proxy(t,Dg):t)}function Js(t){if(t instanceof IDBRequest)return LU(t);if(rm.has(t))return rm.get(t);const e=zU(t);return e!==t&&(rm.set(t,e),Av.set(e,t)),e}const sm=t=>Av.get(t);function $U(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Js(o.result),l.oldVersion,l.newVersion,Js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const BU=["get","getKey","getAll","getAllKeys","count"],HU=["put","add","delete","clear"],im=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BU.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return im.set(e,i),i}FU(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",jx="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Cv("@firebase/app"),KU="@firebase/app-compat",GU="@firebase/analytics-compat",QU="@firebase/analytics",YU="@firebase/app-check-compat",XU="@firebase/app-check",JU="@firebase/auth",ZU="@firebase/auth-compat",e4="@firebase/database",t4="@firebase/data-connect",n4="@firebase/database-compat",r4="@firebase/functions",s4="@firebase/functions-compat",i4="@firebase/installations",o4="@firebase/installations-compat",a4="@firebase/messaging",l4="@firebase/messaging-compat",c4="@firebase/performance",u4="@firebase/performance-compat",d4="@firebase/remote-config",h4="@firebase/remote-config-compat",f4="@firebase/storage",p4="@firebase/storage-compat",m4="@firebase/firestore",g4="@firebase/vertexai",y4="@firebase/firestore-compat",v4="firebase",w4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",_4={[Og]:"fire-core",[KU]:"fire-core-compat",[QU]:"fire-analytics",[GU]:"fire-analytics-compat",[XU]:"fire-app-check",[YU]:"fire-app-check-compat",[JU]:"fire-auth",[ZU]:"fire-auth-compat",[e4]:"fire-rtdb",[t4]:"fire-data-connect",[n4]:"fire-rtdb-compat",[r4]:"fire-fn",[s4]:"fire-fn-compat",[i4]:"fire-iid",[o4]:"fire-iid-compat",[a4]:"fire-fcm",[l4]:"fire-fcm-compat",[c4]:"fire-perf",[u4]:"fire-perf-compat",[d4]:"fire-rc",[h4]:"fire-rc-compat",[f4]:"fire-gcs",[p4]:"fire-gcs-compat",[m4]:"fire-fst",[y4]:"fire-fst-compat",[g4]:"fire-vertex","fire-js":"fire-js",[v4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,x4=new Map,jg=new Map;function Lx(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ro(t){const e=t.name;if(jg.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,t);for(const n of mh.values())Lx(n,t);for(const n of x4.values())Lx(n,t);return!0}function gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Qc("app","Firebase",E4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=w4;function YC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(n||(n=WC()),!n)throw Zs.create("no-options");const i=mh.get(s);if(i){if(ai(n,i.options)&&ai(r,i.config))return i;throw Zs.create("duplicate-app",{appName:s})}const o=new RU(s);for(const l of jg.values())o.addComponent(l);const a=new b4(n,r,o);return mh.set(s,a),a}function Rv(t=Mg){const e=mh.get(t);if(!e&&t===Mg&&WC())return YC();if(!e)throw Zs.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let s=(r=_4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}ro(new li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firebase-heartbeat-database",I4=1,Ac="firebase-heartbeat-store";let om=null;function XC(){return om||(om=$U(T4,I4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),om}async function S4(t){try{const n=(await XC()).transaction(Ac),r=await n.objectStore(Ac).get(JC(t));return await n.done,r}catch(e){if(e instanceof Pr)rs.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function Vx(t,e){try{const r=(await XC()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,JC(t)),await r.done}catch(n){if(n instanceof Pr)rs.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function JC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=1024,A4=30;class R4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>A4){const o=N4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fx(),{heartbeatsToSend:r,unsentEntries:s}=P4(this._heartbeatsCache.heartbeats),i=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rs.warn(n),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function P4(t,e=C4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ux(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yU()?vU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function N4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){ro(new li("platform-logger",e=>new WU(e),"PRIVATE")),ro(new li("heartbeat",e=>new R4(e),"PRIVATE")),xr(Og,jx,t),xr(Og,jx,"esm2017"),xr("fire-js","")}D4("");var O4="firebase",M4="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(O4,M4,"app");var pr=function(){return pr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pr.apply(this,arguments)};function Xc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L4=ZC,eA=new Qc("auth","Firebase",ZC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Cv("@firebase/auth");function V4(t,...e){gh.logLevel<=he.WARN&&gh.warn(`Auth (${go}): ${t}`,...e)}function Td(t,...e){gh.logLevel<=he.ERROR&&gh.error(`Auth (${go}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw Pv(t,...e)}function Er(t,...e){return Pv(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},L4()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return tA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eA.create(t,...e)}function re(t,e,...n){if(!t)throw Pv(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function ss(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F4(){return zx()==="http:"||zx()==="https:"}function zx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F4()||fU()||"connection"in navigator)?navigator.onLine:!0}function z4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=uU()||pU()}get(){return U4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Jc(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xi(t,e,n,r,s={}){return rA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Yc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return hU()||(u.referrerPolicy="no-referrer"),nA.fetch()(sA(t,t.config.apiHost,n,a),u)})}async function rA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$4),e);try{const s=new W4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tA(t,h,u);er(t,h)}}catch(s){if(s instanceof Pr)throw s;er(t,"network-request-failed",{message:String(s)})}}async function Zc(t,e,n,r,s={}){const i=await xi(t,e,n,r,s);return"mfaPendingCredential"in i&&er(t,"multi-factor-auth-required",{_serverResponse:i}),i}function sA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?kv(t.config,s):`${t.config.apiScheme}://${s}`}function H4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),B4.get())})}}function Qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}function $x(t){return t!==void 0&&t.enterprise!==void 0}class q4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K4(t,e){return xi(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){return xi(t,"POST","/v1/accounts:delete",e)}async function iA(t,e){return xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q4(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),s=Nv(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Yl(am(s.auth_time)),issuedAtTime:Yl(am(s.iat)),expirationTime:Yl(am(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function am(t){return Number(t)*1e3}function Nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const s=$C(n);return s?JSON.parse(s):(Td("Failed to decode base64 JWT payload"),null)}catch(s){return Td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bx(t){const e=Nv(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&Y4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Rc(t,iA(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oA(i.providerUserInfo):[],a=Z4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function J4(t){const e=Ze(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oA(t){return t.map(e=>{var{providerId:n}=e,r=Xc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){const n=await rA(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=sA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tz(t,e){return xi(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ez(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ca;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Xc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q4(this,e)}reload(){return J4(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Rc(this,G4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:C,isAnonymous:P,providerData:M,stsTokenManager:S}=n;re(x&&S,e,"internal-error");const T=ca.fromJSON(this.name,S);re(typeof x=="string",e,"internal-error"),xs(f,e.name),xs(p,e.name),re(typeof C=="boolean",e,"internal-error"),re(typeof P=="boolean",e,"internal-error"),xs(g,e.name),xs(E,e.name),xs(y,e.name),xs(I,e.name),xs(w,e.name),xs(_,e.name);const A=new Hr({uid:x,auth:e,email:p,emailVerified:C,displayName:f,isAnonymous:P,photoURL:E,phoneNumber:g,tenantId:y,stsTokenManager:T,createdAt:w,lastLoginAt:_});return M&&Array.isArray(M)&&(A.providerData=M.map(k=>Object.assign({},k))),I&&(A._redirectEventId=I),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new ca;s.updateFromServerResponse(n);const i=new Hr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ca;a.updateFromIdToken(r);const l=new Hr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Vg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;function Wr(t){ss(t instanceof Function,"Expected a class definition");let e=Hx.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const Wx=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Id(this.userKey,s.apiKey,i),this.fullPersistenceKey=Id("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(Wr(Wx),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Wr(Wx);const o=Id(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Hr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ua(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ua(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(pA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lA(t=zt()){return/firefox\//i.test(t)}function cA(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(t=zt()){return/crios\//i.test(t)}function dA(t=zt()){return/iemobile/i.test(t)}function hA(t=zt()){return/android/i.test(t)}function fA(t=zt()){return/blackberry/i.test(t)}function pA(t=zt()){return/webos/i.test(t)}function Dv(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nz(t=zt()){var e;return Dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rz(){return mU()&&document.documentMode===10}function mA(t=zt()){return Dv(t)||hA(t)||pA(t)||fA(t)||/windows phone/i.test(t)||dA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e=[]){let n;switch(t){case"Browser":n=qx(zt());break;case"Worker":n=`${qx(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e={}){return xi(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=6;class az{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new sz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iA(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Kr(this));const n=e?Ze(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iz(this),n=new az(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(t){return Ze(t)}class Kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=bU(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cz(t){yf=t}function yA(t){return yf.loadJS(t)}function uz(){return yf.recaptchaEnterpriseScript}function dz(){return yf.gapiScript}function hz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fz{constructor(){this.enterprise=new pz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mz="recaptcha-enterprise",vA="NO_RECAPTCHA";class gz{constructor(e){this.type=mz,this.auth=yo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{K4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new q4(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;$x(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(vA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fz().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&$x(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uz();l.length!==0&&(l+=a),yA(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Gx(t,e,n,r=!1,s=!1){const i=new gz(t);let o;if(s)o=vA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fg(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Gx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t,e){const n=gf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ai(i,e??{}))return s;er(s,"already-initialized")}return n.initialize({options:e})}function vz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wz(t,e,n){const r=yo(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=wA(e),{host:o,port:a}=_z(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(ai(u,r.config.emulator)&&ai(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xz()}function wA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _z(t){const e=wA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Qx(o)}}}function Qx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function Ez(t,e){return xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function Iz(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Ov{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,n,"signInWithPassword",bz);case"emailLink":return Tz(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fg(e,r,"signUpPassword",Ez);case"emailLink":return Iz(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="http://localhost";class so extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Xc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new so(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return da(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,da(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,da(e,n)}buildRequest(){const e={requestUri:Sz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Az(t){const e=Pl(kl(t)).link,n=e?Pl(kl(e)).deep_link_id:null,r=Pl(kl(t)).deep_link_id;return(r?Pl(kl(r)).link:null)||r||n||e||t}class Mv{constructor(e){var n,r,s,i,o,a;const l=Pl(kl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Cz((s=l.mode)!==null&&s!==void 0?s:null);re(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Az(e);try{return new Mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.providerId=Ga.PROVIDER_ID}static credential(e,n){return Pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mv.parseLink(n);return re(r,"argument-error"),Pc._fromEmailAndCode(e,r.code,r.tenantId)}}Ga.PROVIDER_ID="password";Ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends _A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends eu{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends eu{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends eu{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return Zc(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Hr._fromIdTokenResponse(e,r,s),o=Yx(r);return new io({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yx(r);return new io({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Pr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vh(e,n,r,s)}}function xA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,i,e,r):i})}async function Pz(t,e,n=!1){const r=await Rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,e,n=!1){const{auth:r}=t;if(fn(r.app))return Promise.reject(Kr(r));const s="reauthenticate";try{const i=await Rc(t,xA(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Nv(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),io._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&er(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e,n=!1){if(fn(t.app))return Promise.reject(Kr(t));const r="signIn",s=await xA(t,r,e),i=await io._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Nz(t,e){return EA(yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t){const e=yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TA(t,e,n){if(fn(t.app))return Promise.reject(Kr(t));const r=yo(t),o=await Fg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&bA(t),l}),a=await io._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IA(t,e,n){return fn(t.app)?Promise.reject(Kr(t)):Nz(Ze(t),Ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bA(t),r})}function Dz(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function Oz(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function SA(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function Mz(t){return Ze(t).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=1e3,Lz=10;class AA extends CA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);rz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Lz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AA.type="LOCAL";const Vz=AA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends CA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RA.type="SESSION";const PA=RA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Fz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=jv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function zz(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function $z(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hz(){return kA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebaseLocalStorageDb",Wz=1,_h="firebaseLocalStorage",DA="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function qz(){const t=indexedDB.deleteDatabase(NA);return new tu(t).toPromise()}function Ug(){const t=indexedDB.open(NA,Wz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:DA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await qz(),e(await Ug()))})})}async function Xx(t,e,n){const r=wf(t,!0).put({[DA]:e,value:n});return new tu(r).toPromise()}async function Kz(t,e){const n=wf(t,!1).get(e),r=await new tu(n).toPromise();return r===void 0?null:r.value}function Jx(t,e){const n=wf(t,!0).delete(e);return new tu(n).toPromise()}const Gz=800,Qz=3;class OA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Qz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(Hz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $z(),!this.activeServiceWorker)return;this.sender=new Uz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await Xx(e,wh,"1"),await Jx(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Kz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wf(s,!1).getAll();return new tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OA.type="LOCAL";const Yz=OA;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t,e){return e?Wr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jz(t){return EA(t.auth,new Lv(t),t.bypassAuthState)}function Zz(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),kz(n,new Lv(t),t.bypassAuthState)}async function e5(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),Pz(n,new Lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jz;case"linkViaPopup":case"linkViaRedirect":return e5;case"reauthViaPopup":case"reauthViaRedirect":return Zz;default:er(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Jc(2e3,1e4);class Xo extends MA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t5.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="pendingRedirect",Sd=new Map;class r5 extends MA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const r=await s5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s5(t,e){const n=a5(e),r=o5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function i5(t,e){Sd.set(t._key(),e)}function o5(t){return Wr(t._redirectPersistence)}function a5(t){return Id(n5,t.config.apiKey,t.name)}async function l5(t,e,n=!1){if(fn(t.app))return Promise.reject(Kr(t));const r=yo(t),s=Xz(r,e),o=await new r5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=10*60*1e3;class u5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zx(e))}saveEventToCache(e){this.cachedEventUids.add(Zx(e)),this.lastProcessedEventTime=Date.now()}}function Zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e={}){return xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p5=/^https?/;async function m5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h5(t);for(const n of e)try{if(g5(n))return}catch{}er(t,"unauthorized-domain")}function g5(t){const e=Lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p5.test(n))return!1;if(f5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Jc(3e4,6e4);function eE(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v5(t){return new Promise((e,n)=>{var r,s,i;function o(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Er(t,"network-request-failed"))},timeout:y5.get()})}if(!((s=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=br().gapi)===null||i===void 0)&&i.load)o();else{const a=hz("iframefcb");return br()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},yA(`${dz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function w5(t){return Cd=Cd||v5(t),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new Jc(5e3,15e3),x5="__/auth/iframe",E5="emulator/auth/iframe",b5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kv(e,E5):`https://${t.config.authDomain}/${x5}`,r={apiKey:e.apiKey,appName:t.name,v:go},s=T5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yc(r).slice(1)}`}async function S5(t){const e=await w5(t),n=br().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:I5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=br().setTimeout(()=>{i(o)},_5.get());function l(){br().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A5=500,R5=600,P5="_blank",k5="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N5(t,e,n,r=A5,s=R5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},C5),{width:r.toString(),height:s.toString(),top:i,left:o}),u=zt().toLowerCase();n&&(a=uA(u)?P5:n),lA(u)&&(e=e||k5,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,E])=>`${p}${g}=${E},`,"");if(nz(u)&&a!=="_self")return D5(e||"",a),new tE(null);const f=window.open(e||"",a,h);re(f,t,"popup-blocked");try{f.focus()}catch{}return new tE(f)}function D5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="__/auth/handler",M5="emulator/auth/handler",j5=encodeURIComponent("fac");async function nE(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:go,eventId:s};if(e instanceof _A){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",EU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof eu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${j5}=${encodeURIComponent(l)}`:"";return`${L5(t)}?${Yc(a).slice(1)}${u}`}function L5({config:t}){return t.emulator?kv(t,M5):`https://${t.authDomain}/${O5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class V5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=l5,this._overrideRedirectResult=i5}async _openPopup(e,n,r,s){var i;ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nE(e,n,r,Lg(),s);return N5(e,o,jv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nE(e,n,r,Lg(),s);return zz(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S5(e),r=new u5(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[lm];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mA()||cA()||Dv()}}const F5=V5;var rE="@firebase/auth",sE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $5(t){ro(new li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},u=new lz(r,s,i,l);return vz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new li("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(r=>new U5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(rE,sE,z5(t)),xr(rE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=5*60,H5=qC("authIdTokenMaxAge")||B5;let iE=null;const W5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H5)return;const s=n==null?void 0:n.token;iE!==s&&(iE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function q5(t=Rv()){const e=gf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yz(t,{popupRedirectResolver:F5,persistence:[Yz,Vz,PA]}),r=qC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=W5(i.toString());Oz(n,o,()=>o(n.currentUser)),Dz(n,a=>o(a))}}const s=BC("auth");return s&&wz(n,`http://${s}`),n}function K5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",K5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$5("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,LA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function A(){}A.prototype=T.prototype,S.D=T.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(k,D,O){for(var N=Array(arguments.length-2),L=2;L<arguments.length;L++)N[L-2]=arguments[L];return T.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,A){A||(A=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=S.g[0],A=S.g[1],D=S.g[2];var O=S.g[3],N=T+(O^A&(D^O))+k[0]+3614090360&4294967295;T=A+(N<<7&4294967295|N>>>25),N=O+(D^T&(A^D))+k[1]+3905402710&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(A^O&(T^A))+k[2]+606105819&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(T^D&(O^T))+k[3]+3250441966&4294967295,A=D+(N<<22&4294967295|N>>>10),N=T+(O^A&(D^O))+k[4]+4118548399&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(D^T&(A^D))+k[5]+1200080426&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(A^O&(T^A))+k[6]+2821735955&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(T^D&(O^T))+k[7]+4249261313&4294967295,A=D+(N<<22&4294967295|N>>>10),N=T+(O^A&(D^O))+k[8]+1770035416&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(D^T&(A^D))+k[9]+2336552879&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(A^O&(T^A))+k[10]+4294925233&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(T^D&(O^T))+k[11]+2304563134&4294967295,A=D+(N<<22&4294967295|N>>>10),N=T+(O^A&(D^O))+k[12]+1804603682&4294967295,T=A+(N<<7&4294967295|N>>>25),N=O+(D^T&(A^D))+k[13]+4254626195&4294967295,O=T+(N<<12&4294967295|N>>>20),N=D+(A^O&(T^A))+k[14]+2792965006&4294967295,D=O+(N<<17&4294967295|N>>>15),N=A+(T^D&(O^T))+k[15]+1236535329&4294967295,A=D+(N<<22&4294967295|N>>>10),N=T+(D^O&(A^D))+k[1]+4129170786&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(T^A))+k[6]+3225465664&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^A&(O^T))+k[11]+643717713&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(D^O))+k[0]+3921069994&4294967295,A=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(A^D))+k[5]+3593408605&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(T^A))+k[10]+38016083&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^A&(O^T))+k[15]+3634488961&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(D^O))+k[4]+3889429448&4294967295,A=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(A^D))+k[9]+568446438&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(T^A))+k[14]+3275163606&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^A&(O^T))+k[3]+4107603335&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(D^O))+k[8]+1163531501&4294967295,A=D+(N<<20&4294967295|N>>>12),N=T+(D^O&(A^D))+k[13]+2850285829&4294967295,T=A+(N<<5&4294967295|N>>>27),N=O+(A^D&(T^A))+k[2]+4243563512&4294967295,O=T+(N<<9&4294967295|N>>>23),N=D+(T^A&(O^T))+k[7]+1735328473&4294967295,D=O+(N<<14&4294967295|N>>>18),N=A+(O^T&(D^O))+k[12]+2368359562&4294967295,A=D+(N<<20&4294967295|N>>>12),N=T+(A^D^O)+k[5]+4294588738&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^D)+k[8]+2272392833&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^A)+k[11]+1839030562&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^T)+k[14]+4259657740&4294967295,A=D+(N<<23&4294967295|N>>>9),N=T+(A^D^O)+k[1]+2763975236&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^D)+k[4]+1272893353&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^A)+k[7]+4139469664&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^T)+k[10]+3200236656&4294967295,A=D+(N<<23&4294967295|N>>>9),N=T+(A^D^O)+k[13]+681279174&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^D)+k[0]+3936430074&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^A)+k[3]+3572445317&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^T)+k[6]+76029189&4294967295,A=D+(N<<23&4294967295|N>>>9),N=T+(A^D^O)+k[9]+3654602809&4294967295,T=A+(N<<4&4294967295|N>>>28),N=O+(T^A^D)+k[12]+3873151461&4294967295,O=T+(N<<11&4294967295|N>>>21),N=D+(O^T^A)+k[15]+530742520&4294967295,D=O+(N<<16&4294967295|N>>>16),N=A+(D^O^T)+k[2]+3299628645&4294967295,A=D+(N<<23&4294967295|N>>>9),N=T+(D^(A|~O))+k[0]+4096336452&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~D))+k[7]+1126891415&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~A))+k[14]+2878612391&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~T))+k[5]+4237533241&4294967295,A=D+(N<<21&4294967295|N>>>11),N=T+(D^(A|~O))+k[12]+1700485571&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~D))+k[3]+2399980690&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~A))+k[10]+4293915773&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~T))+k[1]+2240044497&4294967295,A=D+(N<<21&4294967295|N>>>11),N=T+(D^(A|~O))+k[8]+1873313359&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~D))+k[15]+4264355552&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~A))+k[6]+2734768916&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~T))+k[13]+1309151649&4294967295,A=D+(N<<21&4294967295|N>>>11),N=T+(D^(A|~O))+k[4]+4149444226&4294967295,T=A+(N<<6&4294967295|N>>>26),N=O+(A^(T|~D))+k[11]+3174756917&4294967295,O=T+(N<<10&4294967295|N>>>22),N=D+(T^(O|~A))+k[2]+718787259&4294967295,D=O+(N<<15&4294967295|N>>>17),N=A+(O^(D|~T))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var A=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=A;)s(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<T;)if(k[D++]=S.charCodeAt(O++),D==this.blockSize){s(this,k),D=0;break}}else for(;O<T;)if(k[D++]=S[O++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var A=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=A&255,A/=256;for(this.u(S),S=Array(16),T=A=0;4>T;++T)for(var k=0;32>k;k+=8)S[A++]=this.g[T]>>>k&255;return S};function i(S,T){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=T(S)}function o(S,T){this.h=T;for(var A=[],k=!0,D=S.length-1;0<=D;D--){var O=S[D]|0;k&&O==T||(A[D]=O,k=!1)}this.g=A}var a={};function l(S){return-128<=S&&128>S?i(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return I(u(-S));for(var T=[],A=1,k=0;S>=A;k++)T[k]=S/A|0,A*=4294967296;return new o(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return I(h(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),k=f,D=0;D<S.length;D+=8){var O=Math.min(8,S.length-D),N=parseInt(S.substring(D,D+O),T);8>O?(O=u(Math.pow(T,O)),k=k.j(O).add(u(N))):(k=k.j(A),k=k.add(u(N)))}return k}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-I(this).m();for(var S=0,T=1,A=0;A<this.g.length;A++){var k=this.i(A);S+=(0<=k?k:4294967296+k)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(y(this))return"-"+I(this).toString(S);for(var T=u(Math.pow(S,6)),A=this,k="";;){var D=C(A,T).g;A=w(A,D.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=D,E(A))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=w(this,S),y(S)?-1:E(S)?0:1};function I(S){for(var T=S.g.length,A=[],k=0;k<T;k++)A[k]=~S.g[k];return new o(A,~S.h).add(p)}t.abs=function(){return y(this)?I(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(S.i(D)&65535),N=(O>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);k=N>>>16,O&=65535,N&=65535,A[D]=N<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(S,T){return S.add(I(T))}t.j=function(S){if(E(this)||E(S))return f;if(y(this))return y(S)?I(this).j(I(S)):I(I(this).j(S));if(y(S))return I(this.j(I(S)));if(0>this.l(g)&&0>S.l(g))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,A=[],k=0;k<2*T;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<S.g.length;D++){var O=this.i(k)>>>16,N=this.i(k)&65535,L=S.i(D)>>>16,ee=S.i(D)&65535;A[2*k+2*D]+=N*ee,_(A,2*k+2*D),A[2*k+2*D+1]+=O*ee,_(A,2*k+2*D+1),A[2*k+2*D+1]+=N*L,_(A,2*k+2*D+1),A[2*k+2*D+2]+=O*L,_(A,2*k+2*D+2)}for(k=0;k<T;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=T;k<2*T;k++)A[k]=0;return new o(A,0)};function _(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function x(S,T){this.g=S,this.h=T}function C(S,T){if(E(T))throw Error("division by zero");if(E(S))return new x(f,f);if(y(S))return T=C(I(S),T),new x(I(T.g),I(T.h));if(y(T))return T=C(S,I(T)),new x(I(T.g),T.h);if(30<S.g.length){if(y(S)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,k=T;0>=k.l(S);)A=P(A),k=P(k);var D=M(A,1),O=M(k,1);for(k=M(k,2),A=M(A,2);!E(k);){var N=O.add(k);0>=N.l(S)&&(D=D.add(A),O=N),k=M(k,1),A=M(A,1)}return T=w(S,D.j(T)),new x(D,T)}for(D=f;0<=S.l(T);){for(A=Math.max(1,Math.floor(S.m()/T.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(A),N=O.j(T);y(N)||0<N.l(S);)A-=k,O=u(A),N=O.j(T);E(O)&&(O=p),D=D.add(O),S=w(S,N)}return new x(D,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)&S.i(k);return new o(A,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)|S.i(k);return new o(A,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),A=[],k=0;k<T;k++)A[k]=this.i(k)^S.i(k);return new o(A,this.h^S.h)};function P(S){for(var T=S.g.length+1,A=[],k=0;k<T;k++)A[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(A,S.h)}function M(S,T){var A=T>>5;T%=32;for(var k=S.g.length-A,D=[],O=0;O<k;O++)D[O]=0<T?S.i(O+A)>>>T|S.i(O+A+1)<<32-T:S.i(O+A);return new o(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ei=o}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VA,Nl,FA,Ad,zg,UA,zA,$A;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var v=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var j=c[R];if(!(j in v))break e;v=v[j]}c=c[c.length-1],R=v[c],m=m(R),m!=R&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var v=0,R=!1,j={next:function(){if(!R&&v<c.length){var V=v++;return{value:m(V,c[V]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,v){return c.call.apply(c.bind,arguments)}function f(c,m,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function p(c,m,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function E(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,j,V){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return m.prototype[j].apply(R,q)}}function y(c){const m=c.length;if(0<m){const v=Array(m);for(let R=0;R<m;R++)v[R]=c[R];return v}return[]}function I(c,m){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const j=c.length||0,V=R.length||0;c.length=j+V;for(let q=0;q<V;q++)c[j+q]=R[q]}else c.push(R)}}class w{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(c,m,v){for(const R in c)m.call(v,c[R],R,c)}function S(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function T(c){const m={};for(const v in c)m[v]=c[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,m){let v,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(v in R)c[v]=R[v];for(let V=0;V<A.length;V++)v=A[V],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function D(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function O(c){a.setTimeout(()=>{throw c},0)}function N(){var c=$;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class L{constructor(){this.h=this.g=null}add(m,v){const R=ee.get();R.set(m,v),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new w(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,F=!1,$=new L,K=()=>{const c=a.Promise.resolve(void 0);Z=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){O(v)}var m=ee;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}F=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return c}();function Ne(c,m){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(P){e:{try{C(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ft[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}E(Ne,te);var ft={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),us=0;function sr(c,m,v,R,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!R,this.ha=j,this.key=++us,this.da=this.fa=!1}function Tn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,m,v,R,j){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var q=In(c,m,R,j);return-1<q?(m=c[q],v||(m.fa=!1)):(m=new sr(m,this.src,V,!!R,j),m.fa=v,c.push(m)),m};function ir(c,m){var v=m.type;if(v in c.g){var R=c.g[v],j=Array.prototype.indexOf.call(R,m,void 0),V;(V=0<=j)&&Array.prototype.splice.call(R,j,1),V&&(Tn(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function In(c,m,v,R){for(var j=0;j<c.length;++j){var V=c[j];if(!V.da&&V.listener==m&&V.capture==!!v&&V.ha==R)return j}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Ti={};function Ii(c,m,v,R,j){if(Array.isArray(m)){for(var V=0;V<m.length;V++)Ii(c,m[V],v,R,j);return null}return v=cu(v),c&&c[me]?c.K(m,v,u(R)?!!R.capture:!1,j):tl(c,m,v,!1,R,j)}function tl(c,m,v,R,j,V){if(!m)throw Error("Invalid event type");var q=u(j)?!!j.capture:!!j,ke=Vn(c);if(ke||(c[ds]=ke=new ln(c)),v=ke.add(m,v,R,q,V),v.proxy)return v;if(R=Si(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)de||(j=q),j===void 0&&(j=!1),c.addEventListener(m.toString(),R,j);else if(c.attachEvent)c.attachEvent(hs(m.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Si(){function c(v){return m.call(c.src,c.listener,v)}const m=lu;return c}function kr(c,m,v,R,j){if(Array.isArray(m))for(var V=0;V<m.length;V++)kr(c,m[V],v,R,j);else R=u(R)?!!R.capture:!!R,v=cu(v),c&&c[me]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],v=In(V,v,R,j),-1<v&&(Tn(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=Vn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=In(m,v,R,j)),(v=-1<c?m[c]:null)&&xo(v))}function xo(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[me])ir(m.i,c);else{var v=c.type,R=c.proxy;m.removeEventListener?m.removeEventListener(v,R,c.capture):m.detachEvent?m.detachEvent(hs(v),R):m.addListener&&m.removeListener&&m.removeListener(R),(v=Vn(m))?(ir(v,c),v.h==0&&(v.src=null,m[ds]=null)):Tn(c)}}}function hs(c){return c in Ti?Ti[c]:Ti[c]="on"+c}function lu(c,m){if(c.da)c=!0;else{m=new Ne(m,this);var v=c.listener,R=c.ha||c.src;c.fa&&xo(c),c=v.call(R,m)}return c}function Vn(c){return c=c[ds],c instanceof ln?c:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(m){return c.handleEvent(m)}),c[nl])}function Ce(){X.call(this),this.i=new ln(this),this.M=this,this.F=null}E(Ce,X),Ce.prototype[me]=!0,Ce.prototype.removeEventListener=function(c,m,v,R){kr(this,c,m,v,R)};function Qe(c,m){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=m.type||m,typeof m=="string")m=new te(m,c);else if(m instanceof te)m.target=m.target||c;else{var j=m;m=new te(R,c),k(m,j)}if(j=!0,v)for(var V=v.length-1;0<=V;V--){var q=m.g=v[V];j=Eo(q,R,!0,m)&&j}if(q=m.g=c,j=Eo(q,R,!0,m)&&j,j=Eo(q,R,!1,m)&&j,v)for(V=0;V<v.length;V++)q=m.g=v[V],j=Eo(q,R,!1,m)&&j}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],R=0;R<v.length;R++)Tn(v[R]);delete c.g[m],c.h--}}this.F=null},Ce.prototype.K=function(c,m,v,R){return this.i.add(String(c),m,!1,v,R)},Ce.prototype.L=function(c,m,v,R){return this.i.add(String(c),m,!0,v,R)};function Eo(c,m,v,R){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,V=0;V<m.length;++V){var q=m[V];if(q&&!q.da&&q.capture==v){var ke=q.listener,xt=q.ha||q.src;q.fa&&ir(c.i,q),j=ke.call(xt,R)!==!1&&j}}return j&&!R.defaultPrevented}function uu(c,m,v){if(typeof c=="function")v&&(c=p(c,v));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Ci(c){c.g=uu(()=>{c.g=null,c.i&&(c.i=!1,Ci(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xf extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ci(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){X.call(this),this.h=c,this.g={}}E(fs,X);var bo=[];function Nr(c){M(c.g,function(m,v){this.g.hasOwnProperty(v)&&xo(m)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),Nr(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=a.JSON.stringify,ps=a.JSON.parse,Jf=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rl(){}rl.prototype.h=null;function sl(c){return c.h||(c.h=c.i())}function il(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){te.call(this,"d")}E(Ri,te);function Sn(){te.call(this,"c")}E(Sn,te);var Dr={},oe=null;function we(){return oe=oe||new Ce}Dr.La="serverreachability";function Pe(c){te.call(this,Dr.La,c)}E(Pe,te);function wt(c){const m=we();Qe(m,new Pe(m))}Dr.STAT_EVENT="statevent";function Xt(c,m){te.call(this,Dr.STAT_EVENT,c),this.stat=m}E(Xt,te);function $e(c){const m=we();Qe(m,new Xt(m,c))}Dr.Ma="timingevent";function or(c,m){te.call(this,Dr.Ma,c),this.size=m}E(or,te);function _t(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Jt(){this.g=!0}Jt.prototype.xa=function(){this.g=!1};function n1(c,m,v,R,j,V){c.info(function(){if(c.g)if(V)for(var q="",ke=V.split("&"),xt=0;xt<ke.length;xt++){var xe=ke[xt].split("=");if(1<xe.length){var At=xe[0];xe=xe[1];var Rt=At.split("_");q=2<=Rt.length&&Rt[1]=="type"?q+(At+"="+xe+"&"):q+(At+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+m+`
`+v+`
`+q})}function r1(c,m,v,R,j,V,q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+m+`
`+v+`
`+V+" "+q})}function Io(c,m,v,R){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+i1(c,v)+(R?" "+R:"")})}function s1(c,m){c.info(function(){return"TIMEOUT: "+m})}Jt.prototype.info=function(){};function i1(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var V=j[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<j.length;q++)j[q]=""}}}}return To(v)}catch{return m}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zf;function hu(){}E(hu,rl),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},Zf=new hu;function ms(c,m,v,R){this.j=c,this.i=m,this.l=v,this.R=R||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uw}function Uw(){this.i=null,this.g="",this.h=!1}var zw={},ep={};function tp(c,m,v){c.L=1,c.v=gu(Or(m)),c.m=v,c.P=!0,$w(c,null)}function $w(c,m){c.F=Date.now(),fu(c),c.A=Or(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),n_(v.i,"t",R),c.C=0,v=c.j.J,c.h=new Uw,c.g=__(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Xf(p(c.Y,c,c.g),c.O)),m=c.U,v=c.g,R=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(bo[0]=j.toString()),j=bo);for(var V=0;V<j.length;V++){var q=Ii(v,j[V],R||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),wt(),n1(c.i,c.u,c.A,c.l,c.R,c.m)}ms.prototype.ca=function(c){c=c.target;const m=this.M;m&&Mr(c)==3?m.j():this.Y(c)},ms.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mr(this.g);var m=this.g.Ba();const Ao=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||Rt!=4||m==7||(m==8||0>=Ao?wt(3):wt(2)),np(this);var v=this.g.Z();this.X=v;t:if(Bw(this)){var R=c_(this.g);c="";var j=R.length,V=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ol(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(R[m],{stream:!(V&&m==j-1)});R.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=v==200,r1(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,xt=this.g;if((ke=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ke)){var xe=ke;break t}}xe=null}if(v=xe)Io(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rp(this,v);else{this.o=!1,this.s=3,$e(12),Pi(this),ol(this);break e}}if(this.P){v=!0;let Fn;for(;!this.J&&this.C<q.length;)if(Fn=o1(this,q),Fn==ep){Rt==4&&(this.s=4,$e(14),v=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==zw){this.s=4,$e(15),Io(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else Io(this.i,this.l,Fn,null),rp(this,Fn);if(Bw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||q.length!=0||this.h.h||(this.s=1,$e(16),v=!1),this.o=this.o&&v,!v)Io(this.i,this.l,q,"[Invalid Chunked Response]"),Pi(this),ol(this);else if(0<q.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),cp(At),At.M=!0,$e(11))}}else Io(this.i,this.l,q,null),rp(this,q);Rt==4&&Pi(this),this.o&&!this.J&&(Rt==4?g_(this.j,this):(this.o=!1,fu(this)))}else b1(this.g),v==400&&0<q.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Pi(this),ol(this)}}}catch{}finally{}};function Bw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function o1(c,m){var v=c.C,R=m.indexOf(`
`,v);return R==-1?ep:(v=Number(m.substring(v,R)),isNaN(v)?zw:(R+=1,R+v>m.length?ep:(m=m.slice(R,R+v),c.C=R+v,m)))}ms.prototype.cancel=function(){this.J=!0,Pi(this)};function fu(c){c.S=Date.now()+c.I,Hw(c,c.I)}function Hw(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(p(c.ba,c),m)}function np(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ms.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(s1(this.i,this.A),this.L!=2&&(wt(),$e(17)),Pi(this),this.s=2,ol(this)):Hw(this,this.S-c)};function ol(c){c.j.G==0||c.J||g_(c.j,c)}function Pi(c){np(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Nr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function rp(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||sp(v.h,c))){if(!c.K&&sp(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Eu(v),_u(v);else break e;lp(v),$e(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=_t(p(v.Za,v),6e3));if(1>=Kw(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ni(v,11)}else if((c.K||v.g==c)&&Eu(v),!_(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let xe=j[m];if(v.T=xe[0],xe=xe[1],v.G==2)if(xe[0]=="c"){v.K=xe[1],v.ia=xe[2];const At=xe[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const Rt=xe[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Ao=xe[5];Ao!=null&&typeof Ao=="number"&&0<Ao&&(R=1.5*Ao,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Fn=c.g;if(Fn){const Tu=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var V=R.h;V.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ip(V,V.h),V.h=null))}if(R.D){const up=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;up&&(R.ya=up,je(R.I,R.D,up))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var q=c;if(R.qa=w_(R,R.J?R.ia:null,R.W),q.K){Gw(R.h,q);var ke=q,xt=R.L;xt&&(ke.I=xt),ke.B&&(np(ke),fu(ke)),R.g=q}else p_(R);0<v.i.length&&xu(v)}else xe[0]!="stop"&&xe[0]!="close"||Ni(v,7);else v.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ni(v,7):ap(v):xe[0]!="noop"&&v.l&&v.l.ta(xe),v.v=0)}}wt(4)}catch{}}var a1=class{constructor(c,m){this.g=c,this.map=m}};function Ww(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kw(c){return c.h?1:c.g?c.g.size:0}function sp(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ip(c,m){c.g?c.g.add(m):c.h=m}function Gw(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ww.prototype.cancel=function(){if(this.i=Qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return y(c.i)}function l1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],v=c.length,R=0;R<v;R++)m.push(c[R]);return m}m=[],v=0;for(R in c)m[v++]=c[R];return m}function c1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const R in c)m[v++]=R;return m}}}function Yw(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=c1(c),R=l1(c),j=R.length,V=0;V<j;V++)m.call(void 0,R[V],v&&v[V],c)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u1(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),j=null;if(0<=R){var V=c[v].substring(0,R);j=c[v].substring(R+1)}else V=c[v];m(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ki){this.h=c.h,pu(this,c.j),this.o=c.o,this.g=c.g,mu(this,c.s),this.l=c.l;var m=c.i,v=new cl;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Jw(this,v),this.m=c.m}else c&&(m=String(c).match(Xw))?(this.h=!1,pu(this,m[1]||"",!0),this.o=al(m[2]||""),this.g=al(m[3]||"",!0),mu(this,m[4]),this.l=al(m[5]||"",!0),Jw(this,m[6]||"",!0),this.m=al(m[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}ki.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ll(m,Zw,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ll(m,Zw,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ll(v,v.charAt(0)=="/"?f1:h1,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ll(v,m1)),c.join("")};function Or(c){return new ki(c)}function pu(c,m,v){c.j=v?al(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function mu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Jw(c,m,v){m instanceof cl?(c.i=m,g1(c.i,c.h)):(v||(m=ll(m,p1)),c.i=new cl(m,c.h))}function je(c,m,v){c.i.set(m,v)}function gu(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function al(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ll(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,d1),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function d1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zw=/[#\/\?@]/g,h1=/[#\?:]/g,f1=/[#\?]/g,p1=/[#\?@]/g,m1=/#/g;function cl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function gs(c){c.g||(c.g=new Map,c.h=0,c.i&&u1(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=cl.prototype,t.add=function(c,m){gs(this),this.i=null,c=So(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function e_(c,m){gs(c),m=So(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function t_(c,m){return gs(c),m=So(c,m),c.g.has(m)}t.forEach=function(c,m){gs(this),this.g.forEach(function(v,R){v.forEach(function(j){c.call(m,j,R,this)},this)},this)},t.na=function(){gs(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let R=0;R<m.length;R++){const j=c[R];for(let V=0;V<j.length;V++)v.push(m[R])}return v},t.V=function(c){gs(this);let m=[];if(typeof c=="string")t_(this,c)&&(m=m.concat(this.g.get(So(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},t.set=function(c,m){return gs(this),this.i=null,c=So(this,c),t_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function n_(c,m,v){e_(c,m),0<v.length&&(c.i=null,c.g.set(So(c,m),y(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var R=m[v];const V=encodeURIComponent(String(R)),q=this.V(R);for(R=0;R<q.length;R++){var j=V;q[R]!==""&&(j+="="+encodeURIComponent(String(q[R]))),c.push(j)}}return this.i=c.join("&")};function So(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function g1(c,m){m&&!c.j&&(gs(c),c.i=null,c.g.forEach(function(v,R){var j=R.toLowerCase();R!=j&&(e_(this,R),n_(this,j,v))},c)),c.j=m}function y1(c,m){const v=new Jt;if(a.Image){const R=new Image;R.onload=g(ys,v,"TestLoadImage: loaded",!0,m,R),R.onerror=g(ys,v,"TestLoadImage: error",!1,m,R),R.onabort=g(ys,v,"TestLoadImage: abort",!1,m,R),R.ontimeout=g(ys,v,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else m(!1)}function v1(c,m){const v=new Jt,R=new AbortController,j=setTimeout(()=>{R.abort(),ys(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:R.signal}).then(V=>{clearTimeout(j),V.ok?ys(v,"TestPingServer: ok",!0,m):ys(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),ys(v,"TestPingServer: error",!1,m)})}function ys(c,m,v,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(v)}catch{}}function w1(){this.g=new Jf}function _1(c,m,v){const R=v||"";try{Yw(c,function(j,V){let q=j;u(j)&&(q=To(j)),m.push(R+V+"="+encodeURIComponent(q))})}catch(j){throw m.push(R+"type="+encodeURIComponent("_badmap")),j}}function yu(c){this.l=c.Ub||null,this.j=c.eb||!1}E(yu,rl),yu.prototype.g=function(){return new vu(this.l,this.j)},yu.prototype.i=function(c){return function(){return c}}({});function vu(c,m){Ce.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(vu,Ce),t=vu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,dl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function r_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ul(this):dl(this),this.readyState==3&&r_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ul(this))},t.Qa=function(c){this.g&&(this.response=c,ul(this))},t.ga=function(){this.g&&ul(this)};function ul(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dl(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function dl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function s_(c){let m="";return M(c,function(v,R){m+=R,m+=":",m+=v,m+=`\r
`}),m}function op(c,m,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=s_(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):je(c,m,v))}function Ye(c){Ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ye,Ce);var x1=/^https?$/i,E1=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zf.g(),this.v=this.o?sl(this.o):sl(Zf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){i_(this,V);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)v.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const V of R.keys())v.set(V,R.get(V));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(E1,m,void 0))||R||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of v)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l_(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){i_(this,V)}};function i_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,o_(c),wu(c)}function o_(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wu(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a_(this):this.bb())},t.bb=function(){a_(this)};function a_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mr(c)!=4||c.Z()!=2)){if(c.u&&Mr(c)==4)uu(c.Ea,0,c);else if(Qe(c,"readystatechange"),Mr(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var R;if(R=q===0){var j=String(c.D).match(Xw)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!x1.test(j?j.toLowerCase():"")}v=R}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var V=2<Mr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",o_(c)}}finally{wu(c)}}}}function wu(c,m){if(c.g){l_(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Qe(c,"ready");try{v.onreadystatechange=R}catch{}}}function l_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ps(m)}};function c_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function b1(c){const m={};c=(c.g&&2<=Mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(_(c[R]))continue;var v=D(c[R]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=m[j]||[];m[j]=V,V.push(v)}S(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function u_(c){this.Aa=0,this.i=[],this.j=new Jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,c),this.cb=hl("retryDelaySeedMs",1e4,c),this.Wa=hl("forwardChannelMaxRetries",2,c),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ww(c&&c.concurrentRequestLimit),this.Da=new w1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u_.prototype,t.la=8,t.G=1,t.connect=function(c,m,v,R){$e(0),this.W=c,this.H=m||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=w_(this,null,this.W),xu(this)};function ap(c){if(d_(c),c.G==3){var m=c.U++,v=Or(c.I);if(je(v,"SID",c.K),je(v,"RID",m),je(v,"TYPE","terminate"),fl(c,v),m=new ms(c,c.j,m),m.L=2,m.v=gu(Or(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=__(m.j,null),m.g.ea(m.v)),m.F=Date.now(),fu(m)}v_(c)}function _u(c){c.g&&(cp(c),c.g.cancel(),c.g=null)}function d_(c){_u(c),c.u&&(a.clearTimeout(c.u),c.u=null),Eu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function xu(c){if(!qw(c.h)&&!c.s){c.s=!0;var m=c.Ga;Z||K(),F||(Z(),F=!0),$.add(m,c),c.B=0}}function T1(c,m){return Kw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(p(c.Ga,c,m),y_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ms(this,this.j,c);let V=this.o;if(this.S&&(V?(V=T(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(j.H=V,V=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=f_(this,j,m),v=Or(this.I),je(v,"RID",c),je(v,"CVER",22),this.D&&je(v,"X-HTTP-Session-Id",this.D),fl(this,v),V&&(this.O?m="headers="+encodeURIComponent(String(s_(V)))+"&"+m:this.m&&op(v,this.m,V)),ip(this.h,j),this.Ua&&je(v,"TYPE","init"),this.P?(je(v,"$req",m),je(v,"SID","null"),j.T=!0,tp(j,v,null)):tp(j,v,m),this.G=2}}else this.G==3&&(c?h_(this,c):this.i.length==0||qw(this.h)||h_(this))};function h_(c,m){var v;m?v=m.l:v=c.U++;const R=Or(c.I);je(R,"SID",c.K),je(R,"RID",v),je(R,"AID",c.T),fl(c,R),c.m&&c.o&&op(R,c.m,c.o),v=new ms(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=f_(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ip(c.h,v),tp(v,R,m)}function fl(c,m){c.H&&M(c.H,function(v,R){je(m,R,v)}),c.l&&Yw({},function(v,R){je(m,R,v)})}function f_(c,m,v){v=Math.min(c.i.length,v);var R=c.l?p(c.l.Na,c.l,c):null;e:{var j=c.i;let V=-1;for(;;){const q=["count="+v];V==-1?0<v?(V=j[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let ke=!0;for(let xt=0;xt<v;xt++){let xe=j[xt].g;const At=j[xt].map;if(xe-=V,0>xe)V=Math.max(0,j[xt].g-100),ke=!1;else try{_1(At,q,"req"+xe+"_")}catch{R&&R(At)}}if(ke){R=q.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,R}function p_(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Z||K(),F||(Z(),F=!0),$.add(m,c),c.v=0}}function lp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(p(c.Fa,c),y_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,m_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),_u(this),m_(this))};function cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function m_(c){c.g=new ms(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Or(c.qa);je(m,"RID","rpc"),je(m,"SID",c.K),je(m,"AID",c.T),je(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(m,"TO",c.ja),je(m,"TYPE","xmlhttp"),fl(c,m),c.m&&c.o&&op(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=gu(Or(m)),v.m=null,v.P=!0,$w(v,c)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),lp(this),$e(19))};function Eu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function g_(c,m){var v=null;if(c.g==m){Eu(c),cp(c),c.g=null;var R=2}else if(sp(c.h,m))v=m.D,Gw(c.h,m),R=1;else return;if(c.G!=0){if(m.o)if(R==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;R=we(),Qe(R,new or(R,v)),xu(c)}else p_(c);else if(j=m.s,j==3||j==0&&0<m.X||!(R==1&&T1(c,m)||R==2&&lp(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function y_(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Ni(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.fb,c),R=c.Xa;const j=!R;R=new ki(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pu(R,"https"),gu(R),j?y1(R.toString(),v):v1(R.toString(),v)}else $e(2);c.G=0,c.l&&c.l.sa(m),v_(c),d_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function v_(c){if(c.G=0,c.ka=[],c.l){const m=Qw(c.h);(m.length!=0||c.i.length!=0)&&(I(c.ka,m),I(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function w_(c,m,v){var R=v instanceof ki?Or(v):new ki(v);if(R.g!="")m&&(R.g=m+"."+R.g),mu(R,R.s);else{var j=a.location;R=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var V=new ki(null);R&&pu(V,R),m&&(V.g=m),j&&mu(V,j),v&&(V.l=v),R=V}return v=c.D,m=c.ya,v&&m&&je(R,v,m),je(R,"VER",c.la),fl(c,R),R}function __(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new yu({eb:v})):new Ye(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x_(){}t=x_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(c,m){return new cn(c,m)};function cn(c,m){Ce.call(this),this.g=new u_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Co(this)}E(cn,Ce),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ap(this.g)},cn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=To(c),c=v);m.i.push(new a1(m.Ya++,c)),m.G==3&&xu(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,ap(this.g),delete this.g,cn.aa.N.call(this)};function E_(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}E(E_,Ri);function b_(){Sn.call(this),this.status=1}E(b_,Sn);function Co(c){this.g=c}E(Co,x_),Co.prototype.ua=function(){Qe(this.g,"a")},Co.prototype.ta=function(c){Qe(this.g,new E_(c))},Co.prototype.sa=function(c){Qe(this.g,new b_)},Co.prototype.ra=function(){Qe(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,$A=function(){return new bu},zA=function(){return we()},UA=Dr,zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,Ad=du,Fw.COMPLETE="complete",FA=Fw,il.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Nl=il,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,VA=Ye}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",lE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Cv("@firebase/firestore");function Oo(){return oo.logLevel}function G(t,...e){if(oo.logLevel<=he.DEBUG){const n=e.map(Vv);oo.debug(`Firestore (${Qa}): ${t}`,...n)}}function is(t,...e){if(oo.logLevel<=he.ERROR){const n=e.map(Vv);oo.error(`Firestore (${Qa}): ${t}`,...n)}}function Da(t,...e){if(oo.logLevel<=he.WARN){const n=e.map(Vv);oo.warn(`Firestore (${Qa}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function Se(t,e){t||se()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Q5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y5{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new BA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new jt(e)}}class X5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class J5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z5{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new cE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,dE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dE);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new lt(0,0))}static max(){return new ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=cr.isNumericId(e),s=cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class Ue extends cr{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends cr{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Tt([hE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ue.fromString(e))}static fromName(e){return new ne(Ue.fromString(e).popFirst(5))}static empty(){return new ne(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=-1;function n6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new ci(s,ne.empty(),e)}function r6(t){return new ci(t.readTime,t.key,kc)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(ae.min(),ne.empty(),kc)}static max(){return new ci(ae.max(),ne.empty(),kc)}}function s6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==i6)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function a6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-1;function xf(t){return t==null}function xh(t){return t===0&&1/t==-1/0}function l6(t){return typeof t=="number"&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="";function c6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fE(e)),e=u6(t.get(n),e);return fE(e)}function u6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case WA:n+="";break;default:n+=i}}return n}function fE(t){return t+WA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bt.RED,this.left=s??bt.EMPTY,this.right=i??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new ht(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KA("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const d6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(Se(!!t),typeof t=="string"){let e=0;const n=d6.exec(t);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",QA="__type__",YA="__previous_value__",XA="__local_write_time__";function Uv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QA])===null||n===void 0?void 0:n.stringValue)===GA}function Ef(t){const e=t.mapValue.fields[YA];return Uv(e)?Ef(e):e}function Nc(t){const e=ui(t.mapValue.fields[XA].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Eh="(default)";class Dc{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__type__",f6="__max__",Ju={mapValue:{}},ZA="__vector__",bh="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:m6(t)?9007199254740991:p6(t)?10:11:se()}function Ar(t,e){if(t===e)return!0;const n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ui(s.timestampValue),a=ui(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return di(s.bytesValue).isEqual(di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?xh(o)===xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oa(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(pE(o)!==pE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Oc(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function Ma(t,e){if(t===e)return 0;const n=hi(t),r=hi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return gE(t.timestampValue,e.timestampValue);case 4:return gE(Nc(t),Nc(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(i,o){const a=di(i),l=di(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=ge(a[u],l[u]);if(h!==0)return h}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(nt(i.latitude),nt(o.latitude));return a!==0?a:ge(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},p=o.fields||{},g=(a=f[bh])===null||a===void 0?void 0:a.arrayValue,E=(l=p[bh])===null||l===void 0?void 0:l.arrayValue,y=ge(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:yE(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ju.mapValue&&o===Ju.mapValue)return 0;if(i===Ju.mapValue)return 1;if(o===Ju.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=ge(l[f],h[f]);if(p!==0)return p;const g=Ma(a[l[f]],u[h[f]]);if(g!==0)return g}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se()}}function gE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=ui(t),r=ui(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function yE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ma(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function ja(t){return $g(t)}function $g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$g(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$g(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function Rd(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+Rd(e):16;case 5:return 2*t.stringValue.length;case 6:return di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ei(r.fields,(i,o)=>{s+=i.length+Rd(o)}),s}(t.mapValue);default:throw se()}}function vE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function wE(t){return!!t&&"nullValue"in t}function _E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function p6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JA])===null||n===void 0?void 0:n.stringValue)===ZA}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new nn(Xl(this.value))}}function eR(t){const e=[];return Ei(t.fields,(n,r)=>{const s=new Tt([n]);if(Pd(r)){const i=eR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,ae.min(),ae.min(),ae.min(),nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,ae.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,ae.min(),ae.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,ae.min(),ae.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function xE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ma(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function g6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{}class ot extends tR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v6(e,n,r):n==="array-contains"?new x6(e,r):n==="in"?new E6(e,r):n==="not-in"?new b6(e,r):n==="array-contains-any"?new T6(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w6(e,r):new _6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends tR{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new tr(e,n)}matches(e){return nR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nR(t){return t.op==="and"}function rR(t){return y6(t)&&nR(t)}function y6(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Hg(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(rR(t))return t.filters.map(e=>Hg(e)).join(",");{const e=t.filters.map(n=>Hg(n)).join(",");return`${t.op}(${e})`}}function sR(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&Ar(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sR(o,s.filters[a]),!0):!1}(t,e):void se()}function iR(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(iR).join(" ,")+"}"}(t):"Filter"}class v6 extends ot{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class w6 extends ot{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _6 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class x6 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zv(n)&&Oc(n.arrayValue,this.value)}}class E6 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class b6 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oc(this.value.arrayValue,n)}}class T6 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function bE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new I6(t,e,n,r,s,i,o)}function $v(t){const e=le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ja(r)).join(",")),e.le=n}return e.le}function Bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EE(t.startAt,e.startAt)&&EE(t.endAt,e.endAt)}function Wg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function S6(t,e,n,r,s,i,o,a){return new nu(t,e,n,r,s,i,o,a)}function Hv(t){return new nu(t)}function TE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aR(t){return t.collectionGroup!==null}function Jl(t){const e=le(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Ih(i,r))}),n.has(Tt.keyField().canonicalString())||e.he.push(new Ih(Tt.keyField(),r))}return e.he}function Tr(t){const e=le(t);return e.Pe||(e.Pe=C6(e,Jl(t))),e.Pe}function C6(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ih(s.field,i)});const n=t.endAt?new Th(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Th(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qg(t,e){const n=t.filters.concat([e]);return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kg(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return Bv(Tr(t),Tr(e))&&t.limitType===e.limitType}function lR(t){return`${$v(Tr(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iR(s)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ja(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ja(s)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jl(r),s)||r.endAt&&!function(o,a,l){const u=xE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jl(r),s))}(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cR(t){return(e,n)=>{let r=!1;for(const s of Jl(t)){const i=R6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R6(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ma(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new Ge(ne.comparator);function os(){return P6}const uR=new Ge(ne.comparator);function Dl(...t){let e=uR;for(const n of t)e=e.insert(n.key,n);return e}function dR(t){let e=uR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return Zl()}function hR(){return Zl()}function Zl(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const k6=new Ge(ne.comparator),N6=new ht(ne.comparator);function fe(...t){let e=N6;for(const n of t)e=e.add(n);return e}const D6=new ht(ge);function O6(){return D6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function fR(t){return{integerValue:""+t}}function M6(t,e){return l6(e)?fR(e):Wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Mc?function(s,i){const o={fields:{[QA]:{stringValue:GA},[XA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Uv(i)&&(i=Ef(i)),i&&(o.fields[YA]=i),{mapValue:o}}(n,e):t instanceof La?mR(t,e):t instanceof jc?gR(t,e):function(s,i){const o=pR(s,i),a=IE(o)+IE(s.Ie);return Bg(o)&&Bg(s.Ie)?fR(a):Wv(s.serializer,a)}(t,e)}function L6(t,e,n){return t instanceof La?mR(t,e):t instanceof jc?gR(t,e):n}function pR(t,e){return t instanceof Sh?function(r){return Bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Mc extends If{}class La extends If{constructor(e){super(),this.elements=e}}function mR(t,e){const n=yR(e);for(const r of t.elements)n.some(s=>Ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends If{constructor(e){super(),this.elements=e}}function gR(t,e){let n=yR(e);for(const r of t.elements)n=n.filter(s=>!Ar(s,r));return{arrayValue:{values:n}}}class Sh extends If{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function IE(t){return nt(t.integerValue||t.doubleValue)}function yR(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.field=e,this.transform=n}}function V6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof La&&s instanceof La||r instanceof jc&&s instanceof jc?Oa(r.elements,s.elements,Ar):r instanceof Sh&&s instanceof Sh?Ar(r.Ie,s.Ie):r instanceof Mc&&s instanceof Mc}(t.transform,e.transform)}class F6{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function wR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qv(t.key,On.none()):new ru(t.key,t.data,On.none());{const n=t.data,r=nn.empty();let s=new ht(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new bi(t.key,r,new mn(s.toArray()),On.none())}}function U6(t,e,n){t instanceof ru?function(s,i,o){const a=s.value.clone(),l=CE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(s,i,o){if(!kd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=CE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(_R(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof ru?function(i,o,a,l){if(!kd(i.precondition,o))return a;const u=i.value.clone(),h=AE(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(i,o,a,l){if(!kd(i.precondition,o))return a;const u=AE(i.fieldTransforms,l,o),h=o.data;return h.setAll(_R(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return kd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pR(r.transform,s||null);i!=null&&(n===null&&(n=nn.empty()),n.set(r.field,i))}return n||null}function SE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oa(r,s,(i,o)=>V6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends Sf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bi extends Sf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _R(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CE(t,e,n){const r=new Map;Se(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,L6(o,a,n[s]))}return r}function AE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j6(i,o,e))}return r}class qv extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&U6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=wR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(n,r)=>SE(n,r))&&Oa(this.baseMutations,e.baseMutations,(n,r)=>SE(n,r))}}class Kv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length);let s=function(){return k6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Kv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ve;function q6(t){switch(t){case B.OK:return se();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se()}}function xR(t){if(t===void 0)return is("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return se()}}(ve=st||(st={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new ei([4294967295,4294967295],0);function RE(t){const e=K6().encode(t),n=new LA;return n.update(e),new Uint8Array(n.digest())}function PE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ei([n,r],0),new ei([s,i],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ei.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(ei.fromNumber(r)));return s.compare(G6)===1&&(s=new ei([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=RE(e),[r,s]=PE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=RE(e),[r,s]=PE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cf(ae.min(),s,new Ge(ge),os(),fe())}}class su{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class ER{constructor(e,n){this.targetId=e,this.ge=n}}class bR{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kE{constructor(){this.pe=0,this.ye=NE(),this.we=Ct.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=fe(),n=fe(),r=fe();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new su(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=NE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Q6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=os(),this.$e=Zu(),this.Ke=Zu(),this.Ue=new Ge(ge)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Wg(i))if(r===0){const o=new ne(i.path);this.ze(n,o,Vt.newNoDocument(o,ae.min()))}else Se(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=di(r).toUint8Array()}catch(l){if(l instanceof KA)return Da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gv(o,s,i)}catch(l){return Da(l instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Wg(a.target)){const l=new ne(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Vt.newNoDocument(l,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=fe();this.Ke.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new Cf(e,n,this.Ue,this.Qe,r);return this.Qe=os(),this.$e=Zu(),this.Ke=Zu(),this.Ue=new Ge(ge),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new kE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new ht(ge),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ht(ge),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new Ge(ne.comparator)}function NE(){return new Ge(ne.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},X6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J6={and:"AND",or:"OR"};class Z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gg(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e$(t,e){return Ch(t,e.toTimestamp())}function Ir(t){return Se(!!t),ae.fromTimestamp(function(n){const r=ui(n);return new lt(r.seconds,r.nanos)}(t))}function Qv(t,e){return Qg(t,e).canonicalString()}function Qg(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IR(t){const e=Ue.fromString(t);return Se(PR(e)),e}function Yg(t,e){return Qv(t.databaseId,e.path)}function cm(t,e){const n=IR(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(CR(n))}function SR(t,e){return Qv(t.databaseId,e)}function t$(t){const e=IR(t);return e.length===4?Ue.emptyPath():CR(e)}function Xg(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DE(t,e,n){return{name:Yg(t,e),fields:n.value.mapValue.fields}}function n$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Se(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:xR(u.code);return new Y(h,u.message||"")}(o);n=new bR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cm(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ae.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Nd(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cm(t,r.document),i=r.readTime?Ir(r.readTime):ae.min(),o=Vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cm(t,r.document),i=r.removedTargetIds||[];n=new Nd([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new W6(s,i),a=r.targetId;n=new ER(a,o)}}return n}function r$(t,e){let n;if(e instanceof ru)n={update:DE(t,e.key,e.value)};else if(e instanceof qv)n={delete:Yg(t,e.key)};else if(e instanceof bi)n={update:DE(t,e.key,e.data),updateMask:h$(e.fieldMask)};else{if(!(e instanceof $6))return se();n={verify:Yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof La)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:e$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function s$(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(ae.min())&&(o=Ir(i)),new F6(o,s.transformResults||[])}(n,e))):[]}function i$(t,e){return{documents:[SR(t,e.path)]}}function o$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SR(t,s);const i=function(u){if(u.length!==0)return RR(tr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:jo(p.field),direction:c$(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function a$(t){let e=t$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=AR(f);return p instanceof tr&&rR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new Ih(Lo(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,xf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Th(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,g=f.values||[];return new Th(g,p)}(n.endAt)),S6(e,s,o,i,a,"F",l,u)}function l$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Lo(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lo(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lo(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Lo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>AR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function c$(t){return Y6[t]}function u$(t){return X6[t]}function d$(t){return J6[t]}function jo(t){return{fieldPath:t.canonicalString()}}function Lo(t){return Tt.fromServerFormat(t.fieldPath)}function RR(t){return t instanceof ot?function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:u$(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>RR(s));return r.length===1?r[0]:{compositeFilter:{op:d$(n.op),filters:r}}}(t):se()}function h$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,s,i=ae.min(),o=ae.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.Tt=e}}function p$(t){const e=a$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.Tn=new g$}addToCollectionParentIndex(e,n){return this.Tn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ci.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class g${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ht(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ht(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kR=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(kR,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Va(0)}static Un(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",y$=1048576;function jE([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class v${constructor(e){this.Hn=e,this.buffer=new ht(jE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){G(ME,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xa(n)?G(ME,"Ignoring IndexedDB error during garbage collection: ",n):await Ya(n)}await this.er(3e5)})}}class _${constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(_f.ae);const r=new v$(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(OE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Oo()<=he.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function x$(t,e){return new _$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ec(r.mutation,s,mn.empty(),lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=Fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=os();const o=Zl(),a=function(){return Zl()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof bi)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ec(h.mutation,u,h.mutation.getFieldMask(),lt.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new b$(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zl();let s=new Ge((o,a)=>o-a),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||mn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||fe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=hR();h.forEach(p=>{if(!i.has(p)){const g=wR(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Fi());let a=kc,l=i;return o.next(u=>z.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,fe())).next(h=>({batchId:a,changes:dR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=Dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dl();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(f,p){return new nu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Vt.newInvalidDocument(h)))});let a=Dl();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&ec(h.mutation,u,mn.empty(),lt.now()),Tf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:p$(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.overlays=new Ge(ne.comparator),this.Rr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Fi(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Fi(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Fi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return z.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new H6(n,r));let i=this.Rr.get(n);i===void 0&&(i=fe(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Vr=new ht(mt.mr),this.gr=new ht(mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new mt(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){const n=new ne(new Ue([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ne(new Ue([])),r=new mt(n,e),s=new mt(n,e+1);let i=fe();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ne.comparator(e.key,n.key)||ge(e.Cr,n.Cr)}static pr(e,n){return ge(e.Cr,n.Cr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ht(mt.mr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new mt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Fv:this.Fr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ge);return n.forEach(s=>{const i=new mt(s,0),o=new mt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new mt(new ne(i),0);let a=new ht(ge);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Cr)),!0)},o),z.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return z.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new mt(n,0),s=this.Mr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.kr=e,this.docs=function(){return new Ge(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=os();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s6(r6(h),r)<=0||(s.has(h.key)||Tf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se()}qr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P$(this)}getSize(e){return z.resolve(this.size)}}class P$ extends E${constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.persistence=e,this.Qr=new vo(n=>$v(n),Bv),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Yv,this.targetCount=0,this.Ur=Va.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Va(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.zn(n),z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _f(0),this.zr=!1,this.zr=!0,this.jr=new C$,this.referenceDelegate=e(this),this.Hr=new k$(this),this.indexManager=new m$,this.remoteDocumentCache=function(s){return new R$(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new f$(n),this.Yr=new I$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new A$(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new N$(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class N$ extends o6{constructor(e){super(),this.currentSequenceNumber=e}}class Xv{constructor(e){this.persistence=e,this.ti=new Yv,this.ni=null}static ri(e){return new Xv(e)}get ii(){if(this.ni)return this.ni;throw se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.ii,r=>{const s=ne.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return z.or([()=>z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.oi=new vo(r=>c6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=x$(this,n)}static ri(e,n){return new Ah(e,n)}Zr(){}Xr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rd(e.data.value)),n}ar(e,n,r){return z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gU()?8:a6(zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new D$;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Oo()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),z.resolve()):(Oo()<=he.DEBUG&&G("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Oo()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):z.resolve())}rs(e,n){if(TE(n))return z.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kg(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Kg(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,s){return TE(n)||s.isEqual(ae.min())?z.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?z.resolve(null):(Oo()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mo(n)),this.hs(e,o,n,n6(s,kc)).next(a=>a))})}cs(e,n){let r=new ht(cR(e));return n.forEach((s,i)=>{Tf(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Oo()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ns.getDocumentsMatchingQuery(e,n,ci.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LocalStore",M$=3e8;class j${constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Ge(ge),this.Is=new vo(i=>$v(i),Bv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T$(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function L$(t,e,n,r){return new j$(t,e,n,r)}async function DR(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=fe();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function V$(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let g=z.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(y=>{const I=u.docVersions.get(E);Se(I!==null),y.version.compareTo(I)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function OR(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function F$(t,e){const n=le(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ct.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(y,I,w){return y.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=M$?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.Hr.updateTargetData(i,g))});let l=os(),u=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(U$(i,o,e.documentUpdates).next(h=>{l=h.Vs,u=h.fs})),!r.isEqual(ae.min())){const h=n.Hr.getLastRemoteSnapshotVersion(i).next(f=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ts=s,i))}function U$(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=os();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Zv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:s}})}function z$(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $$(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new zs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Jg(t,e,n){const r=le(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xa(o))throw o;G(Zv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function LE(t,e,n){const r=le(t);let s=ae.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=le(l),p=f.Is.get(h);return p!==void 0?z.resolve(f.Ts.get(p)):f.Hr.getTargetData(u,h)}(r,o,Tr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:ae.min(),n?i:fe())).next(a=>(B$(r,A6(e),a),{documents:a,gs:i})))}function B$(t,e,n){let r=t.Es.get(e)||ae.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class VE{constructor(){this.activeTargetIds=O6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H${constructor(){this.ho=new VE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class UE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){G(FE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){G(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed=null;function Zg(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K${get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,n,r,s,i){const o=Zg(),a=this.So(e,n.toUriEncodedString());G(um,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,s,i),this.vo(e,a,l,r).then(u=>(G(um,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Da(um,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.bo(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}So(e,n){const r=q$[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class Q$ extends K${constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=Zg();return new Promise((o,a)=>{const l=new VA;l.setWithCredentials(!0),l.listenOnce(FA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ad.NO_ERROR:const h=l.getResponseJson();G(Dt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Ad.TIMEOUT:G(Dt,`RPC '${e}' ${i} timed out`),a(new Y(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const f=l.getStatus();if(G(Dt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(g.status);a(new Y(E,g.message))}else a(new Y(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(B.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{G(Dt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(Dt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=Zg(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$A(),a=zA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");G(Dt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,g=!1;const E=new G$({Fo:I=>{g?G(Dt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(p||(G(Dt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(Dt,`RPC '${e}' stream ${s} sending:`,I),f.send(I))},Mo:()=>f.close()}),y=(I,w,_)=>{I.listen(w,x=>{try{_(x)}catch(C){setTimeout(()=>{throw C},0)}})};return y(f,Nl.EventType.OPEN,()=>{g||(G(Dt,`RPC '${e}' stream ${s} transport opened.`),E.Qo())}),y(f,Nl.EventType.CLOSE,()=>{g||(g=!0,G(Dt,`RPC '${e}' stream ${s} transport closed`),E.Ko())}),y(f,Nl.EventType.ERROR,I=>{g||(g=!0,Da(Dt,`RPC '${e}' stream ${s} transport errored:`,I),E.Ko(new Y(B.UNAVAILABLE,"The operation could not be completed")))}),y(f,Nl.EventType.MESSAGE,I=>{var w;if(!g){const _=I.data[0];Se(!!_);const x=_,C=(x==null?void 0:x.error)||((w=x[0])===null||w===void 0?void 0:w.error);if(C){G(Dt,`RPC '${e}' stream ${s} received error:`,C);const P=C.status;let M=function(A){const k=st[A];if(k!==void 0)return xR(k)}(P),S=C.message;M===void 0&&(M=B.INTERNAL,S="Unknown error status: "+P+" with message "+C.message),g=!0,E.Ko(new Y(M,S)),f.close()}else G(Dt,`RPC '${e}' stream ${s} received:`,_),E.Uo(_)}}),y(a,UA.STAT_EVENT,I=>{I.stat===zg.PROXY?G(Dt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===zg.NOPROXY&&G(Dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new Z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class jR{constructor(e,n,r,s,i,o,a,l){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Y(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return G(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(G(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y$ extends jR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=n$(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Ir(o.readTime):ae.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Xg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Wg(l)?{documents:i$(i,l)}:{query:o$(i,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TR(i,o.resumeToken);const u=Gg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ch(i,o.snapshotVersion.toTimestamp());const u=Gg(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=l$(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Xg(this.serializer),n.removeTarget=e,this.I_(n)}}class X$ extends jR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=s$(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Xg(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>r$(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${}class Z$ extends J${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(e,Qg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(B.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Qg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class e3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(is(n),this.N_=!1):G("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class t3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{wo(this)&&(G(ao,"Restarting streams for network reachability change."),await async function(l){const u=le(l);u.W_.add(4),await iu(u),u.j_.set("Unknown"),u.W_.delete(4),await Rf(u)}(this))})}),this.j_=new e3(r,s)}}async function Rf(t){if(wo(t))for(const e of t.G_)await e(!0)}async function iu(t){for(const e of t.G_)await e(!1)}function LR(t,e){const n=le(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),rw(n)?nw(n):Ja(n).c_()&&tw(n,e))}function ew(t,e){const n=le(t),r=Ja(n);n.U_.delete(e),r.c_()&&VR(n,e),n.U_.size===0&&(r.c_()?r.P_():wo(n)&&n.j_.set("Unknown"))}function tw(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ja(t).y_(e)}function VR(t,e){t.H_.Ne(e),Ja(t).w_(e)}function nw(t){t.H_=new Q6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ja(t).start(),t.j_.B_()}function rw(t){return wo(t)&&!Ja(t).u_()&&t.U_.size>0}function wo(t){return le(t).W_.size===0}function FR(t){t.H_=void 0}async function n3(t){t.j_.set("Online")}async function r3(t){t.U_.forEach((e,n)=>{tw(t,e)})}async function s3(t,e){FR(t),rw(t)?(t.j_.q_(e),nw(t)):t.j_.set("Unknown")}async function i3(t,e,n){if(t.j_.set("Online"),e instanceof bR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.U_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.U_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){G(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof Nd?t.H_.We(e):e instanceof ER?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ae.min()))try{const r=await OR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.U_.get(u);h&&i.U_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.U_.get(l);if(!h)return;i.U_.set(l,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),VR(i,l);const f=new zs(h.target,l,u,h.sequenceNumber);tw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ao,"Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!Xa(e))throw e;t.W_.add(1),await iu(t),t.j_.set("Offline"),n||(n=()=>OR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ao,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Rf(t)})}function UR(t,e){return e().catch(n=>Rh(t,n,e))}async function Pf(t){const e=le(t),n=fi(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Fv;for(;o3(e);)try{const s=await z$(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,a3(e,s)}catch(s){await Rh(e,s)}zR(e)&&$R(e)}function o3(t){return wo(t)&&t.K_.length<10}function a3(t,e){t.K_.push(e);const n=fi(t);n.c_()&&n.b_&&n.S_(e.mutations)}function zR(t){return wo(t)&&!fi(t).u_()&&t.K_.length>0}function $R(t){fi(t).start()}async function l3(t){fi(t).C_()}async function c3(t){const e=fi(t);for(const n of t.K_)e.S_(n.mutations)}async function u3(t,e,n){const r=t.K_.shift(),s=Kv.from(r,e,n);await UR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pf(t)}async function d3(t,e){e&&fi(t).b_&&await async function(r,s){if(function(o){return q6(o)&&o!==B.ABORTED}(s.code)){const i=r.K_.shift();fi(r).h_(),await UR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pf(r)}}(t,e),zR(t)&&$R(t)}async function $E(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),G(ao,"RemoteStore received new credentials");const r=wo(n);n.W_.add(3),await iu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Rf(n)}async function h3(t,e){const n=le(t);e?(n.W_.delete(2),await Rf(n)):e||(n.W_.add(2),await iu(n),n.j_.set("Unknown"))}function Ja(t){return t.J_||(t.J_=function(n,r,s){const i=le(n);return i.M_(),new Y$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:n3.bind(null,t),No:r3.bind(null,t),Lo:s3.bind(null,t),p_:i3.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),rw(t)?nw(t):t.j_.set("Unknown")):(await t.J_.stop(),FR(t))})),t.J_}function fi(t){return t.Y_||(t.Y_=function(n,r,s){const i=le(n);return i.M_(),new X$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:l3.bind(null,t),Lo:d3.bind(null,t),D_:c3.bind(null,t),v_:u3.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Pf(t)):(await t.Y_.stop(),t.K_.length>0&&(G(ao,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(t,e){if(is("AsyncQueue",`${e}: ${t}`),Xa(t))return new Y(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static emptySet(e){return new ha(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Z_=new Ge(ne.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fa{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fa(e,n,ha.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p3{constructor(){this.queries=HE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=le(n),i=s.queries;s.queries=HE(),i.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Y(B.ABORTED,"Firestore shutting down"))}}function HE(){return new vo(t=>lR(t),bf)}async function BR(t,e){const n=le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new f3,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=iw(o,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&ow(n)}async function HR(t,e){const n=le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function m3(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&ow(n)}function g3(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function ow(t){t.ia.forEach(e=>{e.next()})}var ey,WE;(WE=ey||(ey={}))._a="default",WE.Cache="cache";class WR{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.key=e}}class KR{constructor(e){this.key=e}}class y3{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=fe(),this.mutatedKeys=fe(),this.ya=cR(e),this.wa=new ha(this.ya)}get ba(){return this.fa}Sa(e,n){const r=n?n.Da:new BE,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Tf(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?E!==y&&(r.track({type:3,doc:g}),I=!0):this.va(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||u)&&(a=!0)),I&&(g?(o=o.add(g),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(g,E){const y=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return y(g)-y(E)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],l=this.pa.size===0&&this.current&&!s?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new Fa(this.query,e.wa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new KR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new qR(r))}),n}Oa(e){this.fa=e.gs,this.pa=fe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const aw="SyncEngine";class v3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w3{constructor(e){this.key=e,this.Ba=!1}}class _3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new vo(a=>lR(a),bf),this.qa=new Map,this.Qa=new Set,this.$a=new Ge(ne.comparator),this.Ka=new Map,this.Ua=new Yv,this.Wa={},this.Ga=new Map,this.za=Va.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function x3(t,e,n=!0){const r=ZR(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await GR(r,e,n,!0),s}async function E3(t,e){const n=ZR(t);await GR(n,e,!0,!1)}async function GR(t,e,n,r){const s=await $$(t.localStore,Tr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await b3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LR(t.remoteStore,s),a}async function b3(t,e,n,r,s){t.Ha=(f,p,g)=>async function(y,I,w,_){let x=I.view.Sa(w);x.ls&&(x=await LE(y.localStore,I.query,!1).then(({documents:S})=>I.view.Sa(S,x)));const C=_&&_.targetChanges.get(I.targetId),P=_&&_.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(x,y.isPrimaryClient,C,P);return KE(y,I.targetId,M.Ma),M.snapshot}(t,f,p,g);const i=await LE(t.localStore,e,!0),o=new y3(e,i.gs),a=o.Sa(i.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);KE(t,n,u.Ma);const h=new v3(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function T3(t,e,n){const r=le(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!bf(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ew(r.remoteStore,s.targetId),ty(r,s.targetId)}).catch(Ya)):(ty(r,s.targetId),await Jg(r.localStore,s.targetId,!0))}async function I3(t,e){const n=le(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ew(n.remoteStore,r.targetId))}async function S3(t,e,n){const r=D3(t);try{const s=await function(o,a){const l=le(o),u=lt.now(),h=a.reduce((g,E)=>g.add(E.key),fe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=os(),y=fe();return l.ds.getEntries(g,h).next(I=>{E=I,E.forEach((w,_)=>{_.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(I=>{f=I;const w=[];for(const _ of a){const x=z6(_,f.get(_.key).overlayedDocument);x!=null&&w.push(new bi(_.key,x,eR(x.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,w,a)}).next(I=>{p=I;const w=I.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,I.batchId,w)})}).then(()=>({batchId:p.batchId,changes:dR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ge(ge)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await ou(r,s.changes),await Pf(r.remoteStore)}catch(s){const i=iw(s,"Failed to persist write");n.reject(i)}}async function QR(t,e){const n=le(t);try{const r=await F$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Se(o.Ba):s.removedDocuments.size>0&&(Se(o.Ba),o.Ba=!1))}),await ou(n,r,e)}catch(r){await Ya(r)}}function qE(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.ta)p.sa(a)&&(u=!0)}),u&&ow(l)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C3(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Ge(ne.comparator);o=o.insert(i,Vt.newNoDocument(i,ae.min()));const a=fe().add(i),l=new Cf(ae.min(),new Map,new Ge(ge),o,a);await QR(r,l),r.$a=r.$a.remove(i),r.Ka.delete(e),lw(r)}else await Jg(r.localStore,e,!1).then(()=>ty(r,e,n)).catch(Ya)}async function A3(t,e){const n=le(t),r=e.batch.batchId;try{const s=await V$(n.localStore,e);XR(n,r,null),YR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,s)}catch(s){await Ya(s)}}async function R3(t,e,n){const r=le(t);try{const s=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Se(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);XR(r,e,n),YR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,s)}catch(s){await Ya(s)}}function YR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function XR(t,e,n){const r=le(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||JR(t,r)})}function JR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ew(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),lw(t))}function KE(t,e,n){for(const r of n)r instanceof qR?(t.Ua.addReference(r.key,e),P3(t,r)):r instanceof KR?(G(aw,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||JR(t,r.key)):se()}function P3(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(G(aw,"New document in limbo: "+n),t.Qa.add(r),lw(t))}function lw(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ne(Ue.fromString(e)),r=t.za.next();t.Ka.set(r,new w3(n)),t.$a=t.$a.insert(n,r),LR(t.remoteStore,new zs(Tr(Hv(n.path)),r,"TargetPurposeLimboResolution",_f.ae))}}async function ou(t,e,n){const r=le(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Jv.Yi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.La.p_(s),await async function(l,u){const h=le(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,p=>z.forEach(p.Hi,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>z.forEach(p.Ji,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Xa(f))throw f;G(Zv,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const g=h.Ts.get(p),E=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(E);h.Ts=h.Ts.insert(p,y)}}}(r.localStore,i))}async function k3(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){G(aw,"User change. New user:",e.toKey());const r=await DR(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Y(B.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.Rs)}}function N3(t,e){const n=le(t),r=n.Ka.get(e);if(r&&r.Ba)return fe().add(r.key);{let s=fe();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.ba)}return s}}function ZR(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C3.bind(null,e),e.La.p_=m3.bind(null,e.eventManager),e.La.Ja=g3.bind(null,e.eventManager),e}function D3(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R3.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return L$(this.persistence,new O$,e.initialUser,this.serializer)}Xa(e){return new NR(Xv.ri,this.serializer)}Za(e){return new H$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class O3 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof Ah);const r=this.persistence.referenceDelegate.garbageCollector;return new w$(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new NR(r=>Ah.ri(r,n),this.serializer)}}class ny{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k3.bind(null,this.syncEngine),await h3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p3}()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=function(i){return new Q$(i)}(e.databaseInfo);return function(i,o,a,l){return new Z$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new t3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return UE.D()?new UE:new W$}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new _3(s,i,o,a,l,u);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=le(s);G(ao,"RemoteStore shutting down."),i.W_.add(5),await iu(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="FirestoreClient";class M3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=HA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(pi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(pi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hm(t,e){t.asyncQueue.verifyOperationInProgress(),G(pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await DR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j3(t);G(pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$E(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>$E(e.remoteStore,s)),t._onlineComponents=e}async function j3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(pi,"Using user provided OfflineComponentProvider");try{await hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await hm(t,new Ph)}}else G(pi,"Using default OfflineComponentProvider"),await hm(t,new O3(void 0));return t._offlineComponents}async function tP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(pi,"Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(G(pi,"Using default OnlineComponentProvider"),await GE(t,new ny))),t._onlineComponents}function L3(t){return tP(t).then(e=>e.syncEngine)}async function nP(t){const e=await tP(t),n=e.eventManager;return n.onListen=x3.bind(null,e.syncEngine),n.onUnlisten=T3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I3.bind(null,e.syncEngine),n}function V3(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new eP({next:p=>{h.su(),o.enqueueAndForget(()=>HR(i,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new Y(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new WR(Hv(a.path),h,{includeMetadataChanges:!0,Ta:!0});return BR(i,f)}(await nP(t),t.asyncQueue,e,n,r)),r.promise}function F3(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new eP({next:p=>{h.su(),o.enqueueAndForget(()=>HR(i,f)),p.fromCache&&l.source==="server"?u.reject(new Y(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new WR(a,h,{includeMetadataChanges:!0,Ta:!0});return BR(i,f)}(await nP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e,n){if(!n)throw new Y(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U3(t,e,n,r){if(e===!0&&r===!0)throw new Y(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!ne.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){if(ne.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new Y(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firestore.googleapis.com",JE=!0;class ZE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iP,this.ssl=JE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:JE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y$)throw new Y(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G5;switch(r.type){case"firstParty":return new J5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QE.get(n);r&&(G("ComponentProvider","Removing Datastore"),QE.delete(n),r.terminate())}(this),Promise.resolve()}}function z3(t,e,n,r={}){var s;const i=(t=nr(t,Nf))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==iP&&i.host!==a&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!ai(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=jt.MOCK_USER;else{u=KC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jt(f)}t._authCredentials=new Q5(new BA(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class ti extends Za{constructor(e,n,r){super(e,n,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ne(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function mi(t,e,...n){if(t=Ze(t),sP("collection","path",e),t instanceof Nf){const r=Ue.fromString(e,...n);return XE(r),new ti(t,null,r)}{if(!(t instanceof Gt||t instanceof ti))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return XE(r),new ti(t.firestore,null,r)}}function ut(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=HA.newId()),sP("doc","path",e),t instanceof Nf){const r=Ue.fromString(e,...n);return YE(r),new Gt(t,null,new ne(r))}{if(!(t instanceof Gt||t instanceof ti))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return YE(r),new Gt(t.firestore,t instanceof ti?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="AsyncQueue";class tb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MR(this,"async_queue_retry"),this.bu=()=>{const r=dm();r&&G(eb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Gr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xa(e))throw e;G(eb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw is("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=sw.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class _o extends Nf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tb(e),this._firestoreClient=void 0,await e}}}function $3(t,e){const n=typeof t=="object"?t:Rv(),r=typeof t=="string"?t:Eh,s=gf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HC("firestore");i&&z3(s,...i)}return s}function cw(t){if(t._terminated)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B3(t),t._firestoreClient}function B3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new h6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rP(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new M3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(Ct.fromBase64String(e))}catch(n){throw new Y(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ua(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=/^__.*__$/;class W3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class oP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Of{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(aP(this.Lu)&&H3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class q3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}ju(e,n,r,s=!1){return new Of({Lu:e,methodName:n,zu:r,path:Tt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lP(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);pw("Data must be an object, but it was:",o,r);const a=cP(r,o);let l,u;if(i.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=ry(e,f,n);if(!o.contains(p))throw new Y(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dP(h,p)||h.push(p)}l=new mn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new W3(new nn(a),l,u)}class jf extends au{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}function K3(t,e,n){return new Of({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hw extends au{_toFieldTransform(e){return new vR(e.path,new Mc)}isEqual(e){return e instanceof hw}}class fw extends au{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=K3(this,e,!0),r=this.Hu.map(i=>el(i,n)),s=new La(r);return new vR(e.path,s)}isEqual(e){return e instanceof fw&&ai(this.Hu,e.Hu)}}function G3(t,e,n,r){const s=t.ju(1,e,n);pw("Data must be an object, but it was:",s,r);const i=[],o=nn.empty();Ei(r,(l,u)=>{const h=mw(e,l,n);u=Ze(u);const f=s.Ku(h);if(u instanceof jf)i.push(h);else{const p=el(u,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new mn(i);return new oP(o,a,s.fieldTransforms)}function Q3(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[ry(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ry(e,i[p])),l.push(i[p+1]);const u=[],h=nn.empty();for(let p=a.length-1;p>=0;--p)if(!dP(u,a[p])){const g=a[p];let E=l[p];E=Ze(E);const y=o.Ku(g);if(E instanceof jf)u.push(g);else{const I=el(E,y);I!=null&&(u.push(g),h.set(g,I))}}const f=new mn(u);return new oP(h,f,o.fieldTransforms)}function Y3(t,e,n,r=!1){return el(n,t.ju(r?4:3,e))}function el(t,e){if(uP(t=Ze(t)))return pw("Unsupported field value:",e,t),cP(t,e);if(t instanceof au)return function(r,s){if(!aP(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=el(a,s.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=lt.fromDate(r);return{timestampValue:Ch(s.serializer,i)}}if(r instanceof lt){const i=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(s.serializer,i)}}if(r instanceof uw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:TR(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dw)return function(o,a){return{mapValue:{fields:{[JA]:{stringValue:ZA},[bh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Wv(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${kf(r)}`)}(t,e)}function cP(t,e){const n={};return qA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,s)=>{const i=el(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function uP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof uw||t instanceof Ua||t instanceof Gt||t instanceof au||t instanceof dw)}function pw(t,e,n){if(!uP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=kf(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function ry(t,e,n){if((e=Ze(e))instanceof Df)return e._internalPath;if(typeof e=="string")return mw(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const X3=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(X3)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(B.INVALID_ARGUMENT,a+t+l)}function dP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J3 extends hP{data(){return super.data()}}function gw(t,e){return typeof e=="string"?mw(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yw{}class eB extends yw{}function tB(t,e,...n){let r=[];e instanceof yw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof vw).length,a=i.filter(l=>l instanceof Lf).length;if(o>1||o>0&&a>0)throw new Y(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lf extends eB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lf(e,n,r)}_apply(e){const n=this._parse(e);return fP(e._query,n),new Za(e.firestore,e.converter,qg(e._query,n))}_parse(e){const n=Mf(e.firestore);return function(i,o,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rb(f,h);const E=[];for(const y of f)E.push(nb(l,i,y));p={arrayValue:{values:E}}}else p=nb(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rb(f,h),p=Y3(a,o,f,h==="in"||h==="not-in");return ot.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function td(t,e,n){const r=e,s=gw("where",t);return Lf._create(s,r,n)}class vw extends yw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)fP(o,l),o=qg(o,l)}(e._query,n),new Za(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nb(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new Y(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aR(e)&&n.indexOf("/")!==-1)throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!ne.isDocumentKey(r))throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vE(t,new ne(r))}if(n instanceof Gt)return vE(t,n._key);throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function rb(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nB{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[bh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>nt(o.doubleValue));return new dw(i)}convertGeoPoint(e){return new uw(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=ui(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Se(PR(r));const s=new Dc(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mP extends hP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dd extends mP{data(e={}){return super.data(e)}}class rB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ml(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dd(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Dd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ml(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:sB(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){t=nr(t,Gt);const e=nr(t.firestore,_o);return V3(cw(e),t._key).then(n=>iB(e,t,n))}class gP extends nB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Vf(t){t=nr(t,Za);const e=nr(t.firestore,_o),n=cw(e),r=new gP(e);return Z3(t._query),F3(n,t._query).then(s=>new rB(e,r,t,s))}function Nh(t,e,n){t=nr(t,Gt);const r=nr(t.firestore,_o),s=pP(t.converter,e,n);return $f(r,[lP(Mf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,On.none())])}function Ff(t,e,n,...r){t=nr(t,Gt);const s=nr(t.firestore,_o),i=Mf(s);let o;return o=typeof(e=Ze(e))=="string"||e instanceof Df?Q3(i,"updateDoc",t._key,e,n,r):G3(i,"updateDoc",t._key,e),$f(s,[o.toMutation(t._key,On.exists(!0))])}function Uf(t){return $f(nr(t.firestore,_o),[new qv(t._key,On.none())])}function zf(t,e){const n=nr(t.firestore,_o),r=ut(t),s=pP(t.converter,e);return $f(n,[lP(Mf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function $f(t,e){return function(r,s){const i=new Gr;return r.asyncQueue.enqueueAndForget(async()=>S3(await L3(r),s,i)),i.promise}(cw(t),e)}function iB(t,e,n){const r=n.docs.get(e._key),s=new gP(t);return new mP(t,s,e._key,r,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}function oB(){return new hw("serverTimestamp")}function aB(...t){return new fw("arrayUnion",t)}(function(e,n=!0){(function(s){Qa=s})(go),ro(new li("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _o(new Y5(r.getProvider("auth-internal")),new Z5(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xr(aE,lE,e),xr(aE,lE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="firebasestorage.googleapis.com",vP="storageBucket",lB=2*60*1e3,cB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Pr{constructor(e,n,r=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function fm(t){return"storage/"+t}function ww(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(et.UNKNOWN,t)}function uB(t){return new tt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dB(t){return new tt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(et.UNAUTHENTICATED,t)}function fB(){return new tt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pB(t){return new tt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function mB(){return new tt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gB(){return new tt(et.CANCELED,"User canceled the upload/download.")}function yB(t){return new tt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function vB(t){return new tt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wB(){return new tt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vP+"' property when initializing the app?")}function _B(){return new tt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xB(){return new tt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function EB(t){return new tt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sy(t){return new tt(et.INVALID_ARGUMENT,t)}function wP(){return new tt(et.APP_DELETED,"The Firebase app was deleted.")}function bB(t){return new tt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tc(t,e){return new tt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tl(t){throw new tt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gn.makeFromUrl(e,n)}catch{return new gn(e,"")}if(r.path==="")return r;throw vB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),E={bucket:1,path:3},y=n===yP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",w=new RegExp(`^https?://${y}/${s}/${I}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:g,indices:E,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<x.length;C++){const P=x[C],M=P.regex.exec(e);if(M){const S=M[P.indices.bucket];let T=M[P.indices.path];T||(T=""),r=new gn(S,T),P.postModify(r);break}}if(r==null)throw yB(e);return r}}class TB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...I){u||(u=!0,e.apply(null,I))}function f(I){s=setTimeout(()=>{s=null,t(g,l())},I)}function p(){i&&clearTimeout(i)}function g(I,...w){if(u){p();return}if(I){p(),h.call(null,I,...w);return}if(l()||o){p(),h.call(null,I,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let E=!1;function y(I){E||(E=!0,p(),!u&&(s!==null?(I||(a=2),clearTimeout(s),f(0)):I||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function SB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){return t!==void 0}function AB(t){return typeof t=="object"&&!Array.isArray(t)}function _w(t){return typeof t=="string"||t instanceof String}function sb(t){return xw()&&t instanceof Blob}function xw(){return typeof Blob<"u"}function ib(t,e,n,r){if(r<e)throw sy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _P(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Gi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gi||(Gi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,s,i,o,a,l,u,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,E)=>{this.resolve_=g,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Gi.NO_ERROR,l=i.getStatus();if(!a||RB(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Gi.ABORT;r(!1,new nd(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new nd(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());CB(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=ww();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?wP():gB();o(l)}else{const l=mB();o(l)}};this.canceled_?n(!1,new nd(!1,null,!0)):this.backoffId_=IB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MB(t,e,n,r,s,i,o=!0){const a=_P(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return DB(u,e),kB(u,n),NB(u,i),OB(u,r),new PB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LB(...t){const e=jB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xw())return new Blob(t);throw new tt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){if(typeof atob>"u")throw EB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pm{constructor(e,n){this.data=e,this.contentType=n||null}}function UB(t,e){switch(t){case mr.RAW:return new pm(xP(e));case mr.BASE64:case mr.BASE64URL:return new pm(EP(t,e));case mr.DATA_URL:return new pm($B(e),BB(e))}throw ww()}function xP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zB(t){let e;try{e=decodeURIComponent(t)}catch{throw tc(mr.DATA_URL,"Malformed data URL.")}return xP(e)}function EP(t,e){switch(t){case mr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw tc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw tc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FB(e)}catch(s){throw s.message.includes("polyfill")?s:tc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tc(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=HB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $B(t){const e=new bP(t);return e.base64?EP(mr.BASE64,e.rest):zB(e.rest)}function BB(t){return new bP(t).contentType}function HB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){let r=0,s="";sb(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(sb(this.data_)){const r=this.data_,s=VB(r,e,n);return s===null?null:new Ns(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ns(r,!0)}}static getBlob(...e){if(xw()){const n=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(LB.apply(null,n))}else{const n=e.map(o=>_w(o)?UB(mr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){let e;try{e=JSON.parse(t)}catch{return null}return AB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t,e){return e}class $t{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||KB}}let rd=null;function GB(t){return!_w(t)||t.length<2?t:IP(t)}function SP(){if(rd)return rd;const t=[];t.push(new $t("bucket")),t.push(new $t("generation")),t.push(new $t("metageneration")),t.push(new $t("name","fullPath",!0));function e(i,o){return GB(o)}const n=new $t("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new $t("size");return s.xform=r,t.push(s),t.push(new $t("timeCreated")),t.push(new $t("updated")),t.push(new $t("md5Hash",null,!0)),t.push(new $t("cacheControl",null,!0)),t.push(new $t("contentDisposition",null,!0)),t.push(new $t("contentEncoding",null,!0)),t.push(new $t("contentLanguage",null,!0)),t.push(new $t("contentType",null,!0)),t.push(new $t("metadata","customMetadata",!0)),rd=t,rd}function QB(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new gn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function YB(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return QB(r,t),r}function CP(t,e,n){const r=TP(e);return r===null?null:YB(t,r,n)}function XB(t,e,n,r){const s=TP(e);if(s===null||!_w(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),g=Ew(p,n,r),E=_P({alt:"media",token:u});return g+E})[0]}function JB(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class AP{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){if(!t)throw ww()}function ZB(t,e){function n(r,s){const i=CP(t,s,e);return RP(i!==null),i}return n}function e9(t,e){function n(r,s){const i=CP(t,s,e);return RP(i!==null),XB(i,s,t.host,t._protocol)}return n}function PP(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=fB():s=hB():n.getStatus()===402?s=dB(t.bucket):n.getStatus()===403?s=pB(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function t9(t){const e=PP(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=uB(t.path)),i.serverResponse=s.serverResponse,i}return n}function n9(t,e,n){const r=e.fullServerUrl(),s=Ew(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new AP(s,i,e9(t,n),o);return a.errorHandler=t9(e),a}function r9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function s9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=r9(null,e)),r}function i9(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let C=0;C<2;C++)x=x+Math.random().toString().slice(2);return x}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=s9(e,r,s),h=JB(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Ns.getBlob(f,r,p);if(g===null)throw _B();const E={name:u.fullPath},y=Ew(i,t.host,t._protocol),I="POST",w=t.maxUploadRetryTime,_=new AP(y,I,ZB(t,n),w);return _.urlParams=E,_.headers=o,_.body=g.uploadData(),_.errorHandler=PP(e),_}class o9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Tl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a9 extends o9{initXhr(){this.xhr_.responseType="text"}}function kP(){return new a9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this._service=e,n instanceof gn?this._location=n:this._location=gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lo(e,n)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IP(this._location.path)}get storage(){return this._service}get parent(){const e=WB(this._location.path);if(e===null)return null;const n=new gn(this._location.bucket,e);return new lo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bB(e)}}function l9(t,e,n){t._throwIfRoot("uploadBytes");const r=i9(t.storage,t._location,SP(),new Ns(e,!0),n);return t.storage.makeRequestWithTokens(r,kP).then(s=>({metadata:s,ref:t}))}function c9(t){t._throwIfRoot("getDownloadURL");const e=n9(t.storage,t._location,SP());return t.storage.makeRequestWithTokens(e,kP).then(n=>{if(n===null)throw xB();return n})}function u9(t,e){const n=qB(t._location.path,e),r=new gn(t._location.bucket,n);return new lo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){return/^[A-Za-z]+:\/\//.test(t)}function h9(t,e){return new lo(t,e)}function NP(t,e){if(t instanceof bw){const n=t;if(n._bucket==null)throw wB();const r=new lo(n,n._bucket);return e!=null?NP(r,e):r}else return e!==void 0?u9(t,e):t}function f9(t,e){if(e&&d9(e)){if(t instanceof bw)return h9(t,e);throw sy("To use ref(service, url), the first argument must be a Storage instance.")}else return NP(t,e)}function ob(t,e){const n=e==null?void 0:e[vP];return n==null?null:gn.makeFromBucketSpec(n,t)}function p9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:KC(s,t.app.options.projectId))}class bw{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=yP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lB,this._maxUploadRetryTime=cB,this._requests=new Set,s!=null?this._bucket=gn.makeFromBucketSpec(s,this._host):this._bucket=ob(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=ob(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ib("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ib("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new TB(wP());{const o=MB(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ab="@firebase/storage",lb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="storage";function Bf(t,e,n){return t=Ze(t),l9(t,e,n)}function Hf(t){return t=Ze(t),c9(t)}function Wf(t,e){return t=Ze(t),f9(t,e)}function m9(t=Rv(),e){t=Ze(t);const r=gf(t,DP).getImmediate({identifier:e}),s=HC("storage");return s&&g9(r,...s),r}function g9(t,e,n,r={}){p9(t,e,n,r)}function y9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new bw(n,r,s,e,go)}function v9(){ro(new li(DP,y9,"PUBLIC").setMultipleInstances(!0)),xr(ab,lb,""),xr(ab,lb,"esm2017")}v9();const w9={apiKey:"AIzaSyCNlwV8JayiCnOIceM2olchvIqyvMlL-vY",authDomain:"eduform-ffd1d.firebaseapp.com",databaseURL:"https://eduform-ffd1d-default-rtdb.firebaseio.com",projectId:"eduform-ffd1d",storageBucket:"eduform-ffd1d.appspot.com",messagingSenderId:"871559454241",appId:"1:871559454241:web:72242f4fb12dae57ad4d60",measurementId:"G-3S0LH0MSZD"},Tw=YC(w9),be=q5(Tw),Oe=$3(Tw),qf=m9(Tw),qt=({children:t,className:e,variant:n="default",animation:r=!1,borderHighlight:s=!1,...i})=>{const o="rounded-lg p-6",a={default:"bg-card text-card-foreground shadow",outline:"border border-border bg-transparent",glass:"glass-effect backdrop-blur-sm border border-white/10",subtle:"bg-muted/50",primary:"bg-primary text-primary-foreground shadow",accent:"bg-uniplus-50 border border-uniplus-100"};return d.jsx("div",{className:Re(o,a[n],r&&"card-hover",s&&"border-l-4 border-l-uniplus-500",e),...i,children:t})},_9=({children:t,className:e,...n})=>d.jsx("div",{className:Re("flex flex-col space-y-1.5 pb-4",e),...n,children:t}),x9=({children:t,className:e,...n})=>d.jsx("h3",{className:Re("font-semibold text-xl leading-none tracking-tight",e),...n,children:t}),E9=({children:t,className:e,...n})=>d.jsx("p",{className:Re("text-sm text-muted-foreground",e),...n,children:t}),b9=({children:t,className:e,...n})=>d.jsx("div",{className:Re("pt-0",e),...n,children:t}),T9=({children:t,className:e,...n})=>d.jsx("div",{className:Re("flex items-center pt-4",e),...n,children:t});qt.Header=_9;qt.Title=x9;qt.Description=E9;qt.Content=b9;qt.Footer=T9;const I9=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=uf(),u=async h=>{h.preventDefault(),i(""),a(!0);try{const p=(await IA(be,t,n)).user,g=ut(Oe,"loginPage","userDetails"),E=await Mn(g);if(!E.exists()||!E.data()[`user_${p.uid}`])throw new Error("User details not found in database");const y=E.data(),I=E.data()[`user_${p.uid}`];if(!I)throw new Error("User not found in userDetails document");Rn({title:"Login successful",description:`Welcome back, ${I.name}!`}),l("/")}catch(f){i(f.message||"Failed to login. Please check your credentials."),Rn({title:"Login failed",description:f.message||"Please check your credentials and try again",variant:"destructive"})}finally{a(!1)}};return d.jsxs("div",{className:`\r
        login-page \r
        min-h-screen \r
        flex \r
        items-center \r
        justify-center \r
        bg-uniplus-50 \r
        py-12 \r
        px-4 \r
        sm:px-6 \r
        lg:px-8 \r
        relative \r
        overflow-hidden \r
        neon-border \r
        animated-lights\r
      `,children:[d.jsxs(bn,{size:"sm",className:"animate-scale-in login-container shadow-2xl relative z-10",children:[d.jsx("div",{className:"flex justify-center mb-8 mt-4",children:d.jsxs(Fe,{to:"/",className:"flex items-center space-x-2 hover:opacity-90 transition-opacity",children:[d.jsx("div",{className:"h-10 w-10 rounded-lg bg-uniplus-600 flex items-center justify-center neon-logo-shadow",children:d.jsx("span",{className:"text-white font-bold text-xl",children:"U+"})}),d.jsx("span",{className:"font-bold text-2xl neon-text",children:"UniPlus"})]})}),d.jsxs(qt,{className:"mx-auto w-full max-w-md neon-card-shadow",children:[d.jsxs(qt.Header,{children:[d.jsx(qt.Title,{className:"text-2xl text-center neon-title",children:"Welcome back"}),d.jsx(qt.Description,{className:"text-center neon-description",children:"Enter your credentials to access your account"})]}),d.jsxs(qt.Content,{children:[s&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4 text-sm error-box-shadow",children:s}),d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1 neon-label",children:"Email address"}),d.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:h=>e(h.target.value),className:`\r
                    w-full \r
                    px-3 \r
                    py-2 \r
                    border \r
                    border-border \r
                    rounded-md \r
                    shadow-sm \r
                    focus:outline-none \r
                    focus:ring-2 \r
                    focus:ring-uniplus-500 \r
                    focus:border-uniplus-500\r
                    neon-input\r
                  `,placeholder:"your@email.com"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1 neon-label",children:"Password"})}),d.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:h=>r(h.target.value),className:`\r
                    w-full \r
                    px-3 \r
                    py-2 \r
                    border \r
                    border-border \r
                    rounded-md \r
                    shadow-sm \r
                    focus:outline-none \r
                    focus:ring-2 \r
                    focus:ring-uniplus-500 \r
                    focus:border-uniplus-500\r
                    neon-input\r
                  `,placeholder:""})]}),d.jsx("div",{className:"pt-2",children:d.jsx(Mt,{type:"submit",className:"w-full neon-button",disabled:o,children:o?"Signing in...":"Sign in"})})]})]}),d.jsx("div",{className:"text-center mt-4 pb-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground text-white mt-4",children:["Don't have an account?"," ",d.jsx(Fe,{to:"/signup",className:"font-medium text-uniplus-600 hover:text-uniplus-500 transition-colors",children:"Sign up"})]})})]}),d.jsx("div",{className:"text-center mt-8",children:d.jsxs("p",{className:"text-xs text-muted-foreground text-white mb-4",children:["By signing in, you agree to our"," ",d.jsx(Fe,{to:"/terms",className:"text-uniplus-600 hover:text-uniplus-500 transition-colors",children:"Terms of Service"})," ","and"," ",d.jsx(Fe,{to:"/privacy",className:"text-uniplus-600 hover:text-uniplus-500 transition-colors",children:"Privacy Policy"})]})})]}),d.jsx("div",{className:"absolute inset-0 z-0 moving-lights-overlay"})]})},S9=()=>{const[t,e]=b.useState({title:"",course:"",year:"",semester:"",category:"Notes",file:null,fileName:"",fileURL:"",uploadedAt:null,likes:0}),[n,r]=b.useState(!1),[s,i]=b.useState([]),[o,a]=b.useState(!1),l=E=>{const{name:y,value:I}=E.target;e(w=>({...w,[y]:I}))},u=E=>{e(y=>({...y,file:E.target.files[0]}))},h=async()=>{const{course:E,year:y,semester:I,category:w}=t;if(!(!E||!y||!I||!w))try{const _=tB(mi(Oe,"notes"),td("course","==",E),td("year","==",y),td("semester","==",I),td("category","==",w)),C=(await Vf(_)).docs.map(P=>{var M;return{id:P.id,title:P.data().title,fileName:P.data().fileName,fileURL:P.data().fileURL,uploadedAt:(M=P.data().uploadedAt)==null?void 0:M.toDate().toLocaleString(),likes:P.data().likes??0}});i(P=>JSON.stringify(P)===JSON.stringify(C)?P:C)}catch(_){console.error(" Error fetching notes:",_)}},f=async E=>{try{await Uf(ut(Oe,"notes",E)),alert("Note deleted successfully!"),await h()}catch(y){console.error("Error deleting note:",y),alert("Failed to delete note.")}},p=async()=>{const{title:E,course:y,year:I,semester:w,category:_,file:x}=t;if(!E||!y||!I||!w||!_||!x){alert("Please fill in all fields before uploading.");return}try{const C=Wf(qf,`notes/${y}/${I}/${w}/${_}/${x.name}`);await Bf(C,x);const P=await Hf(C);await zf(mi(Oe,"notes"),{title:E,course:y,year:I,semester:w,category:_,fileName:x.name,fileURL:P,uploadedAt:oB(),likes:0}),alert("File uploaded successfully!"),e({title:"",course:"",year:"",semester:"",category:"Notes",file:null,likes:0}),a(!1),await h()}catch(C){console.error(" Upload failed:",C),alert("Failed to upload file. See console for details.")}};b.useEffect(()=>{h()},[t.course,t.year,t.semester,t.category]);const g=async E=>{console.log(` Like button clicked for note: ${E}`);try{const y=ut(Oe,"notes",E),I=await Mn(y);if(I.exists()){const w=I.data().likes||0;console.log(` Current likes in Firestore: ${w}`),await Ff(y,{likes:w+1}),console.log(" Likes updated in Firestore!"),i(_=>_.map(x=>x.id===E?{...x,likes:w+1}:x)),console.log(" Likes updated in UI!")}else console.error(" Document not found")}catch(y){console.error(" Error updating likes:",y)}};return b.useEffect(()=>{(async()=>{const y=be.currentUser;if(y)try{const I=ut(Oe,"userAdmin","Admins"),w=await Mn(I);if(w.exists()){const _=w.data().email;y.email===_&&r(!0)}}catch(I){console.error("Error checking admin status:",I)}})()},[be]),d.jsxs("div",{className:"notes-container",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-white ",children:"Upload and View Notes"}),d.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[d.jsxs("select",{name:"course",value:t.course,onChange:l,className:"border p-2",children:[d.jsx("option",{value:"",children:"Select Course"}),d.jsx("option",{value:"CSE",children:"Computer Science"}),d.jsx("option",{value:"ECE",children:"Electronics"}),d.jsx("option",{value:"ME",children:"Mechanical"}),d.jsx("option",{value:"Civil",children:"Civil Engineering"})]}),d.jsxs("select",{name:"year",value:t.year,onChange:l,className:"border p-2",children:[d.jsx("option",{value:"",children:"Select Year"}),d.jsx("option",{value:"1",children:"1st Year"}),d.jsx("option",{value:"2",children:"2nd Year"}),d.jsx("option",{value:"3",children:"3rd Year"}),d.jsx("option",{value:"4",children:"4th Year"})]}),d.jsxs("select",{name:"semester",value:t.semester,onChange:l,className:"border p-2",children:[d.jsx("option",{value:"",children:"Select Semester"}),d.jsx("option",{value:"1",children:"Sem 1"}),d.jsx("option",{value:"2",children:"Sem 2"}),d.jsx("option",{value:"3",children:"Sem 3"}),d.jsx("option",{value:"4",children:"Sem 4"})]}),d.jsxs("select",{name:"category",value:t.category,onChange:l,className:"border p-2",children:[d.jsx("option",{value:"Lecture Notes",children:"Lecture Notes"}),d.jsx("option",{value:"PYQ",children:"Previous Year Questions"}),d.jsx("option",{value:"Assignment",children:"Assignment"}),d.jsx("option",{value:"Lab",children:"Lab"})]})]}),d.jsx("button",{onClick:()=>a(!0),className:"bg-green-500 text-white p-2 rounded",children:"Upload"}),d.jsx("h3",{className:"text-lg font-semibold mb-4 mt-4 text-white",children:"Available Notes:"}),s.length===0?d.jsx("p",{className:"text-gray-500",children:"No notes found."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(E=>d.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow hover:shadow-md transition relative",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:E.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.fileName}),d.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Uploaded on: ",E.uploadedAt]}),d.jsx("a",{href:E.fileURL,target:"_blank",rel:"noopener noreferrer",className:"block bg-blue-500 text-white text-center py-1.5 rounded hover:bg-blue-600 transition",children:"View / Download"}),d.jsxs("div",{className:"flex items-center mt-2",children:[d.jsx("button",{onClick:()=>g(E.id),className:"text-red-500 text-lg focus:outline-none",children:""}),d.jsx("p",{className:"ml-2 text-gray-700",children:E.likes}),n&&d.jsx("button",{onClick:()=>f(E.id),className:"admin-delete-btn",children:"Delete"})]})]},E.id))}),o&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:d.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-lg w-96",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upload Notes"}),d.jsx("input",{type:"text",name:"title",value:t.title,onChange:l,placeholder:"Enter Title",className:"border p-2 w-full mb-2 rounded"}),d.jsxs("select",{name:"course",value:t.course,onChange:l,className:"border p-2 w-full mb-2 rounded",children:[d.jsx("option",{value:"",children:"Select Course"}),d.jsx("option",{value:"CSE",children:"Computer Science"}),d.jsx("option",{value:"ECE",children:"Electronics"}),d.jsx("option",{value:"ME",children:"Mechanical"}),d.jsx("option",{value:"Civil",children:"Civil Engineering"})]}),d.jsxs("select",{name:"year",value:t.year,onChange:l,className:"border p-2 w-full mb-2 rounded",children:[d.jsx("option",{value:"",children:"Select Year"}),d.jsx("option",{value:"1",children:"1st Year"}),d.jsx("option",{value:"2",children:"2nd Year"}),d.jsx("option",{value:"3",children:"3rd Year"}),d.jsx("option",{value:"4",children:"4th Year"})]}),d.jsxs("select",{name:"semester",value:t.semester,onChange:l,className:"border p-2 w-full mb-2 rounded",children:[d.jsx("option",{value:"",children:"Select Semester"}),d.jsx("option",{value:"1",children:"Semester 1"}),d.jsx("option",{value:"2",children:"Semester 2"}),d.jsx("option",{value:"3",children:"Semester 3"}),d.jsx("option",{value:"4",children:"Semester 4"}),d.jsx("option",{value:"5",children:"Semester 5"}),d.jsx("option",{value:"6",children:"Semester 6"}),d.jsx("option",{value:"7",children:"Semester 7"}),d.jsx("option",{value:"8",children:"Semester 8"})]}),d.jsxs("select",{name:"category",value:t.category,onChange:l,className:"border p-2 w-full mb-2 rounded",children:[d.jsx("option",{value:"",children:"Select Category"}),d.jsx("option",{value:"Lecture Notes",children:"Lecture Notes"}),d.jsx("option",{value:"Assignments",children:"Assignments"}),d.jsx("option",{value:"Previous Papers",children:"Previous Papers"})]}),d.jsx("input",{type:"file",onChange:u,className:"border p-2 w-full mb-2 rounded"}),d.jsx("button",{onClick:p,className:"bg-green-500 text-white p-2 rounded w-full mb-2",children:"Upload"}),d.jsx("button",{onClick:()=>a(!1),className:"bg-red-500 text-white p-2 rounded w-full",children:"Cancel"})]})})]})},C9=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=uf(),u=async h=>{h.preventDefault(),a(!0);try{const p=(await TA(be,n,s)).user,g=ut(Oe,"loginPage","userDetails");(await Mn(g)).exists()?await Nh(g,{[`user_${p.uid}`]:{name:t,email:n}},{merge:!0}):await Nh(g,{[`user_${p.uid}`]:{name:t,email:n}}),Rn({title:"Signup successful",description:`Welcome, ${t}!`}),l("/")}catch(f){Rn({title:"Signup failed",description:f.message,variant:"destructive"})}finally{a(!1)}};return d.jsxs("div",{className:`\r
        signup-page\r
        relative\r
        min-h-screen\r
        flex\r
        items-center\r
        justify-center\r
        bg-uniplus-50\r
        py-12\r
        px-4\r
        sm:px-6\r
        lg:px-8\r
        overflow-hidden\r
        bubble-background\r
        neon-lights-anim\r
      `,children:[d.jsxs(bn,{size:"sm",className:"animate-scale-in signup-container shadow-2xl relative z-10",children:[d.jsx("div",{className:"flex justify-center mb-8 mt-4 neon-header-text",children:d.jsxs(Fe,{to:"/",className:"flex items-center space-x-2 hover:opacity-90 transition-opacity",children:[d.jsx("div",{className:"h-10 w-10 rounded-lg bg-uniplus-600 flex items-center justify-center neon-logo-shadow",children:d.jsx("span",{className:"text-white font-bold text-xl",children:"U+"})}),d.jsx("span",{className:"font-bold text-2xl neon-text",children:"UniPlus"})]})}),d.jsxs(qt,{className:"mx-auto w-full max-w-md neon-card-shadow",children:[d.jsxs(qt.Header,{children:[d.jsx(qt.Title,{className:"text-2xl text-center neon-title",children:"Create an account"}),d.jsx(qt.Description,{className:"text-center neon-description",children:"Sign up to get started with UniPlus"})]}),d.jsx(qt.Content,{children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1 neon-label",children:"Name"}),d.jsx("input",{id:"name",type:"text",required:!0,value:t,onChange:h=>e(h.target.value),className:`\r
                    w-full\r
                    px-3\r
                    py-2\r
                    border\r
                    border-border\r
                    rounded-md\r
                    shadow-sm\r
                    focus:outline-none\r
                    focus:ring-2\r
                    focus:ring-uniplus-500\r
                    focus:border-uniplus-500\r
                    neon-input\r
                  `,placeholder:"Your name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1 neon-label",children:"Email address"}),d.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:h=>r(h.target.value),className:`\r
                    w-full\r
                    px-3\r
                    py-2\r
                    border\r
                    border-border\r
                    rounded-md\r
                    shadow-sm\r
                    focus:outline-none\r
                    focus:ring-2\r
                    focus:ring-uniplus-500\r
                    focus:border-uniplus-500\r
                    neon-input\r
                  `,placeholder:"your@email.com"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1 neon-label",children:"Password"}),d.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:h=>i(h.target.value),className:`\r
                    w-full\r
                    px-3\r
                    py-2\r
                    border\r
                    border-border\r
                    rounded-md\r
                    shadow-sm\r
                    focus:outline-none\r
                    focus:ring-2\r
                    focus:ring-uniplus-500\r
                    focus:border-uniplus-500\r
                    neon-input\r
                  `,placeholder:""})]}),d.jsx("div",{className:"pt-2",children:d.jsx(Mt,{type:"submit",className:"w-full neon-button",disabled:o,children:o?"Signing up...":"Sign Up"})})]})}),d.jsx("div",{className:"text-center mt-4 pb-4 text-white",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",d.jsx(Fe,{to:"/login",className:"font-medium text-uniplus-600 hover:text-uniplus-500 transition-colors",children:"Log in"})]})})]})]}),d.jsx("div",{className:"bubbles-overlay"})]})},cb=["All","Academic","Events","General","Other"],A9=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState("All"),[o,a]=b.useState(!1),[l,u]=b.useState(!1),[h,f]=b.useState(!1),[p,g]=b.useState({title:"",content:"",author:"",category:"",imageUrl:"",date:""});b.useEffect(()=>{const x=SA(be,C=>{C&&C.email==="tanuadmin@gmail.com"?f(!0):f(!1)});return()=>x()},[]);const E=async()=>{try{const x=await Vf(mi(Oe,"announcements"));x.empty&&console.warn("No announcements found in Firestore!");const C=await Promise.all(x.docs.map(async P=>{const M=P.data();let S="Unknown Author";if(M.userId)try{const T=ut(Oe,"loginPage","userDetails"),A=await Mn(T);if(A.exists()){const k=A.data()[`user_${M.userId}`];S=A.data().name||"Unknown Author"}}catch(T){console.error("Error fetching author details:",T)}return{id:P.id,...M,authorName:S}}));e(C)}catch(x){console.error("Error fetching announcements:",x)}};b.useEffect(()=>{E()},[]),b.useEffect(()=>{t.date&&g(x=>({...x,date:t.date.toDate().toISOString().split("T")[0]}))},[t]),b.useEffect(()=>{r(s==="All"?t:t.filter(x=>x.category===s))},[s,t]);const y=x=>{g({...p,[x.target.name]:x.target.value})},I=x=>{const C=x.target.files[0];C&&g({...p,imageUrl:URL.createObjectURL(C)})},w=async x=>{x.preventDefault(),u(!0),{...p,date:lt.fromDate(new Date(p.date))};try{let C="";if(p.imageUrl){const P=Wf(qf,`images/${Date.now()}`),S=await(await fetch(p.imageUrl)).blob();await Bf(P,S),C=await Hf(P)}await zf(mi(Oe,"announcements"),{...p,imageUrl:C,userId:be.currentUser.uid}),alert("Announcement Added Successfully!"),a(!1),g({title:"",content:"",author:"",category:"",imageUrl:"",date:new Date().toISOString().split("T")[0]}),E()}catch(C){console.error("Error adding announcement:",C),alert("Failed to add announcement")}finally{u(!1)}},_=async x=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await Uf(ut(Oe,"announcements",x)),alert("Announcement Deleted!"),E()}catch(C){console.error("Error deleting announcement:",C),alert("Failed to delete announcement")}};return d.jsxs("div",{className:"container futuristic-container",children:[d.jsx("div",{className:"category-filter",children:cb.map(x=>d.jsx("button",{className:`category-filter-button mtab-button ${s===x?"active":""}`,onClick:()=>i(x),children:x},x))}),h&&d.jsx("button",{className:"add-button",onClick:()=>a(!o),children:o?"Cancel":" Add Announcement"}),o&&d.jsxs("form",{className:"announcement-form",onSubmit:w,children:[d.jsx("h2",{children:"Add New Announcement"}),d.jsx("input",{type:"text",name:"title",placeholder:"Title",value:p.title,onChange:y,required:!0}),d.jsx("textarea",{name:"content",placeholder:"Content",value:p.content,onChange:y,required:!0}),d.jsx("input",{type:"text",name:"author",placeholder:"Author",value:p.author,onChange:y,required:!0}),d.jsxs("select",{name:"category",value:p.category,onChange:y,required:!0,children:[d.jsx("option",{value:"",children:"Select Category"}),cb.slice(1).map(x=>d.jsx("option",{value:x,children:x},x))]}),d.jsx("input",{type:"file",onChange:I,disabled:l}),d.jsx("input",{type:"date",name:"date",value:p.date,onChange:y}),d.jsx("button",{type:"submit",disabled:l,children:l?"Submitting...":"Submit Announcement"})]}),d.jsx("div",{className:"announcement-list animated-bg",children:n.length>0?n.map(x=>{var C,P;return d.jsxs("div",{className:"announcement-item glassy-announcement",children:[d.jsx("h3",{children:x.title}),d.jsxs("p",{children:[d.jsx("strong",{children:x.author})," |"," ",(C=x.date)!=null&&C.seconds?new Date(x.date.seconds*1e3).toLocaleDateString():"Not Available"]}),d.jsx("p",{children:x.content}),x.imageUrl&&d.jsx("img",{src:x.imageUrl,alt:"Announcement"}),(h||((P=be.currentUser)==null?void 0:P.uid)===x.userId)&&d.jsx("button",{className:"delete-button",onClick:()=>_(x.id),children:" Delete"})]},x.id)}):d.jsx("p",{children:"No announcements found."})})]})},R9=({item:t,handleDeleteItem:e,setSelectedItem:n,setIsModalOpen:r,handleContactClick:s})=>{var a,l;const[i,o]=b.useState("");return b.useEffect(()=>{if(!(t!=null&&t.isBidding)||!(t!=null&&t.biddingEnds))return;const u=new Date(t.biddingEnds.trim());if(isNaN(u.getTime())){console.error("Invalid Date Format:",t.biddingEnds);return}const h=()=>{const g=u-new Date;if(g<=0){o("Bidding Ended");return}const E=Math.floor(g/(1e3*60*60)),y=Math.floor(g%(1e3*60*60)/(1e3*60)),I=Math.floor(g%(1e3*60)/1e3);o(`${E}h ${y}m ${I}s`)};h();const f=setInterval(h,1e3);return()=>clearInterval(f)},[t.biddingEnds,t.isBidding]),d.jsxs("div",{className:"market-item-card",children:[d.jsxs("div",{className:"image-container",children:[d.jsx("img",{src:t.imageUrl,alt:t.title,className:"item-image"}),t.isBidding&&d.jsxs("div",{className:"auction-info",children:[d.jsx("span",{className:"auction-badge",children:"Auction"}),d.jsx("span",{className:"time-left-badge",children:i})," "]})]}),d.jsx("div",{className:"price",children:t.isBidding?d.jsxs("span",{className:"bid-amount",children:["Current Bid: ",t.bidAmount]}):d.jsxs("span",{className:"fixed-price",children:["",t.price]})}),d.jsx("br",{}),d.jsx("h2",{className:"item-title",children:d.jsx("b",{children:t.title})}),d.jsxs("p",{className:"item-meta",children:[t.category,"  ",t.condition]}),d.jsxs("p",{className:"seller-info",children:[d.jsx("strong",{children:"Uploaded by:"})," ",t.userName]}),d.jsx("p",{className:"item-description",children:t.description}),((a=be.currentUser)==null?void 0:a.uid)===t.userId&&d.jsxs("div",{className:"owner-actions",children:[d.jsx("button",{onClick:()=>e(t.id,t.userId),className:"delete-btn",children:"Delete Item"}),d.jsx("button",{onClick:()=>alert(`Last Bidder's Email: ${t.lastBidderEmail||"Not Available"}`),className:"view-bidder-btn",children:"View Last Bidder"})]}),d.jsx("div",{className:"item-actions",children:((l=be.currentUser)==null?void 0:l.uid)!==t.userId&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>s(t.userEmail),className:"contact-btn",children:"Contact Seller"}),t.isBidding&&d.jsx("button",{onClick:()=>{n(t),r(!0)},className:"bid-btn",children:"Place Bid"})]})})]},t.id)},P9=()=>{const t=["All","Electronics","Books","Furniture","Clothing","Other"],[e,n]=b.useState("All"),[r,s]=b.useState([]),[i,o]=b.useState(!1),[a,l]=b.useState(!1),[u,h]=b.useState(null),[f,p]=b.useState(null),[g,E]=b.useState(!1),[y,I]=b.useState(""),[w,_]=b.useState(null),x=b.useRef(null);b.useEffect(()=>{g&&x.current&&x.current.scrollIntoView({behavior:"smooth",block:"center"})},[g]);const[C,P]=b.useState({contactMessage:"",contactEmail:"",bidAmount:null,title:"",description:"",price:"",condition:"Like New",category:"Books",imageUrl:"",isBidding:!1,biddingEnds:null,lastBidderName:"",lastBidderEmail:""}),M=r.filter(L=>e==="All"||L.category===e),S=L=>{h(L),setTimeout(()=>{document.getElementById("email-modal").scrollIntoView({behavior:"smooth",block:"center"})},100)};b.useEffect(()=>{T()},[]);const T=async()=>{try{const L=await Vf(mi(Oe,"marketplace"));L.empty&&console.warn("No items found in Firestore!");const ee=await Promise.all(L.docs.map(async J=>{const Z=J.data();let F="Unknown User",$=Z.contactEmail||"Not Available";if(Z.userId)try{const K=ut(Oe,"loginPage","userDetails"),ie=await Mn(K);if(ie.exists()){const X=ie.data()[`user_${Z.userId}`];F=(X==null?void 0:X.name)||"Unknown User"}}catch(K){console.error("Error fetching user details:",K)}return{id:J.id,...Z,userName:F,userEmail:$}}));s(ee)}catch(L){console.error("Error fetching items:",L)}},A=async(L,ee)=>{var J;if(((J=be.currentUser)==null?void 0:J.uid)!==ee){alert("You can only delete your own items!");return}await Uf(ut(Oe,"marketplace",L)),alert("Item deleted successfully!"),T()},k=be.currentUser,D=async L=>{if(!y||isNaN(y)||y<=0){alert("Please enter a valid bid amount!");return}if(!k){alert("You must be logged in to place a bid!");return}const ee=new Date,J=new Date(L.biddingEnds);if(ee>=J){alert("Bidding time has ended! You can no longer place a bid.");return}const Z=parseFloat(L.bidAmount)+parseFloat(y);try{console.log("Updating item with ID:",L.id);const F=ut(Oe,"marketplace",L.id);await Ff(F,{bidAmount:Z,lastBidderEmail:(k==null?void 0:k.email)||"Not Available"}),alert(`Bid increased by ${y}! New bid amount: ${Z}`),E(!1),I(""),p(null),window.location.reload()}catch(F){console.error("Error placing bid:",F)}},O=async()=>{if(!be.currentUser){alert("You must be logged in to add items.");return}if(!C.contactMessage||!C.contactEmail||!C.bidAmount||!C.title||!C.description||!C.price||!C.condition||!C.category||!C.image||C.isBidding===!0&&!C.biddingEnds){alert("All fields are required!");return}l(!0);try{let L="";if(C.image){const ee=Wf(qf,`images/${Date.now()}`),Z=await(await fetch(C.image)).blob();await Bf(ee,Z),L=await Hf(ee)}await zf(mi(Oe,"marketplace"),{...C,imageUrl:L,userId:be.currentUser.uid}),alert("Item added successfully!"),o(!1),window.location.reload()}catch(L){console.error("Error adding item:",L),alert("Failed to add item. Please try again.")}finally{l(!1)}},N=L=>{const ee=L.target.files[0];ee&&P({...C,image:URL.createObjectURL(ee)})};return d.jsxs("div",{className:"marketplace-container",children:[d.jsx("div",{className:"markeplace-tab",children:t.map(L=>d.jsx("button",{onClick:()=>n(L),className:`mtab-button ${e===L?"active":""}`,children:L},L))}),d.jsx("button",{onClick:()=>o(!0),className:"add-item-button",children:"Add New Item"}),d.jsx("div",{className:"mitems-container",children:M.map(L=>d.jsx(R9,{item:L,handleDeleteItem:A,setSelectedItem:p,setIsModalOpen:E,handleContactClick:S},L.id))}),i&&d.jsx("div",{className:"mmodal-overlay",onClick:()=>o(!1)}),i&&d.jsxs("div",{className:"market-modal-form",children:[d.jsx("h3",{children:"Add Details"}),d.jsx("input",{type:"text",placeholder:"Title",onChange:L=>P({...C,title:L.target.value}),value:C.title,disabled:a}),d.jsx("textarea",{placeholder:"Description",onChange:L=>P({...C,description:L.target.value}),value:C.description,disabled:a}),d.jsx("input",{type:"text",placeholder:"Contact Message",onChange:L=>P({...C,contactMessage:L.target.value}),value:C.contactMessage,disabled:a}),d.jsx("input",{type:"email",placeholder:"Contact Email",onChange:L=>P({...C,contactEmail:L.target.value}),value:C.contactEmail,disabled:a}),d.jsx("input",{type:"number",placeholder:"Bid Amount",onChange:L=>P({...C,bidAmount:L.target.value}),value:C.bidAmount,disabled:a}),d.jsx("input",{type:"number",placeholder:"Price",onChange:L=>P({...C,price:L.target.value}),value:C.price,disabled:a}),d.jsxs("select",{onChange:L=>P({...C,condition:L.target.value}),value:C.condition,disabled:a,children:[d.jsx("option",{value:"Like New",children:"Like New"}),d.jsx("option",{value:"Used",children:"Used"}),d.jsx("option",{value:"New",children:"New"})]}),d.jsxs("select",{onChange:L=>P({...C,category:L.target.value}),value:C.category,disabled:a,children:[d.jsx("option",{value:"Books",children:"Books"}),d.jsx("option",{value:"Electronics",children:"Electronics"}),d.jsx("option",{value:"Furniture",children:"Furniture"}),d.jsx("option",{value:"Clothing",children:"Clothing"}),d.jsx("option",{value:"Other",children:"Other"})]}),d.jsx("input",{type:"file",onChange:N,disabled:a}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:C.isBidding,onChange:L=>P({...C,isBidding:L.target.checked}),disabled:a})," Enable Bidding"]}),C.isBidding&&d.jsx("input",{type:"date",placeholder:"Bidding Ends On",onChange:L=>P({...C,biddingEnds:L.target.value}),value:C.biddingEnds,disabled:a}),d.jsx("button",{onClick:O,disabled:a,className:"custom-submit-button",children:d.jsx("span",{className:"custom-button-text",children:a?"Submitting...":"Submit"})})]}),u&&d.jsx("div",{id:"email-modal",className:"email-modal-overlay",onClick:()=>h(null),children:d.jsxs("div",{className:"email-modal-content",onClick:L=>L.stopPropagation(),children:[d.jsx("h2",{children:"Seller's Contact"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",u]}),d.jsx("button",{className:"email-close-button",onClick:()=>h(null),children:"Close"})]})}),g&&f&&d.jsx("div",{className:"bid-modal-overlay",children:d.jsxs("div",{ref:x,className:"bid-modal-content",children:[d.jsx("h2",{className:"bid-modal-title",children:"Increase Your Bid"}),d.jsx("input",{type:"number",placeholder:"Enter bid amount",className:"bid-input",value:y,onChange:L=>I(L.target.value)}),d.jsxs("div",{className:"bid-modal-actions",children:[d.jsx("button",{onClick:()=>{E(!1),p(null)},className:"bid-cancel-button",children:"Cancel"}),d.jsx("button",{onClick:()=>D(f),className:"bid-submit-button",children:"Submit"})]})]})})]})},k9=()=>{const[t,e]=b.useState("all"),[n,r]=b.useState([]),[s,i]=b.useState(!1),[o,a]=b.useState(!1),[l,u]=b.useState([]),[h,f]=b.useState({title:"",location:"",date:"",description:"",type:"lost",image:null}),[p,g]=b.useState(!1);b.useEffect(()=>{E()},[]);const E=async()=>{try{const P=await Vf(mi(Oe,"lostAndFound")),M=await Promise.all(P.docs.map(async S=>{const T=S.data();let A="Unknown User";if(T.userId){const k=ut(Oe,"loginPage","userDetails"),D=await Mn(k);if(D.exists()){const O=D.data()[`user_${T.userId}`];O&&(A=O.name)}}return{id:S.id,...T,userName:A}}));r(M)}catch(P){console.error("Error fetching items:",P)}},y=async()=>{if(be.currentUser)try{const P=ut(Oe,"notifications",be.currentUser.uid),M=await Mn(P);if(M.exists()){const S=M.data();u(S.notifications||[])}else u([])}catch(P){console.error("Error fetching notifications:",P)}},I=async()=>{if(!be.currentUser){alert("You must be logged in to add items.");return}if(!h.title||!h.location||!h.date||!h.description||!h.image){alert("All fields are required!");return}g(!0);try{let P="";if(h.image){const M=Wf(qf,`images/${Date.now()}`),T=await(await fetch(h.image)).blob();await Bf(M,T),P=await Hf(M)}await zf(mi(Oe,"lostAndFound"),{...h,imageUrl:P,userId:be.currentUser.uid}),g(!1),i(!1),alert("Item added successfully!"),window.location.reload()}catch(P){console.error("Error adding item:",P),alert("Error adding item. Check console for details."),g(!1)}},w=async(P,M)=>{var S;if(((S=be.currentUser)==null?void 0:S.uid)!==M){alert("You can only delete your own items!");return}try{await Uf(ut(Oe,"lostAndFound",P)),alert("Item deleted successfully!"),E()}catch(T){console.error("Error deleting item:",T),alert("Error deleting item. Check console for details.")}},_=async P=>{if(console.log("handleNotify called for item:",P),!be.currentUser){alert("You must be logged in to send notifications.");return}if(be.currentUser.uid===P.userId){alert("You cannot send a notification to yourself!");return}let M=be.currentUser.displayName||"A user on the platform",S=be.currentUser.email||"unknownEmail";try{const k=ut(Oe,"loginPage","userDetails"),D=await Mn(k);if(D.exists()){const O=D.data()[`user_${be.currentUser.uid}`];O&&O.name&&(M=O.name),O&&O.email&&(S=O.email)}}catch(k){console.log("Error fetching current user name:",k)}let T="";P.type==="lost"?T=`${M} wants to notify you that they found "${P.title}" which you reported lost. Their email is ${S}.`:P.type==="found"&&(T=`${M} wants to notify you that they lost "${P.title}" which you reported found. Their email is ${S}.`);const A=ut(Oe,"notifications",P.userId);try{await Ff(A,{notifications:aB({message:T,timestamp:new Date().toISOString()})}),alert("Notification sent successfully!"),console.log("Notification updated to existing doc")}catch(k){console.log("Error updating doc, will try setDoc:",k);try{await Nh(A,{notifications:[{message:T,timestamp:new Date().toISOString()}]}),alert("Notification sent successfully!"),console.log("Notification set to new doc")}catch(D){console.error("Error creating notification doc:",D),alert("Error sending notification. Check console for details.")}}},x=P=>{const M=P.target.files[0];M&&f({...h,image:URL.createObjectURL(M)})},C=P=>{var M;return t!=="all"&&P.type!==t?null:d.jsxs("div",{className:"item-card",children:[d.jsx("img",{src:P.imageUrl,alt:P.title}),d.jsxs("p",{children:[d.jsxs("strong",{children:[P.type.toUpperCase(),":"]})," ",P.title]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Location:"})," ",P.location]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Date:"})," ",P.date]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Description:"})," ",P.description]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Uploaded by:"})," ",P.userName]}),((M=be.currentUser)==null?void 0:M.uid)===P.userId&&d.jsx("button",{onClick:()=>w(P.id,P.userId),style:{color:"red"},children:"Delete"}),be.currentUser&&be.currentUser.uid!==P.userId&&d.jsx("button",{onClick:()=>_(P),className:"notify-button",children:P.type==="lost"?"I Found This!":"I Lost This!"})]},P.id)};return d.jsxs("div",{className:"lost-found-container",children:[d.jsx("div",{className:"tabs",children:["all","lost","found"].map(P=>d.jsx("button",{onClick:()=>e(P),className:`tab-button ${t===P?"active":""}`,children:P==="all"?"All Items":P==="lost"?"Lost Items":"Found Items"},P))}),d.jsx("button",{onClick:()=>{be.currentUser?i(!0):alert("Please log in to add an item")},className:"submit-button",children:"Report Lost/Found Item"}),be.currentUser&&d.jsx("button",{className:"floating-notif-button",onClick:()=>{y(),a(!0)},children:"Notifications"}),d.jsx("div",{className:"items-container",children:n.map(P=>C(P))}),s&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-overlay",onClick:()=>i(!1)}),d.jsxs("div",{className:"modal-form",children:[d.jsx("h3",{children:"Add Lost/Found Item"}),d.jsx("input",{type:"text",placeholder:"Title",onChange:P=>f({...h,title:P.target.value}),value:h.title,disabled:p}),d.jsx("input",{type:"text",placeholder:"Location",onChange:P=>f({...h,location:P.target.value}),value:h.location,disabled:p}),d.jsx("input",{type:"text",placeholder:"Date (YYYY-MM-DD)",onChange:P=>f({...h,date:P.target.value}),value:h.date,disabled:p}),d.jsx("textarea",{placeholder:"Description",onChange:P=>f({...h,description:P.target.value}),value:h.description,disabled:p}),d.jsx("input",{type:"file",onChange:x,disabled:p}),d.jsx("label",{style:{marginTop:"10px",fontWeight:"bold"},children:"Item Type:"}),d.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[d.jsxs("label",{children:[d.jsx("input",{type:"radio",value:"lost",checked:h.type==="lost",onChange:P=>f({...h,type:P.target.value}),disabled:p}),"Lost"]}),d.jsxs("label",{children:[d.jsx("input",{type:"radio",value:"found",checked:h.type==="found",onChange:P=>f({...h,type:P.target.value}),disabled:p}),"Found"]})]}),d.jsx("button",{onClick:I,disabled:p,className:"custom-submit-button",children:d.jsx("span",{className:"custom-button-text",children:p?"Submitting...":"Submit"})})]})]}),o&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"custom-notif-overlay",onClick:()=>a(!1)}),d.jsxs("div",{className:"custom-notif-modal",children:[d.jsx("h3",{className:"custom-notif-title",children:" Your Notifications"}),l.length===0?d.jsx("p",{className:"custom-notif-empty",children:"No notifications yet."}):d.jsx("ul",{className:"custom-notif-list",children:l.map((P,M)=>d.jsxs("li",{className:"custom-notif-item",children:[d.jsx("p",{className:"custom-notif-message",children:P.message}),d.jsxs("small",{className:"custom-notif-timestamp",children:[" ",new Date(P.timestamp).toLocaleString()]})]},M))}),d.jsx("button",{onClick:()=>a(!1),className:"custom-notif-close-btn",children:"Close "})]})]})]})};var Iw="Collapsible",[N9,OP]=ls(Iw),[D9,Sw]=N9(Iw),MP=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[l=!1,u]=fo({prop:r,defaultProp:s,onChange:o});return d.jsx(D9,{scope:n,disabled:i,contentId:Ki(),open:l,onOpenToggle:b.useCallback(()=>u(h=>!h),[u]),children:d.jsx(Ie.div,{"data-state":Aw(l),"data-disabled":i?"":void 0,...a,ref:e})})});MP.displayName=Iw;var jP="CollapsibleTrigger",LP=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Sw(jP,n);return d.jsx(Ie.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Aw(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ye(t.onClick,s.onOpenToggle)})});LP.displayName=jP;var Cw="CollapsibleContent",VP=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Sw(Cw,t.__scopeCollapsible);return d.jsx(wi,{present:n||s.open,children:({present:i})=>d.jsx(O9,{...r,ref:e,present:i})})});VP.displayName=Cw;var O9=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=Sw(Cw,n),[a,l]=b.useState(r),u=b.useRef(null),h=vt(e,u),f=b.useRef(0),p=f.current,g=b.useRef(0),E=g.current,y=o.open||a,I=b.useRef(y),w=b.useRef(void 0);return b.useEffect(()=>{const _=requestAnimationFrame(()=>I.current=!1);return()=>cancelAnimationFrame(_)},[]),Zr(()=>{const _=u.current;if(_){w.current=w.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const x=_.getBoundingClientRect();f.current=x.height,g.current=x.width,I.current||(_.style.transitionDuration=w.current.transitionDuration,_.style.animationName=w.current.animationName),l(r)}},[o.open,r]),d.jsx(Ie.div,{"data-state":Aw(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...t.style},children:y&&s})});function Aw(t){return t?"open":"closed"}var M9=MP,j9=LP,L9=VP,V9=b.createContext(void 0);function Rw(t){const e=b.useContext(V9);return t||e||"ltr"}var cs="Accordion",F9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Pw,U9,z9]=sv(cs),[Kf,GW]=ls(cs,[z9,OP]),kw=OP(),FP=H.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return d.jsx(Pw.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?d.jsx(W9,{...i,ref:e}):d.jsx(H9,{...s,ref:e})})});FP.displayName=cs;var[UP,$9]=Kf(cs),[zP,B9]=Kf(cs,{collapsible:!1}),H9=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,l]=fo({prop:n,defaultProp:r,onChange:s});return d.jsx(UP,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:H.useCallback(()=>i&&l(""),[i,l]),children:d.jsx(zP,{scope:t.__scopeAccordion,collapsible:i,children:d.jsx($P,{...o,ref:e})})})}),W9=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=fo({prop:n,defaultProp:r,onChange:s}),l=H.useCallback(h=>a((f=[])=>[...f,h]),[a]),u=H.useCallback(h=>a((f=[])=>f.filter(p=>p!==h)),[a]);return d.jsx(UP,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:d.jsx(zP,{scope:t.__scopeAccordion,collapsible:!0,children:d.jsx($P,{...i,ref:e})})})}),[q9,Gf]=Kf(cs),$P=H.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=H.useRef(null),l=vt(a,e),u=U9(n),f=Rw(s)==="ltr",p=ye(t.onKeyDown,g=>{var T;if(!F9.includes(g.key))return;const E=g.target,y=u().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),I=y.findIndex(A=>A.ref.current===E),w=y.length;if(I===-1)return;g.preventDefault();let _=I;const x=0,C=w-1,P=()=>{_=I+1,_>C&&(_=x)},M=()=>{_=I-1,_<x&&(_=C)};switch(g.key){case"Home":_=x;break;case"End":_=C;break;case"ArrowRight":i==="horizontal"&&(f?P():M());break;case"ArrowDown":i==="vertical"&&P();break;case"ArrowLeft":i==="horizontal"&&(f?M():P());break;case"ArrowUp":i==="vertical"&&M();break}const S=_%w;(T=y[S].ref.current)==null||T.focus()});return d.jsx(q9,{scope:n,disabled:r,direction:s,orientation:i,children:d.jsx(Pw.Slot,{scope:n,children:d.jsx(Ie.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:p})})})}),Dh="AccordionItem",[K9,Nw]=Kf(Dh),BP=H.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Gf(Dh,n),o=$9(Dh,n),a=kw(n),l=Ki(),u=r&&o.value.includes(r)||!1,h=i.disabled||t.disabled;return d.jsx(K9,{scope:n,open:u,disabled:h,triggerId:l,children:d.jsx(M9,{"data-orientation":i.orientation,"data-state":QP(u),...a,...s,ref:e,disabled:h,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});BP.displayName=Dh;var HP="AccordionHeader",WP=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Gf(cs,n),i=Nw(HP,n);return d.jsx(Ie.h3,{"data-orientation":s.orientation,"data-state":QP(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});WP.displayName=HP;var iy="AccordionTrigger",qP=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Gf(cs,n),i=Nw(iy,n),o=B9(iy,n),a=kw(n);return d.jsx(Pw.ItemSlot,{scope:n,children:d.jsx(j9,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});qP.displayName=iy;var KP="AccordionContent",GP=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Gf(cs,n),i=Nw(KP,n),o=kw(n);return d.jsx(L9,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});GP.displayName=KP;function QP(t){return t?"open":"closed"}var G9=FP,Q9=BP,Y9=WP,YP=qP,XP=GP;const X9=G9,JP=b.forwardRef(({className:t,...e},n)=>d.jsx(Q9,{ref:n,className:Re("border-b",t),...e}));JP.displayName="AccordionItem";const oy=b.forwardRef(({className:t,children:e,...n},r)=>d.jsx(Y9,{className:"flex",children:d.jsxs(YP,{ref:r,className:Re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,d.jsx(WO,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));oy.displayName=YP.displayName;const ZP=b.forwardRef(({className:t,children:e,...n},r)=>d.jsx(XP,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:d.jsx("div",{className:Re("pb-4 pt-0",t),children:e})}));ZP.displayName=XP.displayName;const J9=()=>{const t=[{question:"How do I create an account?",answer:"You can create an account by clicking on the 'Sign Up' button in the top right corner of the homepage. You'll need to provide your university email address and create a password."},{question:"How do I report a lost item?",answer:"To report a lost item, navigate to the Lost & Found page, click on 'Report Lost Item', and fill out the form with details about your lost item including when and where you last saw it."},{question:"How do I list an item for sale?",answer:"Go to the Marketplace page and click on 'List an Item'. Fill out the form with details about your item, set a price or enable bidding, and upload clear photos of the item."},{question:"How do I contact the seller of an item?",answer:"On the Marketplace page, find the item you're interested in and click 'Contact Seller'. This will open a form where you can send a message to the seller."},{question:"How do I claim a found item?",answer:"If you see your lost item in the Lost & Found section, click on 'I Own This' and provide information that can verify your ownership of the item."},{question:"How do I place a bid on an auction item?",answer:"On the item's page in the Marketplace, click on 'Place Bid' and enter your bid amount. You'll be notified if you're outbid or if you win the auction."},{question:"How do I reset my password?",answer:"On the login page, click on 'Forgot Password'. Enter your email address, and we'll send you instructions to reset your password."},{question:"How can I contact the UniPlus support team?",answer:"You can reach our support team by emailing support@uniplus.com or by using the contact form on the Contact page."}];return d.jsx("div",{className:"min-h-screen pt-24 pb-16 bg-gray-900 text-white",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-center",children:"Help Center"}),d.jsx("p",{className:"mb-8 text-center text-gray-300",children:"Find answers to frequently asked questions about using UniPlus."}),d.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Frequently Asked Questions"}),d.jsx(X9,{type:"single",collapsible:!0,className:"w-full",children:t.map((e,n)=>d.jsxs(JP,{value:`item-${n}`,className:"border-b border-gray-700",children:[d.jsx(oy,{className:"text-lg font-semibold text-white py-3 hover:bg-transparent cursor-pointer",children:d.jsx(oy,{className:"text-lg font-semibold text-white py-3 hover:bg-transparent cursor-pointer w-full text-left",children:d.jsx("span",{className:"underline whitespace-nowrap overflow-hidden text-ellipsis block",children:e.question})})}),d.jsx(ZP,{className:"text-gray-300 pb-4",children:e.answer})]},n))})]}),d.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Still Need Help?"}),d.jsx("p",{className:"mb-6 text-gray-300",children:"If you couldn't find the answer to your question, please contact our support team."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"p-4 border border-gray-700 rounded-lg",children:[d.jsx("h3",{className:"font-medium mb-2 text-white",children:"Email Support"}),d.jsx("p",{className:"text-sm mb-3 text-gray-300",children:"Send us an email and we'll get back to you within 24 hours."}),d.jsx("a",{href:"mailto:support@uniplus.com",className:"text-blue-400 hover:underline font-medium",children:"support@uniplus.com"})]}),d.jsxs("div",{className:"p-4 border border-gray-700 rounded-lg",children:[d.jsx("h3",{className:"font-medium mb-2 text-white",children:"Phone Support"}),d.jsx("p",{className:"text-sm mb-3 text-gray-300",children:"Available Monday-Friday, 9am-5pm"}),d.jsx("a",{href:"tel:+11234567890",className:"text-blue-400 hover:underline font-medium",children:"+1 (123) 456-7890"})]})]})]})]})})})},Z9=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16 text-white",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Privacy Policy"}),d.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: January 2024"}),d.jsxs("div",{className:"prose max-w-none",children:[d.jsx("p",{className:"mb-4",children:"At UniPlus, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Information We Collect"}),d.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us when you:"}),d.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[d.jsx("li",{className:"mb-2",children:"Create an account or user profile"}),d.jsx("li",{className:"mb-2",children:"Post announcements, marketplace listings, or lost and found reports"}),d.jsx("li",{className:"mb-2",children:"Participate in auctions or bidding"}),d.jsx("li",{className:"mb-2",children:"Communicate with other users through our platform"}),d.jsx("li",{className:"mb-2",children:"Contact our customer support"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"How We Use Your Information"}),d.jsx("p",{className:"mb-4",children:"We use the information we collect to:"}),d.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[d.jsx("li",{className:"mb-2",children:"Provide, maintain, and improve our services"}),d.jsx("li",{className:"mb-2",children:"Facilitate transactions between users"}),d.jsx("li",{className:"mb-2",children:"Communicate with you about our services, updates, and promotions"}),d.jsx("li",{className:"mb-2",children:"Monitor and analyze usage patterns and trends"}),d.jsx("li",{className:"mb-2",children:"Detect, prevent, and address technical issues and fraudulent activities"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Information Sharing"}),d.jsx("p",{className:"mb-4",children:"We may share your information with:"}),d.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[d.jsx("li",{className:"mb-2",children:"Other users as necessary for the functioning of our services (e.g., connecting buyers and sellers, or people who lost items with those who found them)"}),d.jsx("li",{className:"mb-2",children:"Third-party service providers who perform services on our behalf"}),d.jsx("li",{className:"mb-2",children:"Law enforcement or other government agencies, as required by law"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Data Security"}),d.jsx("p",{className:"mb-4",children:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet or electronic storage is 100% secure, so we cannot guarantee absolute security."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Your Choices"}),d.jsx("p",{className:"mb-4",children:"You can:"}),d.jsxs("ul",{className:"list-disc pl-5 mb-4",children:[d.jsx("li",{className:"mb-2",children:"Update or correct your account information at any time"}),d.jsx("li",{className:"mb-2",children:"Opt out of receiving promotional communications"}),d.jsx("li",{className:"mb-2",children:"Request deletion of your account and personal information"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-4",children:"Contact Us"}),d.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy, please contact us at:"}),d.jsxs("p",{className:"mb-4",children:[d.jsx("strong",{children:"Email:"})," privacy@uniplus.com",d.jsx("br",{}),d.jsx("strong",{children:"Address:"})," 123 University Way, College Town, CT 12345"]})]})]})})}),eH=()=>{const t=[{name:"Suhani",role:"Founder",bio:"Manav Rachna University",image:"/suhani.jpg"},{name:"Tanya",role:"Founder",bio:"Indian Institute of Information Technology Allahabad",image:"/Tan.jpg"},{name:"Tanu Shree",role:"Founder",bio:"Indian Institute of Technology Dhanbad",image:"/tanu.jpg"},{name:"Rupanshi Goel",role:"Founder",bio:"Indian Institute of Technology Delhi",image:"/rupanshi.jpg"}];return d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsxs(bn,{children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 text-white",children:"About UniPlus"}),d.jsx("p",{className:"text-lg text-white max-w-2xl mx-auto",children:"We're building the digital infrastructure for modern university communities."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-24",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Our Story"}),d.jsx("p",{className:"text-white mb-4",children:"We come from diverse backgroundssome of us excel in web development, others in user experience, and a few in campus administrationand yet we share a common vision: to simplify campus life for students and staff alike. Through countless brainstorming sessions, we realized that a single integrated platform could dramatically reduce confusion and enhance campus communication."}),d.jsx("p",{className:"text-white mb-4",children:"Thus, we combined our collective expertise to merge announcements, buy/sell, and lost & found features under one virtual roof. From the earliest mockups to final testing, we sought continuous feedback to refine each function and bolster security."}),d.jsx("p",{className:"text-white",children:"Our aim is to foster a more connected campus, where collaboration and convenience go hand in hand. By bridging gaps in communication and reducing administrative overhead, UniPlus empowers every member of the university. Ultimately, this project isnt just a technical endeavorits our commitment to creating a supportive, productive, and unified community for all."})]}),d.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg",children:d.jsx("img",{src:"/bkg.jpg",alt:"University students collaborating",className:"w-full h-auto"})})]}),d.jsx("div",{className:"bg-uniplus-50 rounded-xl p-8 mb-24",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-white",children:'"To create thriving university communities by connecting people, resources, and information through intuitive digital solutions."'})]})}),d.jsxs("div",{className:"mb-24",children:[d.jsx("h2",{className:"text-2xl font-bold mb-8 text-center text-white",children:"Our Team"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(e=>d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[d.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4",children:d.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),d.jsx("h3",{className:"font-semibold mb-1 text-black",children:e.name}),d.jsx("p",{className:"text-sm text-uniplus-600 mb-3",children:e.role}),d.jsx("p",{className:"text-sm text-black",children:e.bio})," "]},e.name))})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Join Our Community"}),d.jsx("p",{className:"text-white mb-6 max-w-2xl mx-auto",children:"Experience UniPlus for yourself and see how it transforms your university experience. Sign up today to connect with your campus community."}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[d.jsx(Fe,{to:"/signup",children:d.jsx(Mt,{size:"lg",children:"Get Started"})}),d.jsx(Fe,{to:"/contact",children:d.jsx(Mt,{variant:"outline",size:"lg",children:"Contact Us"})})]})]})]})})},tH=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-black",children:"Community Guidelines"}),d.jsx("p",{className:"mb-8 text-black",children:"These guidelines ensure a respectful and inclusive experience for all users."}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"General Rules"}),d.jsxs("ul",{className:"list-disc pl-5 text-black space-y-2",children:[d.jsx("li",{children:"Be respectful and inclusive in all interactions."}),d.jsx("li",{children:"No harassment, hate speech, or discrimination."}),d.jsx("li",{children:"Post only relevant and appropriate content."}),d.jsx("li",{children:"Respect privacydo not share personal information."}),d.jsx("li",{children:"No spam, self-promotion, or fraudulent activity."}),d.jsx("li",{children:"Report misconduct to our support team."})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Report Violations"}),d.jsxs("p",{className:"text-black",children:["If you come across any violations, please report them to our team at",d.jsx("a",{href:"mailto:support@uniplus.com",className:"text-black hover:underline font-medium",children:" support@uniplus.com"}),"."]})]})]})})}),nH=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-black",children:"Our Services"}),d.jsx("p",{className:"mb-8 text-black",children:"Explore the range of services we offer to university students and staff."}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Announcements"}),d.jsx("p",{className:"text-black",children:"Stay updated with the latest university news and updates."})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Marketplace"}),d.jsx("p",{className:"text-black",children:"Buy and sell items securely within your university community."})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Lost & Found"}),d.jsx("p",{className:"text-black",children:"Report lost items or claim found items on campus."})]})]})})}),rH=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Press & Media"}),d.jsx("p",{className:"mb-8 text-white",children:"Find our latest press releases and media coverage."}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Latest News"}),d.jsx("p",{className:"text-black",children:"UniPlus is revolutionizing campus life! Contact us for press inquiries."})]})]})})}),sH=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Contact Us"}),d.jsx("p",{className:"mb-8 text-white",children:"We're here to help! Reach out to us anytime."}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Support"}),d.jsxs("p",{className:"text-black",children:["Email: ",d.jsx("a",{href:"mailto:support@uniplus.com",className:"text-black hover:underline font-medium",children:"support@uniplus.com"})]}),d.jsxs("p",{className:"text-black",children:["Phone: ",d.jsx("a",{href:"tel:+11234567890",className:"text-black hover:underline font-medium",children:"+1 (123) 456-7890"})]})]})]})})}),iH=()=>d.jsx("div",{className:"min-h-screen pt-24 pb-16",children:d.jsx(bn,{children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"Terms of Service"}),d.jsx("p",{className:"mb-8 text-white",children:"Please read these terms carefully before using UniPlus."}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"1. User Responsibilities"}),d.jsx("p",{className:"text-black",children:"By using UniPlus, you agree to follow our community guidelines and not engage in any misconduct."})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"2. Privacy Policy"}),d.jsxs("p",{className:"text-black",children:["We value your privacy. Please review our ",d.jsx("a",{href:"/privacy",className:"text-black hover:underline",children:"Privacy Policy"}),"."]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"3. Contact Support"}),d.jsxs("p",{className:"text-black",children:["If you have any questions, contact us at",d.jsx("a",{href:"mailto:support@uniplus.com",className:"text-black hover:underline font-medium",children:" support@uniplus.com"}),"."]})]})]})})}),ek=b.createContext(),oH=({children:t})=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(null);b.useEffect(()=>SA(be,async f=>{if(f){const p=ut(Oe,"loginPage","userDetails"),g=await Mn(p);if(g.exists()){const y=g.data()[`user_${f.uid}`];n(y||null)}else n(null)}else n(null);s(!1)}),[]);const a=async(h,f,p)=>{s(!0),o(null);try{const E=(await TA(be,f,p)).user,y=ut(Oe,"loginPage","userDetails");(await Mn(y)).exists()?await Ff(y,{[`user_${E.uid}`]:{name:h,email:f,uid:E.uid}}):await Nh(y,{[`user_${E.uid}`]:{name:h,email:f,uid:E.uid}}),n({name:h,email:f,uid:E.uid})}catch(g){throw o(g.message),g}finally{s(!1)}},l=async(h,f)=>{s(!0),o(null);try{const g=(await IA(be,h,f)).user.uid,E=ut(Oe,"loginPage","userDetails"),y=await Mn(E);if(y.exists()){const w=y.data()[`user_${g}`];if(w)n(w);else throw new Error("User details not found in Firestore.")}else throw new Error("User document does not exist.")}catch(p){throw o(p.message),p}finally{s(!1)}},u=async()=>{await Mz(be),n(null)};return d.jsx(ek.Provider,{value:{user:e,loading:r,error:i,signup:a,login:l,logout:u},children:t})},tk=()=>b.useContext(ek);var mm="rovingFocusGroup.onEntryFocus",aH={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[ay,nk,lH]=sv(Qf),[cH,rk]=ls(Qf,[lH]),[uH,dH]=cH(Qf),sk=b.forwardRef((t,e)=>d.jsx(ay.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(ay.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(hH,{...t,ref:e})})}));sk.displayName=Qf;var hH=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,p=b.useRef(null),g=vt(e,p),E=Rw(i),[y=null,I]=fo({prop:o,defaultProp:a,onChange:l}),[w,_]=b.useState(!1),x=_n(u),C=nk(n),P=b.useRef(!1),[M,S]=b.useState(0);return b.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(mm,x),()=>T.removeEventListener(mm,x)},[x]),d.jsx(uH,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:y,onItemFocus:b.useCallback(T=>I(T),[I]),onItemShiftTab:b.useCallback(()=>_(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>S(T=>T-1),[]),children:d.jsx(Ie.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{P.current=!0}),onFocus:ye(t.onFocus,T=>{const A=!P.current;if(T.target===T.currentTarget&&A&&!w){const k=new CustomEvent(mm,aH);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=C().filter(J=>J.focusable),O=D.find(J=>J.active),N=D.find(J=>J.id===y),ee=[O,N,...D].filter(Boolean).map(J=>J.ref.current);ak(ee,h)}}P.current=!1}),onBlur:ye(t.onBlur,()=>_(!1))})})}),ik="RovingFocusGroupItem",ok=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ki(),l=i||a,u=dH(ik,n),h=u.currentTabStopId===l,f=nk(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return b.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),d.jsx(ay.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(Ie.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,E=>{r?u.onItemFocus(l):E.preventDefault()}),onFocus:ye(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ye(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){u.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const y=mH(E,u.orientation,u.dir);if(y!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let w=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(E.currentTarget);w=u.loop?gH(w,_+1):w.slice(_+1)}setTimeout(()=>ak(w))}})})})});ok.displayName=ik;var fH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mH(t,e,n){const r=pH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fH[r]}function ak(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var yH=sk,vH=ok,Dw="Tabs",[wH,QW]=ls(Dw,[rk]),lk=rk(),[_H,Ow]=wH(Dw),ck=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=Rw(a),[f,p]=fo({prop:r,onChange:s,defaultProp:i});return d.jsx(_H,{scope:n,baseId:Ki(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:d.jsx(Ie.div,{dir:h,"data-orientation":o,...u,ref:e})})});ck.displayName=Dw;var uk="TabsList",dk=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Ow(uk,n),o=lk(n);return d.jsx(yH,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});dk.displayName=uk;var hk="TabsTrigger",fk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Ow(hk,n),a=lk(n),l=gk(o.baseId,r),u=yk(o.baseId,r),h=r===o.value;return d.jsx(vH,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Ie.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ye(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});fk.displayName=hk;var pk="TabsContent",mk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Ow(pk,n),l=gk(a.baseId,r),u=yk(a.baseId,r),h=r===a.value,f=b.useRef(h);return b.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(wi,{present:s||h,children:({present:p})=>d.jsx(Ie.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});mk.displayName=pk;function gk(t,e){return`${t}-trigger-${e}`}function yk(t,e){return`${t}-content-${e}`}var xH=ck,vk=dk,wk=fk,_k=mk;const EH=xH,xk=b.forwardRef(({className:t,...e},n)=>d.jsx(vk,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));xk.displayName=vk.displayName;const jl=b.forwardRef(({className:t,...e},n)=>d.jsx(wk,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));jl.displayName=wk.displayName;const Ll=b.forwardRef(({className:t,...e},n)=>d.jsx(_k,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ll.displayName=_k.displayName;var gm="focusScope.autoFocusOnMount",ym="focusScope.autoFocusOnUnmount",ub={bubbles:!1,cancelable:!0},bH="FocusScope",Ek=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),u=_n(s),h=_n(i),f=b.useRef(null),p=vt(e,y=>l(y)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(x){if(g.paused||!a)return;const C=x.target;a.contains(C)?f.current=C:bs(f.current,{select:!0})},I=function(x){if(g.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||bs(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const P of x)P.removedNodes.length>0&&bs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",I);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",I),_.disconnect()}}},[r,a,g.paused]),b.useEffect(()=>{if(a){hb.add(g);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(gm,ub);a.addEventListener(gm,u),a.dispatchEvent(w),w.defaultPrevented||(TH(RH(bk(a)),{select:!0}),document.activeElement===y&&bs(a))}return()=>{a.removeEventListener(gm,u),setTimeout(()=>{const w=new CustomEvent(ym,ub);a.addEventListener(ym,h),a.dispatchEvent(w),w.defaultPrevented||bs(y??document.body,{select:!0}),a.removeEventListener(ym,h),hb.remove(g)},0)}}},[a,u,h,g]);const E=b.useCallback(y=>{if(!n&&!r||g.paused)return;const I=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(I&&w){const _=y.currentTarget,[x,C]=IH(_);x&&C?!y.shiftKey&&w===C?(y.preventDefault(),n&&bs(x,{select:!0})):y.shiftKey&&w===x&&(y.preventDefault(),n&&bs(C,{select:!0})):w===_&&y.preventDefault()}},[n,r,g.paused]);return d.jsx(Ie.div,{tabIndex:-1,...o,ref:p,onKeyDown:E})});Ek.displayName=bH;function TH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bs(r,{select:e}),document.activeElement!==n)return}function IH(t){const e=bk(t),n=db(e,t),r=db(e.reverse(),t);return[n,r]}function bk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function db(t,e){for(const n of t)if(!SH(n,{upTo:e}))return n}function SH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CH(t){return t instanceof HTMLInputElement&&"select"in t}function bs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CH(t)&&e&&t.select()}}var hb=AH();function AH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fb(t,e),t.unshift(e)},remove(e){var n;t=fb(t,e),(n=t[0])==null||n.resume()}}}function fb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function RH(t){return t.filter(e=>e.tagName!=="A")}var vm=0;function PH(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pb()),document.body.insertAdjacentElement("beforeend",t[1]??pb()),vm++,()=>{vm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vm--}},[])}function pb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Od="right-scroll-bar-position",Md="width-before-scroll-bar",kH="with-scroll-bars-hidden",NH="--removed-body-scroll-bar-size";function wm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function DH(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var OH=typeof window<"u"?b.useLayoutEffect:b.useEffect,mb=new WeakMap;function MH(t,e){var n=DH(null,function(r){return t.forEach(function(s){return wm(s,r)})});return OH(function(){var r=mb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||wm(a,null)}),i.forEach(function(a){s.has(a)||wm(a,o)})}mb.set(n,t)},[t]),n}function jH(t){return t}function LH(t,e){e===void 0&&(e=jH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function VH(t){t===void 0&&(t={});var e=LH(null);return e.options=pr({async:!0,ssr:!1},t),e}var Tk=function(t){var e=t.sideCar,n=Xc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,pr({},n))};Tk.isSideCarExport=!0;function FH(t,e){return t.useMedium(e),Tk}var Ik=VH(),_m=function(){},Yf=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:_m,onWheelCapture:_m,onTouchMoveCapture:_m}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,E=t.inert,y=t.allowPinchZoom,I=t.as,w=I===void 0?"div":I,_=t.gapMode,x=Xc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,P=MH([n,e]),M=pr(pr({},x),s);return b.createElement(b.Fragment,null,h&&b.createElement(C,{sideCar:Ik,removeScrollBar:u,shards:f,noIsolation:g,inert:E,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?b.cloneElement(b.Children.only(a),pr(pr({},M),{ref:P})):b.createElement(w,pr({},M,{className:l,ref:P}),a))});Yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yf.classNames={fullWidth:Md,zeroRight:Od};var UH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UH();return e&&t.setAttribute("nonce",e),t}function $H(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var HH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zH())&&($H(e,n),BH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WH=function(){var t=HH();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Sk=function(){var t=WH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},qH={left:0,top:0,right:0,gap:0},xm=function(t){return parseInt(t||"",10)||0},KH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[xm(n),xm(r),xm(s)]},GH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qH;var e=KH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},QH=Sk(),fa="data-scroll-locked",YH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Od,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(NH,": ").concat(a,`px;
  }
`)},gb=function(){var t=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(t)?t:0},XH=function(){b.useEffect(function(){return document.body.setAttribute(fa,(gb()+1).toString()),function(){var t=gb()-1;t<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,t.toString())}},[])},JH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;XH();var i=b.useMemo(function(){return GH(s)},[s]);return b.createElement(QH,{styles:YH(i,!e,s,n?"":"!important")})},ly=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return ly=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{ly=!1}var ko=ly?{passive:!1}:!1,ZH=function(t){return t.tagName==="TEXTAREA"},Ck=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!ZH(t)&&n[e]==="visible")},eW=function(t){return Ck(t,"overflowY")},tW=function(t){return Ck(t,"overflowX")},yb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ak(t,r);if(s){var i=Rk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ak=function(t,e){return t==="v"?eW(e):tW(e)},Rk=function(t,e){return t==="v"?nW(e):rW(e)},sW=function(t,e){return t==="h"&&e==="rtl"?-1:1},iW=function(t,e,n,r,s){var i=sW(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,f=0,p=0;do{var g=Rk(t,a),E=g[0],y=g[1],I=g[2],w=y-I-i*E;(E||w)&&Ak(t,a)&&(f+=w,p+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},id=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vb=function(t){return[t.deltaX,t.deltaY]},wb=function(t){return t&&"current"in t?t.current:t},oW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lW=0,No=[];function cW(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(lW++)[0],i=b.useState(Sk)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=j4([t.lockRef.current],(t.shards||[]).map(wb),!0).filter(Boolean);return y.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(y,I){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=id(y),_=n.current,x="deltaX"in y?y.deltaX:_[0]-w[0],C="deltaY"in y?y.deltaY:_[1]-w[1],P,M=y.target,S=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in y&&S==="h"&&M.type==="range")return!1;var T=yb(S,M);if(!T)return!0;if(T?P=S:(P=S==="v"?"h":"v",T=yb(S,M)),!T)return!1;if(!r.current&&"changedTouches"in y&&(x||C)&&(r.current=P),!P)return!0;var A=r.current||P;return iW(A,I,y,A==="h"?x:C)},[]),l=b.useCallback(function(y){var I=y;if(!(!No.length||No[No.length-1]!==i)){var w="deltaY"in I?vb(I):id(I),_=e.current.filter(function(P){return P.name===I.type&&(P.target===I.target||I.target===P.shadowParent)&&oW(P.delta,w)})[0];if(_&&_.should){I.cancelable&&I.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(wb).filter(Boolean).filter(function(P){return P.contains(I.target)}),C=x.length>0?a(I,x[0]):!o.current.noIsolation;C&&I.cancelable&&I.preventDefault()}}},[]),u=b.useCallback(function(y,I,w,_){var x={name:y,delta:I,target:w,should:_,shadowParent:uW(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(C){return C!==x})},1)},[]),h=b.useCallback(function(y){n.current=id(y),r.current=void 0},[]),f=b.useCallback(function(y){u(y.type,vb(y),y.target,a(y,t.lockRef.current))},[]),p=b.useCallback(function(y){u(y.type,id(y),y.target,a(y,t.lockRef.current))},[]);b.useEffect(function(){return No.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ko),document.addEventListener("touchmove",l,ko),document.addEventListener("touchstart",h,ko),function(){No=No.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,ko),document.removeEventListener("touchmove",l,ko),document.removeEventListener("touchstart",h,ko)}},[]);var g=t.removeScrollBar,E=t.inert;return b.createElement(b.Fragment,null,E?b.createElement(i,{styles:aW(s)}):null,g?b.createElement(JH,{gapMode:t.gapMode}):null)}function uW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dW=FH(Ik,cW);var Pk=b.forwardRef(function(t,e){return b.createElement(Yf,pr({},t,{ref:e,sideCar:dW}))});Pk.classNames=Yf.classNames;var hW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Do=new WeakMap,od=new WeakMap,ad={},Em=0,kk=function(t){return t&&(t.host||kk(t.parentNode))},fW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},pW=function(t,e,n,r){var s=fW(e,Array.isArray(t)?t:[t]);ad[n]||(ad[n]=new WeakMap);var i=ad[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),E=g!==null&&g!=="false",y=(Do.get(p)||0)+1,I=(i.get(p)||0)+1;Do.set(p,y),i.set(p,I),o.push(p),y===1&&E&&od.set(p,!0),I===1&&p.setAttribute(n,"true"),E||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),Em++,function(){o.forEach(function(f){var p=Do.get(f)-1,g=i.get(f)-1;Do.set(f,p),i.set(f,g),p||(od.has(f)||f.removeAttribute(r),od.delete(f)),g||f.removeAttribute(n)}),Em--,Em||(Do=new WeakMap,Do=new WeakMap,od=new WeakMap,ad={})}},mW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=hW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),pW(r,s,n,"aria-hidden")):function(){return null}},Mw="Dialog",[Nk,YW]=ls(Mw),[gW,rr]=Nk(Mw),Dk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[u=!1,h]=fo({prop:r,defaultProp:s,onChange:i});return d.jsx(gW,{scope:e,triggerRef:a,contentRef:l,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:u,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};Dk.displayName=Mw;var Ok="DialogTrigger",yW=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Ok,n),i=vt(e,s.triggerRef);return d.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vw(s.open),...r,ref:i,onClick:ye(t.onClick,s.onOpenToggle)})});yW.displayName=Ok;var jw="DialogPortal",[vW,Mk]=Nk(jw,{forceMount:void 0}),jk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rr(jw,e);return d.jsx(vW,{scope:e,forceMount:n,children:b.Children.map(r,o=>d.jsx(wi,{present:n||i.open,children:d.jsx(iv,{asChild:!0,container:s,children:o})}))})};jk.displayName=jw;var Oh="DialogOverlay",Lk=b.forwardRef((t,e)=>{const n=Mk(Oh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(Oh,t.__scopeDialog);return i.modal?d.jsx(wi,{present:r||i.open,children:d.jsx(wW,{...s,ref:e})}):null});Lk.displayName=Oh;var wW=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Oh,n);return d.jsx(Pk,{as:wc,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ie.div,{"data-state":Vw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),co="DialogContent",Vk=b.forwardRef((t,e)=>{const n=Mk(co,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(co,t.__scopeDialog);return d.jsx(wi,{present:r||i.open,children:i.modal?d.jsx(_W,{...s,ref:e}):d.jsx(xW,{...s,ref:e})})});Vk.displayName=co;var _W=b.forwardRef((t,e)=>{const n=rr(co,t.__scopeDialog),r=b.useRef(null),s=vt(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return mW(i)},[]),d.jsx(Fk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault())})}),xW=b.forwardRef((t,e)=>{const n=rr(co,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return d.jsx(Fk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Fk=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=rr(co,n),l=b.useRef(null),u=vt(e,l);return PH(),d.jsxs(d.Fragment,{children:[d.jsx(Ek,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Xh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Vw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(EW,{titleId:a.titleId}),d.jsx(TW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Lw="DialogTitle",Uk=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Lw,n);return d.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});Uk.displayName=Lw;var zk="DialogDescription",$k=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(zk,n);return d.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});$k.displayName=zk;var Bk="DialogClose",Hk=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Bk,n);return d.jsx(Ie.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});Hk.displayName=Bk;function Vw(t){return t?"open":"closed"}var Wk="DialogTitleWarning",[XW,qk]=tO(Wk,{contentName:co,titleName:Lw,docsSlug:"dialog"}),EW=({titleId:t})=>{const e=qk(Wk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},bW="DialogDescriptionWarning",TW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qk(bW).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IW=Dk,SW=jk,Kk=Lk,Gk=Vk,Qk=Uk,Yk=$k,CW=Hk;const AW=IW,RW=SW,Xk=b.forwardRef(({className:t,...e},n)=>d.jsx(Kk,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Xk.displayName=Kk.displayName;const Jk=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(RW,{children:[d.jsx(Xk,{}),d.jsxs(Gk,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(CW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(xS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jk.displayName=Gk.displayName;const Zk=({className:t,...e})=>d.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zk.displayName="DialogHeader";const e1=({className:t,...e})=>d.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});e1.displayName="DialogFooter";const t1=b.forwardRef(({className:t,...e},n)=>d.jsx(Qk,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));t1.displayName=Qk.displayName;const PW=b.forwardRef(({className:t,...e},n)=>d.jsx(Yk,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));PW.displayName=Yk.displayName;const cy=b.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cy.displayName="Input";const kW=()=>{const{user:t,isAdmin:e}=tk(),n=uf(),[r,s]=b.useState([]),[i,o]=b.useState([]),[a,l]=b.useState([]),[u,h]=b.useState([]),[f,p]=b.useState(!0),[g,E]=b.useState(!1),[y,I]=b.useState({title:"",content:"",category:"Events",imageUrl:""});b.useEffect(()=>{t&&!e?(Rn({title:"Access Denied",description:"You don't have permission to access the admin dashboard",variant:"destructive"}),n("/")):t?w():n("/login")},[t,e,n]);const w=async()=>{p(!0);try{setTimeout(()=>{s([{id:"1",title:"Fall Semester Registration",content:"Registration for Fall 2024 semester opens on July 15. Please check your student portal for your assigned registration time.",category:"Academic",date:"2024-06-20T09:00:00Z",imageUrl:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"2",title:"Campus Career Fair",content:"Join us for the annual Career Fair on September 10th in the Student Union. Over 50 companies will be present with internship and job opportunities.",category:"Events",date:"2024-06-18T14:30:00Z",imageUrl:"https://images.unsplash.com/photo-1515187029135-18ee286d815b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"3",title:"Library Hours Extended",content:"The main library will extend its hours during finals week. It will be open 24/7 from December 5-15.",category:"Notices",date:"2024-06-15T11:15:00Z",imageUrl:"https://images.unsplash.com/photo-1521587760476-6c12a4b040da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}]),o([{id:"1",title:"Calculus Textbook",description:"Used calculus textbook in good condition. Some highlighting in the first few chapters.",price:45,seller:"Alex Johnson",date:"2024-06-19T10:30:00Z",status:"active"},{id:"2",title:"Desk Lamp",description:"Adjustable desk lamp, barely used. Perfect for dorm rooms.",price:20,seller:"Taylor Wilson",date:"2024-06-17T16:45:00Z",status:"active"},{id:"3",title:"Bluetooth Speaker",description:"JBL Flip 5 in excellent condition. Great battery life and sound quality.",price:75,seller:"Sam Lee",date:"2024-06-15T11:15:00Z",status:"sold"}]),l([{id:"1",title:"Black Laptop Bag",description:"Found in the library on the 2nd floor near the computers.",location:"University Library",reportedBy:"Jamie Smith",date:"2024-06-20T14:30:00Z",status:"found"},{id:"2",title:"iPhone 13 Pro (Silver)",description:"Lost in the Student Union building around 2 PM. Has a clear case with stickers.",location:"Student Union",reportedBy:"Alex Johnson",date:"2024-06-18T16:45:00Z",status:"lost"},{id:"3",title:"Student ID Card",description:"Found near the Engineering building entrance. Student ID #78342.",location:"Engineering Building",reportedBy:"Taylor Wilson",date:"2024-06-15T09:15:00Z",status:"found"}]),h([{id:"1",name:"Alex Johnson",email:"alex@university.edu",role:"user",joinDate:"2024-01-15T10:30:00Z",status:"active"},{id:"2",name:"Taylor Wilson",email:"taylor@university.edu",role:"user",joinDate:"2024-02-20T14:45:00Z",status:"active"},{id:"3",name:"Jamie Smith",email:"jamie@university.edu",role:"admin",joinDate:"2024-01-10T09:15:00Z",status:"active"},{id:"4",name:"Sam Lee",email:"sam@university.edu",role:"user",joinDate:"2024-03-05T11:30:00Z",status:"inactive"}]),p(!1)},1e3)}catch(T){console.error("Error fetching data:",T),Rn({title:"Error",description:"Failed to load data",variant:"destructive"}),p(!1)}},_=T=>{const{name:A,value:k}=T.target;I(D=>({...D,[A]:k}))},x=T=>{T.preventDefault();const A={id:`ann_${Date.now()}`,title:y.title,content:y.content,category:y.category,date:new Date().toISOString(),imageUrl:y.imageUrl||"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"};s(k=>[A,...k]),Rn({title:"Success",description:"Announcement created successfully"}),E(!1),I({title:"",content:"",category:"Events",imageUrl:""})},C=T=>{s(A=>A.filter(k=>k.id!==T)),Rn({title:"Success",description:"Announcement deleted successfully"})},P=T=>{o(A=>A.filter(k=>k.id!==T)),Rn({title:"Success",description:"Marketplace item deleted successfully"})},M=T=>{l(A=>A.filter(k=>k.id!==T)),Rn({title:"Success",description:"Lost & Found item deleted successfully"})},S=(T,A)=>{h(k=>k.map(D=>D.id===T?{...D,role:A}:D)),Rn({title:"Success",description:`User role updated to ${A}`})};return f?d.jsx("div",{className:"min-h-screen pt-24 pb-16 flex items-center justify-center",children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-8 w-60 bg-gray-200 rounded mb-4"}),d.jsx("div",{className:"h-4 w-40 bg-gray-200 rounded mx-auto"})]})}):d.jsxs("div",{className:"min-h-screen pt-24 pb-16",children:[d.jsxs(bn,{children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Manage announcements, marketplace listings, and users"})]}),d.jsxs(EH,{defaultValue:"announcements",className:"w-full",children:[d.jsxs(xk,{className:"grid grid-cols-4 w-full max-w-xl mb-8",children:[d.jsx(jl,{value:"announcements",children:"Announcements"}),d.jsx(jl,{value:"marketplace",children:"Marketplace"}),d.jsx(jl,{value:"lostfound",children:"Lost & Found"}),d.jsx(jl,{value:"users",children:"Users"})]}),d.jsxs(Ll,{value:"announcements",children:[d.jsx("div",{className:"flex justify-end mb-6",children:d.jsx(Mt,{variant:"primary",onClick:()=>E(!0),children:"Create Announcement"})}),d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.title})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:T.category})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T2(T.date)}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{className:"text-red-600 hover:text-red-900 mr-4",onClick:()=>C(T.id),children:"Delete"}),d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})]})]},T.id))})]})})]}),d.jsx(Ll,{value:"marketplace",children:d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(T=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.title})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",T.price]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.seller}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{className:"text-red-600 hover:text-red-900 mr-4",onClick:()=>P(T.id),children:"Delete"}),d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"View"})]})]},T.id))})]})})}),d.jsx(Ll,{value:"lostfound",children:d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reported By"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(T=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.title})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.location}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.reportedBy}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.status==="found"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:T.status})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[d.jsx("button",{className:"text-red-600 hover:text-red-900 mr-4",onClick:()=>M(T.id),children:"Delete"}),d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"View"})]})]},T.id))})]})})}),d.jsx(Ll,{value:"users",children:d.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(T=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.email}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:T.role})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.role==="user"?d.jsx("button",{className:"text-purple-600 hover:text-purple-900 mr-4",onClick:()=>S(T.id,"admin"),children:"Make Admin"}):d.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-4",onClick:()=>S(T.id,"user"),children:"Make User"}),d.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})]})]},T.id))})]})})})]})]}),d.jsx(AW,{open:g,onOpenChange:E,children:d.jsxs(Jk,{className:"max-w-md",children:[d.jsx(Zk,{children:d.jsx(t1,{children:"Create Announcement"})}),d.jsxs("form",{onSubmit:x,className:"space-y-4 mt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),d.jsx(cy,{id:"title",name:"title",value:y.title,onChange:_,placeholder:"Announcement title",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),d.jsxs("select",{id:"category",name:"category",value:y.category,onChange:_,className:"w-full h-10 px-3 py-2 border border-border rounded-md",required:!0,children:[d.jsx("option",{value:"Events",children:"Events"}),d.jsx("option",{value:"Academic",children:"Academic"}),d.jsx("option",{value:"Notices",children:"Notices"}),d.jsx("option",{value:"Opportunities",children:"Opportunities"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Content"}),d.jsx("textarea",{id:"content",name:"content",value:y.content,onChange:_,className:"w-full px-3 py-2 border border-border rounded-md min-h-[100px]",placeholder:"Announcement content...",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"imageUrl",className:"text-sm font-medium",children:"Image URL (Optional)"}),d.jsx(cy,{id:"imageUrl",name:"imageUrl",value:y.imageUrl,onChange:_,placeholder:"https://example.com/image.jpg"})]}),d.jsxs(e1,{children:[d.jsx(Mt,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),d.jsx(Mt,{type:"submit",variant:"primary",children:"Create"})]})]})]})})]})},NW=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),{user:s,logout:i,isAdmin:o}=tk(),a=Kc();b.useEffect(()=>{const h=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),b.useEffect(()=>{r(!1)},[a.pathname]);const l=[{name:"Home",path:"/"},{name:"Announcements",path:"/announcements"},{name:"Marketplace",path:"/marketplace"},{name:"Lost & Found",path:"/lost-found"},{name:"Notes",path:"/notes"}],u=h=>a.pathname===h;return d.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-black/90 shadow-md py-3":"bg-transparent py-5"}`,children:d.jsxs(bn,{children:[d.jsxs("nav",{className:"flex items-center justify-between",children:[d.jsxs(Fe,{to:"/",className:"flex items-center space-x-2",children:[d.jsx("div",{className:"h-8 w-8 rounded-lg bg-white flex items-center justify-center",children:d.jsx("span",{className:"text-black font-bold text-lg",children:"U+"})}),d.jsx("span",{className:"font-bold text-xl text-white hidden sm:inline-block",children:"UniPlus"})]}),d.jsx("ul",{className:"hidden md:flex items-center space-x-8",children:l.map(h=>d.jsx("li",{children:d.jsx(Fe,{to:h.path,className:`text-sm font-medium text-white transition-colors ${u(h.path)?"font-semibold text-lg ":"hover:opacity-90"}`,children:h.name})},h.name))}),d.jsx("div",{className:"hidden md:flex items-center space-x-4",children:s?d.jsxs("div",{className:"flex items-center space-x-4",children:[o&&d.jsx(Fe,{to:"/admin",children:d.jsx(Mt,{variant:"outline",size:"sm",children:"Admin"})}),d.jsx("div",{className:"text-sm font-medium text-white",children:(s==null?void 0:s.name)||"User"}),d.jsx(Mt,{variant:"outline",className:"text-white border-white px-3 py-1 text-sm font-bold transition-all duration-300 hover:scale-105 hover:text-white",size:"sm",onClick:i,children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Fe,{to:"/login",children:d.jsx(Mt,{variant:"outline",size:"sm",className:"text-white border-white shadow-none hover:text-white px-4 py-2 text-sm w-auto",children:"Login"})}),d.jsx(Fe,{to:"/signup",children:d.jsx(Mt,{variant:"primary",size:"sm",className:"custom-signup-button px-4 py-2 text-white rounded-md text-sm whitespace-nowrap shadow-none w-auto",children:"Sign Up"})})]})}),d.jsx("button",{className:"md:hidden p-2 rounded-md text-white",onClick:()=>r(!n),"aria-label":"Toggle menu",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",children:n?d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&d.jsxs("div",{className:"md:hidden pt-4 pb-3 border-t mt-3 bg-black text-white animate-fade-in",children:[d.jsx("ul",{className:"flex flex-col space-y-4 mb-6",children:l.map(h=>d.jsx("li",{children:d.jsx(Fe,{to:h.path,onClick:()=>r(!1),className:`text-sm font-medium block transition-colors ${u(h.path)?"font-semibold underline":"hover:opacity-80"}`,children:h.name})},h.name))}),d.jsx("div",{className:"flex flex-col space-y-3",children:s?d.jsxs(d.Fragment,{children:[o&&d.jsx(Fe,{to:"/admin",className:"w-full",onClick:()=>r(!1),children:d.jsx(Mt,{variant:"outline",size:"sm",className:"w-full text-white border-white",children:"Admin"})}),d.jsx("div",{className:"text-sm font-medium text-white",children:(s==null?void 0:s.name)||"User"}),d.jsx(Mt,{variant:"outline",size:"sm",onClick:i,className:"text-white border-white",children:"Logout"})]}):d.jsxs(d.Fragment,{children:[d.jsx(Fe,{to:"/login",className:"w-full",onClick:()=>r(!1),children:d.jsx(Mt,{variant:"outline",size:"sm",className:"w-full text-white border-white",children:"Login"})}),d.jsx(Fe,{to:"/signup",className:"w-full",onClick:()=>r(!1),children:d.jsx(Mt,{variant:"primary",size:"sm",className:"w-full text-white bg-white/20 hover:bg-white/30",children:"Sign Up"})})]})})]})]})})},DW=()=>{const t=new Date().getFullYear(),e=[{title:"Platform",links:[{name:"Home",path:"/"},{name:"Announcements",path:"/announcements"},{name:"Marketplace",path:"/marketplace"},{name:"Lost & Found",path:"/lost-found"},{name:"Notes and Exam papers",path:"/notes"}]},{title:"Resources",links:[{name:"Help Center",path:"/help"},{name:"Privacy Policy",path:"/privacy"},{name:"Terms of Service",path:"/terms"}]},{title:"Company",links:[{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"},{name:"Press",path:"/press"}]}];return d.jsx("footer",{className:"bg-white border-t py-12 md:py-16 text-black",children:d.jsxs(bn,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[d.jsxs("div",{children:[d.jsxs(Fe,{to:"/",className:"flex items-center space-x-2 mb-4",children:[d.jsx("div",{className:"h-8 w-8 rounded-lg bg-black flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:"U+"})}),d.jsx("span",{className:"font-bold text-xl text-black",children:"UniPlus"})]}),d.jsx("p",{className:"text-sm text-black",children:"A comprehensive platform for university students and staff."})]}),e.map(n=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-sm mb-3 text-black",children:n.title}),d.jsx("ul",{className:"space-y-2",children:n.links.map(r=>d.jsx("li",{children:d.jsx(Fe,{to:r.path,className:"text-sm text-black hover:text-gray-700 transition-colors",children:r.name})},r.name))})]},n.title))]}),d.jsxs("div",{className:"border-t mt-10 pt-10 flex flex-col md:flex-row md:items-center justify-between",children:[d.jsxs("p",{className:"text-sm text-black",children:[" ",t," UniPlus. All rights reserved."]}),d.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[d.jsx(Fe,{to:"/privacy",className:"text-xs text-black hover:text-gray-700 transition-colors",children:"Privacy Policy"}),d.jsx(Fe,{to:"/terms",className:"text-xs text-black hover:text-gray-700 transition-colors",children:"Terms of Service"})]})]})]})})},OW=new nL,MW=()=>d.jsx(sL,{client:OW,children:d.jsx(oH,{children:d.jsxs(Dj,{children:[d.jsx(A2,{}),d.jsx(oM,{}),d.jsx(nV,{children:d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(NW,{}),d.jsx("main",{className:"flex-grow",children:d.jsxs(QL,{children:[d.jsx(pt,{path:"/",element:d.jsx(ZF,{})}),d.jsx(pt,{path:"/login",element:d.jsx(I9,{})}),d.jsx(pt,{path:"/signup",element:d.jsx(C9,{})}),d.jsx(pt,{path:"/announcements",element:d.jsx(A9,{})}),d.jsx(pt,{path:"/marketplace",element:d.jsx(P9,{})}),d.jsx(pt,{path:"/lost-found",element:d.jsx(k9,{})}),d.jsx(pt,{path:"/notes",element:d.jsx(S9,{})}),d.jsx(pt,{path:"/help",element:d.jsx(J9,{})}),d.jsx(pt,{path:"/privacy",element:d.jsx(Z9,{})}),d.jsx(pt,{path:"/about",element:d.jsx(eH,{})}),d.jsx(pt,{path:"/admin",element:d.jsx(kW,{})}),d.jsx(pt,{path:"/community",element:d.jsx(tH,{})}),"  ",d.jsx(pt,{path:"/contact",element:d.jsx(sH,{})}),"  ",d.jsx(pt,{path:"/press",element:d.jsx(rH,{})}),"  ",d.jsx(pt,{path:"/service",element:d.jsx(nH,{})}),"  ",d.jsx(pt,{path:"/terms",element:d.jsx(iH,{})}),"  ",d.jsx(pt,{path:"*",element:d.jsx(eU,{})})]})}),d.jsx(DW,{})]})})]})})}),_b=document.getElementById("root");_b?WI(_b).render(d.jsx(H.StrictMode,{children:d.jsx(MW,{})})):console.error("Root element not found!");
